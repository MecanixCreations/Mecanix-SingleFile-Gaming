<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Sand Game JS</title>
  <script integrity="sha256-BbhdlvQf/xTY9gja0Dq3HiwQF8LaCRTXxZKRutelT44=" crossorigin="anonymous">/*! jQuery v2.2.4 | (c) jQuery Foundation | jquery.org/license */
  !function(a,b){"object"==typeof module&&"object"==typeof module.exports?module.exports=a.document?b(a,!0):function(a){if(!a.document)throw new Error("jQuery requires a window with a document");return b(a)}:b(a)}("undefined"!=typeof window?window:this,function(a,b){var c=[],d=a.document,e=c.slice,f=c.concat,g=c.push,h=c.indexOf,i={},j=i.toString,k=i.hasOwnProperty,l={},m="2.2.4",n=function(a,b){return new n.fn.init(a,b)},o=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,p=/^-ms-/,q=/-([\da-z])/gi,r=function(a,b){return b.toUpperCase()};n.fn=n.prototype={jquery:m,constructor:n,selector:"",length:0,toArray:function(){return e.call(this)},get:function(a){return null!=a?0>a?this[a+this.length]:this[a]:e.call(this)},pushStack:function(a){var b=n.merge(this.constructor(),a);return b.prevObject=this,b.context=this.context,b},each:function(a){return n.each(this,a)},map:function(a){return this.pushStack(n.map(this,function(b,c){return a.call(b,c,b)}))},slice:function(){return this.pushStack(e.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(a){var b=this.length,c=+a+(0>a?b:0);return this.pushStack(c>=0&&b>c?[this[c]]:[])},end:function(){return this.prevObject||this.constructor()},push:g,sort:c.sort,splice:c.splice},n.extend=n.fn.extend=function(){var a,b,c,d,e,f,g=arguments[0]||{},h=1,i=arguments.length,j=!1;for("boolean"==typeof g&&(j=g,g=arguments[h]||{},h++),"object"==typeof g||n.isFunction(g)||(g={}),h===i&&(g=this,h--);i>h;h++)if(null!=(a=arguments[h]))for(b in a)c=g[b],d=a[b],g!==d&&(j&&d&&(n.isPlainObject(d)||(e=n.isArray(d)))?(e?(e=!1,f=c&&n.isArray(c)?c:[]):f=c&&n.isPlainObject(c)?c:{},g[b]=n.extend(j,f,d)):void 0!==d&&(g[b]=d));return g},n.extend({expando:"jQuery"+(m+Math.random()).replace(/\D/g,""),isReady:!0,error:function(a){throw new Error(a)},noop:function(){},isFunction:function(a){return"function"===n.type(a)},isArray:Array.isArray,isWindow:function(a){return null!=a&&a===a.window},isNumeric:function(a){var b=a&&a.toString();return!n.isArray(a)&&b-parseFloat(b)+1>=0},isPlainObject:function(a){var b;if("object"!==n.type(a)||a.nodeType||n.isWindow(a))return!1;if(a.constructor&&!k.call(a,"constructor")&&!k.call(a.constructor.prototype||{},"isPrototypeOf"))return!1;for(b in a);return void 0===b||k.call(a,b)},isEmptyObject:function(a){var b;for(b in a)return!1;return!0},type:function(a){return null==a?a+"":"object"==typeof a||"function"==typeof a?i[j.call(a)]||"object":typeof a},globalEval:function(a){var b,c=eval;a=n.trim(a),a&&(1===a.indexOf("use strict")?(b=d.createElement("script"),b.text=a,d.head.appendChild(b).parentNode.removeChild(b)):c(a))},camelCase:function(a){return a.replace(p,"ms-").replace(q,r)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()},each:function(a,b){var c,d=0;if(s(a)){for(c=a.length;c>d;d++)if(b.call(a[d],d,a[d])===!1)break}else for(d in a)if(b.call(a[d],d,a[d])===!1)break;return a},trim:function(a){return null==a?"":(a+"").replace(o,"")},makeArray:function(a,b){var c=b||[];return null!=a&&(s(Object(a))?n.merge(c,"string"==typeof a?[a]:a):g.call(c,a)),c},inArray:function(a,b,c){return null==b?-1:h.call(b,a,c)},merge:function(a,b){for(var c=+b.length,d=0,e=a.length;c>d;d++)a[e++]=b[d];return a.length=e,a},grep:function(a,b,c){for(var d,e=[],f=0,g=a.length,h=!c;g>f;f++)d=!b(a[f],f),d!==h&&e.push(a[f]);return e},map:function(a,b,c){var d,e,g=0,h=[];if(s(a))for(d=a.length;d>g;g++)e=b(a[g],g,c),null!=e&&h.push(e);else for(g in a)e=b(a[g],g,c),null!=e&&h.push(e);return f.apply([],h)},guid:1,proxy:function(a,b){var c,d,f;return"string"==typeof b&&(c=a[b],b=a,a=c),n.isFunction(a)?(d=e.call(arguments,2),f=function(){return a.apply(b||this,d.concat(e.call(arguments)))},f.guid=a.guid=a.guid||n.guid++,f):void 0},now:Date.now,support:l}),"function"==typeof Symbol&&(n.fn[Symbol.iterator]=c[Symbol.iterator]),n.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(a,b){i["[object "+b+"]"]=b.toLowerCase()});function s(a){var b=!!a&&"length"in a&&a.length,c=n.type(a);return"function"===c||n.isWindow(a)?!1:"array"===c||0===b||"number"==typeof b&&b>0&&b-1 in a}var t=function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u="sizzle"+1*new Date,v=a.document,w=0,x=0,y=ga(),z=ga(),A=ga(),B=function(a,b){return a===b&&(l=!0),0},C=1<<31,D={}.hasOwnProperty,E=[],F=E.pop,G=E.push,H=E.push,I=E.slice,J=function(a,b){for(var c=0,d=a.length;d>c;c++)if(a[c]===b)return c;return-1},K="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",L="[\\x20\\t\\r\\n\\f]",M="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",N="\\["+L+"*("+M+")(?:"+L+"*([*^$|!~]?=)"+L+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+M+"))|)"+L+"*\\]",O=":("+M+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+N+")*)|.*)\\)|)",P=new RegExp(L+"+","g"),Q=new RegExp("^"+L+"+|((?:^|[^\\\\])(?:\\\\.)*)"+L+"+$","g"),R=new RegExp("^"+L+"*,"+L+"*"),S=new RegExp("^"+L+"*([>+~]|"+L+")"+L+"*"),T=new RegExp("="+L+"*([^\\]'\"]*?)"+L+"*\\]","g"),U=new RegExp(O),V=new RegExp("^"+M+"$"),W={ID:new RegExp("^#("+M+")"),CLASS:new RegExp("^\\.("+M+")"),TAG:new RegExp("^("+M+"|[*])"),ATTR:new RegExp("^"+N),PSEUDO:new RegExp("^"+O),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+L+"*(even|odd|(([+-]|)(\\d*)n|)"+L+"*(?:([+-]|)"+L+"*(\\d+)|))"+L+"*\\)|)","i"),bool:new RegExp("^(?:"+K+")$","i"),needsContext:new RegExp("^"+L+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+L+"*((?:-\\d)?\\d*)"+L+"*\\)|)(?=[^-]|$)","i")},X=/^(?:input|select|textarea|button)$/i,Y=/^h\d$/i,Z=/^[^{]+\{\s*\[native \w/,$=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,_=/[+~]/,aa=/'|\\/g,ba=new RegExp("\\\\([\\da-f]{1,6}"+L+"?|("+L+")|.)","ig"),ca=function(a,b,c){var d="0x"+b-65536;return d!==d||c?b:0>d?String.fromCharCode(d+65536):String.fromCharCode(d>>10|55296,1023&d|56320)},da=function(){m()};try{H.apply(E=I.call(v.childNodes),v.childNodes),E[v.childNodes.length].nodeType}catch(ea){H={apply:E.length?function(a,b){G.apply(a,I.call(b))}:function(a,b){var c=a.length,d=0;while(a[c++]=b[d++]);a.length=c-1}}}function fa(a,b,d,e){var f,h,j,k,l,o,r,s,w=b&&b.ownerDocument,x=b?b.nodeType:9;if(d=d||[],"string"!=typeof a||!a||1!==x&&9!==x&&11!==x)return d;if(!e&&((b?b.ownerDocument||b:v)!==n&&m(b),b=b||n,p)){if(11!==x&&(o=$.exec(a)))if(f=o[1]){if(9===x){if(!(j=b.getElementById(f)))return d;if(j.id===f)return d.push(j),d}else if(w&&(j=w.getElementById(f))&&t(b,j)&&j.id===f)return d.push(j),d}else{if(o[2])return H.apply(d,b.getElementsByTagName(a)),d;if((f=o[3])&&c.getElementsByClassName&&b.getElementsByClassName)return H.apply(d,b.getElementsByClassName(f)),d}if(c.qsa&&!A[a+" "]&&(!q||!q.test(a))){if(1!==x)w=b,s=a;else if("object"!==b.nodeName.toLowerCase()){(k=b.getAttribute("id"))?k=k.replace(aa,"\\$&"):b.setAttribute("id",k=u),r=g(a),h=r.length,l=V.test(k)?"#"+k:"[id='"+k+"']";while(h--)r[h]=l+" "+qa(r[h]);s=r.join(","),w=_.test(a)&&oa(b.parentNode)||b}if(s)try{return H.apply(d,w.querySelectorAll(s)),d}catch(y){}finally{k===u&&b.removeAttribute("id")}}}return i(a.replace(Q,"$1"),b,d,e)}function ga(){var a=[];function b(c,e){return a.push(c+" ")>d.cacheLength&&delete b[a.shift()],b[c+" "]=e}return b}function ha(a){return a[u]=!0,a}function ia(a){var b=n.createElement("div");try{return!!a(b)}catch(c){return!1}finally{b.parentNode&&b.parentNode.removeChild(b),b=null}}function ja(a,b){var c=a.split("|"),e=c.length;while(e--)d.attrHandle[c[e]]=b}function ka(a,b){var c=b&&a,d=c&&1===a.nodeType&&1===b.nodeType&&(~b.sourceIndex||C)-(~a.sourceIndex||C);if(d)return d;if(c)while(c=c.nextSibling)if(c===b)return-1;return a?1:-1}function la(a){return function(b){var c=b.nodeName.toLowerCase();return"input"===c&&b.type===a}}function ma(a){return function(b){var c=b.nodeName.toLowerCase();return("input"===c||"button"===c)&&b.type===a}}function na(a){return ha(function(b){return b=+b,ha(function(c,d){var e,f=a([],c.length,b),g=f.length;while(g--)c[e=f[g]]&&(c[e]=!(d[e]=c[e]))})})}function oa(a){return a&&"undefined"!=typeof a.getElementsByTagName&&a}c=fa.support={},f=fa.isXML=function(a){var b=a&&(a.ownerDocument||a).documentElement;return b?"HTML"!==b.nodeName:!1},m=fa.setDocument=function(a){var b,e,g=a?a.ownerDocument||a:v;return g!==n&&9===g.nodeType&&g.documentElement?(n=g,o=n.documentElement,p=!f(n),(e=n.defaultView)&&e.top!==e&&(e.addEventListener?e.addEventListener("unload",da,!1):e.attachEvent&&e.attachEvent("onunload",da)),c.attributes=ia(function(a){return a.className="i",!a.getAttribute("className")}),c.getElementsByTagName=ia(function(a){return a.appendChild(n.createComment("")),!a.getElementsByTagName("*").length}),c.getElementsByClassName=Z.test(n.getElementsByClassName),c.getById=ia(function(a){return o.appendChild(a).id=u,!n.getElementsByName||!n.getElementsByName(u).length}),c.getById?(d.find.ID=function(a,b){if("undefined"!=typeof b.getElementById&&p){var c=b.getElementById(a);return c?[c]:[]}},d.filter.ID=function(a){var b=a.replace(ba,ca);return function(a){return a.getAttribute("id")===b}}):(delete d.find.ID,d.filter.ID=function(a){var b=a.replace(ba,ca);return function(a){var c="undefined"!=typeof a.getAttributeNode&&a.getAttributeNode("id");return c&&c.value===b}}),d.find.TAG=c.getElementsByTagName?function(a,b){return"undefined"!=typeof b.getElementsByTagName?b.getElementsByTagName(a):c.qsa?b.querySelectorAll(a):void 0}:function(a,b){var c,d=[],e=0,f=b.getElementsByTagName(a);if("*"===a){while(c=f[e++])1===c.nodeType&&d.push(c);return d}return f},d.find.CLASS=c.getElementsByClassName&&function(a,b){return"undefined"!=typeof b.getElementsByClassName&&p?b.getElementsByClassName(a):void 0},r=[],q=[],(c.qsa=Z.test(n.querySelectorAll))&&(ia(function(a){o.appendChild(a).innerHTML="<a id='"+u+"'></a><select id='"+u+"-\r\\' msallowcapture=''><option selected=''></option></select>",a.querySelectorAll("[msallowcapture^='']").length&&q.push("[*^$]="+L+"*(?:''|\"\")"),a.querySelectorAll("[selected]").length||q.push("\\["+L+"*(?:value|"+K+")"),a.querySelectorAll("[id~="+u+"-]").length||q.push("~="),a.querySelectorAll(":checked").length||q.push(":checked"),a.querySelectorAll("a#"+u+"+*").length||q.push(".#.+[+~]")}),ia(function(a){var b=n.createElement("input");b.setAttribute("type","hidden"),a.appendChild(b).setAttribute("name","D"),a.querySelectorAll("[name=d]").length&&q.push("name"+L+"*[*^$|!~]?="),a.querySelectorAll(":enabled").length||q.push(":enabled",":disabled"),a.querySelectorAll("*,:x"),q.push(",.*:")})),(c.matchesSelector=Z.test(s=o.matches||o.webkitMatchesSelector||o.mozMatchesSelector||o.oMatchesSelector||o.msMatchesSelector))&&ia(function(a){c.disconnectedMatch=s.call(a,"div"),s.call(a,"[s!='']:x"),r.push("!=",O)}),q=q.length&&new RegExp(q.join("|")),r=r.length&&new RegExp(r.join("|")),b=Z.test(o.compareDocumentPosition),t=b||Z.test(o.contains)?function(a,b){var c=9===a.nodeType?a.documentElement:a,d=b&&b.parentNode;return a===d||!(!d||1!==d.nodeType||!(c.contains?c.contains(d):a.compareDocumentPosition&&16&a.compareDocumentPosition(d)))}:function(a,b){if(b)while(b=b.parentNode)if(b===a)return!0;return!1},B=b?function(a,b){if(a===b)return l=!0,0;var d=!a.compareDocumentPosition-!b.compareDocumentPosition;return d?d:(d=(a.ownerDocument||a)===(b.ownerDocument||b)?a.compareDocumentPosition(b):1,1&d||!c.sortDetached&&b.compareDocumentPosition(a)===d?a===n||a.ownerDocument===v&&t(v,a)?-1:b===n||b.ownerDocument===v&&t(v,b)?1:k?J(k,a)-J(k,b):0:4&d?-1:1)}:function(a,b){if(a===b)return l=!0,0;var c,d=0,e=a.parentNode,f=b.parentNode,g=[a],h=[b];if(!e||!f)return a===n?-1:b===n?1:e?-1:f?1:k?J(k,a)-J(k,b):0;if(e===f)return ka(a,b);c=a;while(c=c.parentNode)g.unshift(c);c=b;while(c=c.parentNode)h.unshift(c);while(g[d]===h[d])d++;return d?ka(g[d],h[d]):g[d]===v?-1:h[d]===v?1:0},n):n},fa.matches=function(a,b){return fa(a,null,null,b)},fa.matchesSelector=function(a,b){if((a.ownerDocument||a)!==n&&m(a),b=b.replace(T,"='$1']"),c.matchesSelector&&p&&!A[b+" "]&&(!r||!r.test(b))&&(!q||!q.test(b)))try{var d=s.call(a,b);if(d||c.disconnectedMatch||a.document&&11!==a.document.nodeType)return d}catch(e){}return fa(b,n,null,[a]).length>0},fa.contains=function(a,b){return(a.ownerDocument||a)!==n&&m(a),t(a,b)},fa.attr=function(a,b){(a.ownerDocument||a)!==n&&m(a);var e=d.attrHandle[b.toLowerCase()],f=e&&D.call(d.attrHandle,b.toLowerCase())?e(a,b,!p):void 0;return void 0!==f?f:c.attributes||!p?a.getAttribute(b):(f=a.getAttributeNode(b))&&f.specified?f.value:null},fa.error=function(a){throw new Error("Syntax error, unrecognized expression: "+a)},fa.uniqueSort=function(a){var b,d=[],e=0,f=0;if(l=!c.detectDuplicates,k=!c.sortStable&&a.slice(0),a.sort(B),l){while(b=a[f++])b===a[f]&&(e=d.push(f));while(e--)a.splice(d[e],1)}return k=null,a},e=fa.getText=function(a){var b,c="",d=0,f=a.nodeType;if(f){if(1===f||9===f||11===f){if("string"==typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)c+=e(a)}else if(3===f||4===f)return a.nodeValue}else while(b=a[d++])c+=e(b);return c},d=fa.selectors={cacheLength:50,createPseudo:ha,match:W,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){return a[1]=a[1].replace(ba,ca),a[3]=(a[3]||a[4]||a[5]||"").replace(ba,ca),"~="===a[2]&&(a[3]=" "+a[3]+" "),a.slice(0,4)},CHILD:function(a){return a[1]=a[1].toLowerCase(),"nth"===a[1].slice(0,3)?(a[3]||fa.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*("even"===a[3]||"odd"===a[3])),a[5]=+(a[7]+a[8]||"odd"===a[3])):a[3]&&fa.error(a[0]),a},PSEUDO:function(a){var b,c=!a[6]&&a[2];return W.CHILD.test(a[0])?null:(a[3]?a[2]=a[4]||a[5]||"":c&&U.test(c)&&(b=g(c,!0))&&(b=c.indexOf(")",c.length-b)-c.length)&&(a[0]=a[0].slice(0,b),a[2]=c.slice(0,b)),a.slice(0,3))}},filter:{TAG:function(a){var b=a.replace(ba,ca).toLowerCase();return"*"===a?function(){return!0}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===b}},CLASS:function(a){var b=y[a+" "];return b||(b=new RegExp("(^|"+L+")"+a+"("+L+"|$)"))&&y(a,function(a){return b.test("string"==typeof a.className&&a.className||"undefined"!=typeof a.getAttribute&&a.getAttribute("class")||"")})},ATTR:function(a,b,c){return function(d){var e=fa.attr(d,a);return null==e?"!="===b:b?(e+="","="===b?e===c:"!="===b?e!==c:"^="===b?c&&0===e.indexOf(c):"*="===b?c&&e.indexOf(c)>-1:"$="===b?c&&e.slice(-c.length)===c:"~="===b?(" "+e.replace(P," ")+" ").indexOf(c)>-1:"|="===b?e===c||e.slice(0,c.length+1)===c+"-":!1):!0}},CHILD:function(a,b,c,d,e){var f="nth"!==a.slice(0,3),g="last"!==a.slice(-4),h="of-type"===b;return 1===d&&0===e?function(a){return!!a.parentNode}:function(b,c,i){var j,k,l,m,n,o,p=f!==g?"nextSibling":"previousSibling",q=b.parentNode,r=h&&b.nodeName.toLowerCase(),s=!i&&!h,t=!1;if(q){if(f){while(p){m=b;while(m=m[p])if(h?m.nodeName.toLowerCase()===r:1===m.nodeType)return!1;o=p="only"===a&&!o&&"nextSibling"}return!0}if(o=[g?q.firstChild:q.lastChild],g&&s){m=q,l=m[u]||(m[u]={}),k=l[m.uniqueID]||(l[m.uniqueID]={}),j=k[a]||[],n=j[0]===w&&j[1],t=n&&j[2],m=n&&q.childNodes[n];while(m=++n&&m&&m[p]||(t=n=0)||o.pop())if(1===m.nodeType&&++t&&m===b){k[a]=[w,n,t];break}}else if(s&&(m=b,l=m[u]||(m[u]={}),k=l[m.uniqueID]||(l[m.uniqueID]={}),j=k[a]||[],n=j[0]===w&&j[1],t=n),t===!1)while(m=++n&&m&&m[p]||(t=n=0)||o.pop())if((h?m.nodeName.toLowerCase()===r:1===m.nodeType)&&++t&&(s&&(l=m[u]||(m[u]={}),k=l[m.uniqueID]||(l[m.uniqueID]={}),k[a]=[w,t]),m===b))break;return t-=e,t===d||t%d===0&&t/d>=0}}},PSEUDO:function(a,b){var c,e=d.pseudos[a]||d.setFilters[a.toLowerCase()]||fa.error("unsupported pseudo: "+a);return e[u]?e(b):e.length>1?(c=[a,a,"",b],d.setFilters.hasOwnProperty(a.toLowerCase())?ha(function(a,c){var d,f=e(a,b),g=f.length;while(g--)d=J(a,f[g]),a[d]=!(c[d]=f[g])}):function(a){return e(a,0,c)}):e}},pseudos:{not:ha(function(a){var b=[],c=[],d=h(a.replace(Q,"$1"));return d[u]?ha(function(a,b,c,e){var f,g=d(a,null,e,[]),h=a.length;while(h--)(f=g[h])&&(a[h]=!(b[h]=f))}):function(a,e,f){return b[0]=a,d(b,null,f,c),b[0]=null,!c.pop()}}),has:ha(function(a){return function(b){return fa(a,b).length>0}}),contains:ha(function(a){return a=a.replace(ba,ca),function(b){return(b.textContent||b.innerText||e(b)).indexOf(a)>-1}}),lang:ha(function(a){return V.test(a||"")||fa.error("unsupported lang: "+a),a=a.replace(ba,ca).toLowerCase(),function(b){var c;do if(c=p?b.lang:b.getAttribute("xml:lang")||b.getAttribute("lang"))return c=c.toLowerCase(),c===a||0===c.indexOf(a+"-");while((b=b.parentNode)&&1===b.nodeType);return!1}}),target:function(b){var c=a.location&&a.location.hash;return c&&c.slice(1)===b.id},root:function(a){return a===o},focus:function(a){return a===n.activeElement&&(!n.hasFocus||n.hasFocus())&&!!(a.type||a.href||~a.tabIndex)},enabled:function(a){return a.disabled===!1},disabled:function(a){return a.disabled===!0},checked:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&!!a.checked||"option"===b&&!!a.selected},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,a.selected===!0},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling)if(a.nodeType<6)return!1;return!0},parent:function(a){return!d.pseudos.empty(a)},header:function(a){return Y.test(a.nodeName)},input:function(a){return X.test(a.nodeName)},button:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&"button"===a.type||"button"===b},text:function(a){var b;return"input"===a.nodeName.toLowerCase()&&"text"===a.type&&(null==(b=a.getAttribute("type"))||"text"===b.toLowerCase())},first:na(function(){return[0]}),last:na(function(a,b){return[b-1]}),eq:na(function(a,b,c){return[0>c?c+b:c]}),even:na(function(a,b){for(var c=0;b>c;c+=2)a.push(c);return a}),odd:na(function(a,b){for(var c=1;b>c;c+=2)a.push(c);return a}),lt:na(function(a,b,c){for(var d=0>c?c+b:c;--d>=0;)a.push(d);return a}),gt:na(function(a,b,c){for(var d=0>c?c+b:c;++d<b;)a.push(d);return a})}},d.pseudos.nth=d.pseudos.eq;for(b in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})d.pseudos[b]=la(b);for(b in{submit:!0,reset:!0})d.pseudos[b]=ma(b);function pa(){}pa.prototype=d.filters=d.pseudos,d.setFilters=new pa,g=fa.tokenize=function(a,b){var c,e,f,g,h,i,j,k=z[a+" "];if(k)return b?0:k.slice(0);h=a,i=[],j=d.preFilter;while(h){c&&!(e=R.exec(h))||(e&&(h=h.slice(e[0].length)||h),i.push(f=[])),c=!1,(e=S.exec(h))&&(c=e.shift(),f.push({value:c,type:e[0].replace(Q," ")}),h=h.slice(c.length));for(g in d.filter)!(e=W[g].exec(h))||j[g]&&!(e=j[g](e))||(c=e.shift(),f.push({value:c,type:g,matches:e}),h=h.slice(c.length));if(!c)break}return b?h.length:h?fa.error(a):z(a,i).slice(0)};function qa(a){for(var b=0,c=a.length,d="";c>b;b++)d+=a[b].value;return d}function ra(a,b,c){var d=b.dir,e=c&&"parentNode"===d,f=x++;return b.first?function(b,c,f){while(b=b[d])if(1===b.nodeType||e)return a(b,c,f)}:function(b,c,g){var h,i,j,k=[w,f];if(g){while(b=b[d])if((1===b.nodeType||e)&&a(b,c,g))return!0}else while(b=b[d])if(1===b.nodeType||e){if(j=b[u]||(b[u]={}),i=j[b.uniqueID]||(j[b.uniqueID]={}),(h=i[d])&&h[0]===w&&h[1]===f)return k[2]=h[2];if(i[d]=k,k[2]=a(b,c,g))return!0}}}function sa(a){return a.length>1?function(b,c,d){var e=a.length;while(e--)if(!a[e](b,c,d))return!1;return!0}:a[0]}function ta(a,b,c){for(var d=0,e=b.length;e>d;d++)fa(a,b[d],c);return c}function ua(a,b,c,d,e){for(var f,g=[],h=0,i=a.length,j=null!=b;i>h;h++)(f=a[h])&&(c&&!c(f,d,e)||(g.push(f),j&&b.push(h)));return g}function va(a,b,c,d,e,f){return d&&!d[u]&&(d=va(d)),e&&!e[u]&&(e=va(e,f)),ha(function(f,g,h,i){var j,k,l,m=[],n=[],o=g.length,p=f||ta(b||"*",h.nodeType?[h]:h,[]),q=!a||!f&&b?p:ua(p,m,a,h,i),r=c?e||(f?a:o||d)?[]:g:q;if(c&&c(q,r,h,i),d){j=ua(r,n),d(j,[],h,i),k=j.length;while(k--)(l=j[k])&&(r[n[k]]=!(q[n[k]]=l))}if(f){if(e||a){if(e){j=[],k=r.length;while(k--)(l=r[k])&&j.push(q[k]=l);e(null,r=[],j,i)}k=r.length;while(k--)(l=r[k])&&(j=e?J(f,l):m[k])>-1&&(f[j]=!(g[j]=l))}}else r=ua(r===g?r.splice(o,r.length):r),e?e(null,g,r,i):H.apply(g,r)})}function wa(a){for(var b,c,e,f=a.length,g=d.relative[a[0].type],h=g||d.relative[" "],i=g?1:0,k=ra(function(a){return a===b},h,!0),l=ra(function(a){return J(b,a)>-1},h,!0),m=[function(a,c,d){var e=!g&&(d||c!==j)||((b=c).nodeType?k(a,c,d):l(a,c,d));return b=null,e}];f>i;i++)if(c=d.relative[a[i].type])m=[ra(sa(m),c)];else{if(c=d.filter[a[i].type].apply(null,a[i].matches),c[u]){for(e=++i;f>e;e++)if(d.relative[a[e].type])break;return va(i>1&&sa(m),i>1&&qa(a.slice(0,i-1).concat({value:" "===a[i-2].type?"*":""})).replace(Q,"$1"),c,e>i&&wa(a.slice(i,e)),f>e&&wa(a=a.slice(e)),f>e&&qa(a))}m.push(c)}return sa(m)}function xa(a,b){var c=b.length>0,e=a.length>0,f=function(f,g,h,i,k){var l,o,q,r=0,s="0",t=f&&[],u=[],v=j,x=f||e&&d.find.TAG("*",k),y=w+=null==v?1:Math.random()||.1,z=x.length;for(k&&(j=g===n||g||k);s!==z&&null!=(l=x[s]);s++){if(e&&l){o=0,g||l.ownerDocument===n||(m(l),h=!p);while(q=a[o++])if(q(l,g||n,h)){i.push(l);break}k&&(w=y)}c&&((l=!q&&l)&&r--,f&&t.push(l))}if(r+=s,c&&s!==r){o=0;while(q=b[o++])q(t,u,g,h);if(f){if(r>0)while(s--)t[s]||u[s]||(u[s]=F.call(i));u=ua(u)}H.apply(i,u),k&&!f&&u.length>0&&r+b.length>1&&fa.uniqueSort(i)}return k&&(w=y,j=v),t};return c?ha(f):f}return h=fa.compile=function(a,b){var c,d=[],e=[],f=A[a+" "];if(!f){b||(b=g(a)),c=b.length;while(c--)f=wa(b[c]),f[u]?d.push(f):e.push(f);f=A(a,xa(e,d)),f.selector=a}return f},i=fa.select=function(a,b,e,f){var i,j,k,l,m,n="function"==typeof a&&a,o=!f&&g(a=n.selector||a);if(e=e||[],1===o.length){if(j=o[0]=o[0].slice(0),j.length>2&&"ID"===(k=j[0]).type&&c.getById&&9===b.nodeType&&p&&d.relative[j[1].type]){if(b=(d.find.ID(k.matches[0].replace(ba,ca),b)||[])[0],!b)return e;n&&(b=b.parentNode),a=a.slice(j.shift().value.length)}i=W.needsContext.test(a)?0:j.length;while(i--){if(k=j[i],d.relative[l=k.type])break;if((m=d.find[l])&&(f=m(k.matches[0].replace(ba,ca),_.test(j[0].type)&&oa(b.parentNode)||b))){if(j.splice(i,1),a=f.length&&qa(j),!a)return H.apply(e,f),e;break}}}return(n||h(a,o))(f,b,!p,e,!b||_.test(a)&&oa(b.parentNode)||b),e},c.sortStable=u.split("").sort(B).join("")===u,c.detectDuplicates=!!l,m(),c.sortDetached=ia(function(a){return 1&a.compareDocumentPosition(n.createElement("div"))}),ia(function(a){return a.innerHTML="<a href='#'></a>","#"===a.firstChild.getAttribute("href")})||ja("type|href|height|width",function(a,b,c){return c?void 0:a.getAttribute(b,"type"===b.toLowerCase()?1:2)}),c.attributes&&ia(function(a){return a.innerHTML="<input/>",a.firstChild.setAttribute("value",""),""===a.firstChild.getAttribute("value")})||ja("value",function(a,b,c){return c||"input"!==a.nodeName.toLowerCase()?void 0:a.defaultValue}),ia(function(a){return null==a.getAttribute("disabled")})||ja(K,function(a,b,c){var d;return c?void 0:a[b]===!0?b.toLowerCase():(d=a.getAttributeNode(b))&&d.specified?d.value:null}),fa}(a);n.find=t,n.expr=t.selectors,n.expr[":"]=n.expr.pseudos,n.uniqueSort=n.unique=t.uniqueSort,n.text=t.getText,n.isXMLDoc=t.isXML,n.contains=t.contains;var u=function(a,b,c){var d=[],e=void 0!==c;while((a=a[b])&&9!==a.nodeType)if(1===a.nodeType){if(e&&n(a).is(c))break;d.push(a)}return d},v=function(a,b){for(var c=[];a;a=a.nextSibling)1===a.nodeType&&a!==b&&c.push(a);return c},w=n.expr.match.needsContext,x=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,y=/^.[^:#\[\.,]*$/;function z(a,b,c){if(n.isFunction(b))return n.grep(a,function(a,d){return!!b.call(a,d,a)!==c});if(b.nodeType)return n.grep(a,function(a){return a===b!==c});if("string"==typeof b){if(y.test(b))return n.filter(b,a,c);b=n.filter(b,a)}return n.grep(a,function(a){return h.call(b,a)>-1!==c})}n.filter=function(a,b,c){var d=b[0];return c&&(a=":not("+a+")"),1===b.length&&1===d.nodeType?n.find.matchesSelector(d,a)?[d]:[]:n.find.matches(a,n.grep(b,function(a){return 1===a.nodeType}))},n.fn.extend({find:function(a){var b,c=this.length,d=[],e=this;if("string"!=typeof a)return this.pushStack(n(a).filter(function(){for(b=0;c>b;b++)if(n.contains(e[b],this))return!0}));for(b=0;c>b;b++)n.find(a,e[b],d);return d=this.pushStack(c>1?n.unique(d):d),d.selector=this.selector?this.selector+" "+a:a,d},filter:function(a){return this.pushStack(z(this,a||[],!1))},not:function(a){return this.pushStack(z(this,a||[],!0))},is:function(a){return!!z(this,"string"==typeof a&&w.test(a)?n(a):a||[],!1).length}});var A,B=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,C=n.fn.init=function(a,b,c){var e,f;if(!a)return this;if(c=c||A,"string"==typeof a){if(e="<"===a[0]&&">"===a[a.length-1]&&a.length>=3?[null,a,null]:B.exec(a),!e||!e[1]&&b)return!b||b.jquery?(b||c).find(a):this.constructor(b).find(a);if(e[1]){if(b=b instanceof n?b[0]:b,n.merge(this,n.parseHTML(e[1],b&&b.nodeType?b.ownerDocument||b:d,!0)),x.test(e[1])&&n.isPlainObject(b))for(e in b)n.isFunction(this[e])?this[e](b[e]):this.attr(e,b[e]);return this}return f=d.getElementById(e[2]),f&&f.parentNode&&(this.length=1,this[0]=f),this.context=d,this.selector=a,this}return a.nodeType?(this.context=this[0]=a,this.length=1,this):n.isFunction(a)?void 0!==c.ready?c.ready(a):a(n):(void 0!==a.selector&&(this.selector=a.selector,this.context=a.context),n.makeArray(a,this))};C.prototype=n.fn,A=n(d);var D=/^(?:parents|prev(?:Until|All))/,E={children:!0,contents:!0,next:!0,prev:!0};n.fn.extend({has:function(a){var b=n(a,this),c=b.length;return this.filter(function(){for(var a=0;c>a;a++)if(n.contains(this,b[a]))return!0})},closest:function(a,b){for(var c,d=0,e=this.length,f=[],g=w.test(a)||"string"!=typeof a?n(a,b||this.context):0;e>d;d++)for(c=this[d];c&&c!==b;c=c.parentNode)if(c.nodeType<11&&(g?g.index(c)>-1:1===c.nodeType&&n.find.matchesSelector(c,a))){f.push(c);break}return this.pushStack(f.length>1?n.uniqueSort(f):f)},index:function(a){return a?"string"==typeof a?h.call(n(a),this[0]):h.call(this,a.jquery?a[0]:a):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(a,b){return this.pushStack(n.uniqueSort(n.merge(this.get(),n(a,b))))},addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}});function F(a,b){while((a=a[b])&&1!==a.nodeType);return a}n.each({parent:function(a){var b=a.parentNode;return b&&11!==b.nodeType?b:null},parents:function(a){return u(a,"parentNode")},parentsUntil:function(a,b,c){return u(a,"parentNode",c)},next:function(a){return F(a,"nextSibling")},prev:function(a){return F(a,"previousSibling")},nextAll:function(a){return u(a,"nextSibling")},prevAll:function(a){return u(a,"previousSibling")},nextUntil:function(a,b,c){return u(a,"nextSibling",c)},prevUntil:function(a,b,c){return u(a,"previousSibling",c)},siblings:function(a){return v((a.parentNode||{}).firstChild,a)},children:function(a){return v(a.firstChild)},contents:function(a){return a.contentDocument||n.merge([],a.childNodes)}},function(a,b){n.fn[a]=function(c,d){var e=n.map(this,b,c);return"Until"!==a.slice(-5)&&(d=c),d&&"string"==typeof d&&(e=n.filter(d,e)),this.length>1&&(E[a]||n.uniqueSort(e),D.test(a)&&e.reverse()),this.pushStack(e)}});var G=/\S+/g;function H(a){var b={};return n.each(a.match(G)||[],function(a,c){b[c]=!0}),b}n.Callbacks=function(a){a="string"==typeof a?H(a):n.extend({},a);var b,c,d,e,f=[],g=[],h=-1,i=function(){for(e=a.once,d=b=!0;g.length;h=-1){c=g.shift();while(++h<f.length)f[h].apply(c[0],c[1])===!1&&a.stopOnFalse&&(h=f.length,c=!1)}a.memory||(c=!1),b=!1,e&&(f=c?[]:"")},j={add:function(){return f&&(c&&!b&&(h=f.length-1,g.push(c)),function d(b){n.each(b,function(b,c){n.isFunction(c)?a.unique&&j.has(c)||f.push(c):c&&c.length&&"string"!==n.type(c)&&d(c)})}(arguments),c&&!b&&i()),this},remove:function(){return n.each(arguments,function(a,b){var c;while((c=n.inArray(b,f,c))>-1)f.splice(c,1),h>=c&&h--}),this},has:function(a){return a?n.inArray(a,f)>-1:f.length>0},empty:function(){return f&&(f=[]),this},disable:function(){return e=g=[],f=c="",this},disabled:function(){return!f},lock:function(){return e=g=[],c||(f=c=""),this},locked:function(){return!!e},fireWith:function(a,c){return e||(c=c||[],c=[a,c.slice?c.slice():c],g.push(c),b||i()),this},fire:function(){return j.fireWith(this,arguments),this},fired:function(){return!!d}};return j},n.extend({Deferred:function(a){var b=[["resolve","done",n.Callbacks("once memory"),"resolved"],["reject","fail",n.Callbacks("once memory"),"rejected"],["notify","progress",n.Callbacks("memory")]],c="pending",d={state:function(){return c},always:function(){return e.done(arguments).fail(arguments),this},then:function(){var a=arguments;return n.Deferred(function(c){n.each(b,function(b,f){var g=n.isFunction(a[b])&&a[b];e[f[1]](function(){var a=g&&g.apply(this,arguments);a&&n.isFunction(a.promise)?a.promise().progress(c.notify).done(c.resolve).fail(c.reject):c[f[0]+"With"](this===d?c.promise():this,g?[a]:arguments)})}),a=null}).promise()},promise:function(a){return null!=a?n.extend(a,d):d}},e={};return d.pipe=d.then,n.each(b,function(a,f){var g=f[2],h=f[3];d[f[1]]=g.add,h&&g.add(function(){c=h},b[1^a][2].disable,b[2][2].lock),e[f[0]]=function(){return e[f[0]+"With"](this===e?d:this,arguments),this},e[f[0]+"With"]=g.fireWith}),d.promise(e),a&&a.call(e,e),e},when:function(a){var b=0,c=e.call(arguments),d=c.length,f=1!==d||a&&n.isFunction(a.promise)?d:0,g=1===f?a:n.Deferred(),h=function(a,b,c){return function(d){b[a]=this,c[a]=arguments.length>1?e.call(arguments):d,c===i?g.notifyWith(b,c):--f||g.resolveWith(b,c)}},i,j,k;if(d>1)for(i=new Array(d),j=new Array(d),k=new Array(d);d>b;b++)c[b]&&n.isFunction(c[b].promise)?c[b].promise().progress(h(b,j,i)).done(h(b,k,c)).fail(g.reject):--f;return f||g.resolveWith(k,c),g.promise()}});var I;n.fn.ready=function(a){return n.ready.promise().done(a),this},n.extend({isReady:!1,readyWait:1,holdReady:function(a){a?n.readyWait++:n.ready(!0)},ready:function(a){(a===!0?--n.readyWait:n.isReady)||(n.isReady=!0,a!==!0&&--n.readyWait>0||(I.resolveWith(d,[n]),n.fn.triggerHandler&&(n(d).triggerHandler("ready"),n(d).off("ready"))))}});function J(){d.removeEventListener("DOMContentLoaded",J),a.removeEventListener("load",J),n.ready()}n.ready.promise=function(b){return I||(I=n.Deferred(),"complete"===d.readyState||"loading"!==d.readyState&&!d.documentElement.doScroll?a.setTimeout(n.ready):(d.addEventListener("DOMContentLoaded",J),a.addEventListener("load",J))),I.promise(b)},n.ready.promise();var K=function(a,b,c,d,e,f,g){var h=0,i=a.length,j=null==c;if("object"===n.type(c)){e=!0;for(h in c)K(a,b,h,c[h],!0,f,g)}else if(void 0!==d&&(e=!0,n.isFunction(d)||(g=!0),j&&(g?(b.call(a,d),b=null):(j=b,b=function(a,b,c){return j.call(n(a),c)})),b))for(;i>h;h++)b(a[h],c,g?d:d.call(a[h],h,b(a[h],c)));return e?a:j?b.call(a):i?b(a[0],c):f},L=function(a){return 1===a.nodeType||9===a.nodeType||!+a.nodeType};function M(){this.expando=n.expando+M.uid++}M.uid=1,M.prototype={register:function(a,b){var c=b||{};return a.nodeType?a[this.expando]=c:Object.defineProperty(a,this.expando,{value:c,writable:!0,configurable:!0}),a[this.expando]},cache:function(a){if(!L(a))return{};var b=a[this.expando];return b||(b={},L(a)&&(a.nodeType?a[this.expando]=b:Object.defineProperty(a,this.expando,{value:b,configurable:!0}))),b},set:function(a,b,c){var d,e=this.cache(a);if("string"==typeof b)e[b]=c;else for(d in b)e[d]=b[d];return e},get:function(a,b){return void 0===b?this.cache(a):a[this.expando]&&a[this.expando][b]},access:function(a,b,c){var d;return void 0===b||b&&"string"==typeof b&&void 0===c?(d=this.get(a,b),void 0!==d?d:this.get(a,n.camelCase(b))):(this.set(a,b,c),void 0!==c?c:b)},remove:function(a,b){var c,d,e,f=a[this.expando];if(void 0!==f){if(void 0===b)this.register(a);else{n.isArray(b)?d=b.concat(b.map(n.camelCase)):(e=n.camelCase(b),b in f?d=[b,e]:(d=e,d=d in f?[d]:d.match(G)||[])),c=d.length;while(c--)delete f[d[c]]}(void 0===b||n.isEmptyObject(f))&&(a.nodeType?a[this.expando]=void 0:delete a[this.expando])}},hasData:function(a){var b=a[this.expando];return void 0!==b&&!n.isEmptyObject(b)}};var N=new M,O=new M,P=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Q=/[A-Z]/g;function R(a,b,c){var d;if(void 0===c&&1===a.nodeType)if(d="data-"+b.replace(Q,"-$&").toLowerCase(),c=a.getAttribute(d),"string"==typeof c){try{c="true"===c?!0:"false"===c?!1:"null"===c?null:+c+""===c?+c:P.test(c)?n.parseJSON(c):c;
  }catch(e){}O.set(a,b,c)}else c=void 0;return c}n.extend({hasData:function(a){return O.hasData(a)||N.hasData(a)},data:function(a,b,c){return O.access(a,b,c)},removeData:function(a,b){O.remove(a,b)},_data:function(a,b,c){return N.access(a,b,c)},_removeData:function(a,b){N.remove(a,b)}}),n.fn.extend({data:function(a,b){var c,d,e,f=this[0],g=f&&f.attributes;if(void 0===a){if(this.length&&(e=O.get(f),1===f.nodeType&&!N.get(f,"hasDataAttrs"))){c=g.length;while(c--)g[c]&&(d=g[c].name,0===d.indexOf("data-")&&(d=n.camelCase(d.slice(5)),R(f,d,e[d])));N.set(f,"hasDataAttrs",!0)}return e}return"object"==typeof a?this.each(function(){O.set(this,a)}):K(this,function(b){var c,d;if(f&&void 0===b){if(c=O.get(f,a)||O.get(f,a.replace(Q,"-$&").toLowerCase()),void 0!==c)return c;if(d=n.camelCase(a),c=O.get(f,d),void 0!==c)return c;if(c=R(f,d,void 0),void 0!==c)return c}else d=n.camelCase(a),this.each(function(){var c=O.get(this,d);O.set(this,d,b),a.indexOf("-")>-1&&void 0!==c&&O.set(this,a,b)})},null,b,arguments.length>1,null,!0)},removeData:function(a){return this.each(function(){O.remove(this,a)})}}),n.extend({queue:function(a,b,c){var d;return a?(b=(b||"fx")+"queue",d=N.get(a,b),c&&(!d||n.isArray(c)?d=N.access(a,b,n.makeArray(c)):d.push(c)),d||[]):void 0},dequeue:function(a,b){b=b||"fx";var c=n.queue(a,b),d=c.length,e=c.shift(),f=n._queueHooks(a,b),g=function(){n.dequeue(a,b)};"inprogress"===e&&(e=c.shift(),d--),e&&("fx"===b&&c.unshift("inprogress"),delete f.stop,e.call(a,g,f)),!d&&f&&f.empty.fire()},_queueHooks:function(a,b){var c=b+"queueHooks";return N.get(a,c)||N.access(a,c,{empty:n.Callbacks("once memory").add(function(){N.remove(a,[b+"queue",c])})})}}),n.fn.extend({queue:function(a,b){var c=2;return"string"!=typeof a&&(b=a,a="fx",c--),arguments.length<c?n.queue(this[0],a):void 0===b?this:this.each(function(){var c=n.queue(this,a,b);n._queueHooks(this,a),"fx"===a&&"inprogress"!==c[0]&&n.dequeue(this,a)})},dequeue:function(a){return this.each(function(){n.dequeue(this,a)})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,b){var c,d=1,e=n.Deferred(),f=this,g=this.length,h=function(){--d||e.resolveWith(f,[f])};"string"!=typeof a&&(b=a,a=void 0),a=a||"fx";while(g--)c=N.get(f[g],a+"queueHooks"),c&&c.empty&&(d++,c.empty.add(h));return h(),e.promise(b)}});var S=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,T=new RegExp("^(?:([+-])=|)("+S+")([a-z%]*)$","i"),U=["Top","Right","Bottom","Left"],V=function(a,b){return a=b||a,"none"===n.css(a,"display")||!n.contains(a.ownerDocument,a)};function W(a,b,c,d){var e,f=1,g=20,h=d?function(){return d.cur()}:function(){return n.css(a,b,"")},i=h(),j=c&&c[3]||(n.cssNumber[b]?"":"px"),k=(n.cssNumber[b]||"px"!==j&&+i)&&T.exec(n.css(a,b));if(k&&k[3]!==j){j=j||k[3],c=c||[],k=+i||1;do f=f||".5",k/=f,n.style(a,b,k+j);while(f!==(f=h()/i)&&1!==f&&--g)}return c&&(k=+k||+i||0,e=c[1]?k+(c[1]+1)*c[2]:+c[2],d&&(d.unit=j,d.start=k,d.end=e)),e}var X=/^(?:checkbox|radio)$/i,Y=/<([\w:-]+)/,Z=/^$|\/(?:java|ecma)script/i,$={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};$.optgroup=$.option,$.tbody=$.tfoot=$.colgroup=$.caption=$.thead,$.th=$.td;function _(a,b){var c="undefined"!=typeof a.getElementsByTagName?a.getElementsByTagName(b||"*"):"undefined"!=typeof a.querySelectorAll?a.querySelectorAll(b||"*"):[];return void 0===b||b&&n.nodeName(a,b)?n.merge([a],c):c}function aa(a,b){for(var c=0,d=a.length;d>c;c++)N.set(a[c],"globalEval",!b||N.get(b[c],"globalEval"))}var ba=/<|&#?\w+;/;function ca(a,b,c,d,e){for(var f,g,h,i,j,k,l=b.createDocumentFragment(),m=[],o=0,p=a.length;p>o;o++)if(f=a[o],f||0===f)if("object"===n.type(f))n.merge(m,f.nodeType?[f]:f);else if(ba.test(f)){g=g||l.appendChild(b.createElement("div")),h=(Y.exec(f)||["",""])[1].toLowerCase(),i=$[h]||$._default,g.innerHTML=i[1]+n.htmlPrefilter(f)+i[2],k=i[0];while(k--)g=g.lastChild;n.merge(m,g.childNodes),g=l.firstChild,g.textContent=""}else m.push(b.createTextNode(f));l.textContent="",o=0;while(f=m[o++])if(d&&n.inArray(f,d)>-1)e&&e.push(f);else if(j=n.contains(f.ownerDocument,f),g=_(l.appendChild(f),"script"),j&&aa(g),c){k=0;while(f=g[k++])Z.test(f.type||"")&&c.push(f)}return l}!function(){var a=d.createDocumentFragment(),b=a.appendChild(d.createElement("div")),c=d.createElement("input");c.setAttribute("type","radio"),c.setAttribute("checked","checked"),c.setAttribute("name","t"),b.appendChild(c),l.checkClone=b.cloneNode(!0).cloneNode(!0).lastChild.checked,b.innerHTML="<textarea>x</textarea>",l.noCloneChecked=!!b.cloneNode(!0).lastChild.defaultValue}();var da=/^key/,ea=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,fa=/^([^.]*)(?:\.(.+)|)/;function ga(){return!0}function ha(){return!1}function ia(){try{return d.activeElement}catch(a){}}function ja(a,b,c,d,e,f){var g,h;if("object"==typeof b){"string"!=typeof c&&(d=d||c,c=void 0);for(h in b)ja(a,h,c,d,b[h],f);return a}if(null==d&&null==e?(e=c,d=c=void 0):null==e&&("string"==typeof c?(e=d,d=void 0):(e=d,d=c,c=void 0)),e===!1)e=ha;else if(!e)return a;return 1===f&&(g=e,e=function(a){return n().off(a),g.apply(this,arguments)},e.guid=g.guid||(g.guid=n.guid++)),a.each(function(){n.event.add(this,b,e,d,c)})}n.event={global:{},add:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,o,p,q,r=N.get(a);if(r){c.handler&&(f=c,c=f.handler,e=f.selector),c.guid||(c.guid=n.guid++),(i=r.events)||(i=r.events={}),(g=r.handle)||(g=r.handle=function(b){return"undefined"!=typeof n&&n.event.triggered!==b.type?n.event.dispatch.apply(a,arguments):void 0}),b=(b||"").match(G)||[""],j=b.length;while(j--)h=fa.exec(b[j])||[],o=q=h[1],p=(h[2]||"").split(".").sort(),o&&(l=n.event.special[o]||{},o=(e?l.delegateType:l.bindType)||o,l=n.event.special[o]||{},k=n.extend({type:o,origType:q,data:d,handler:c,guid:c.guid,selector:e,needsContext:e&&n.expr.match.needsContext.test(e),namespace:p.join(".")},f),(m=i[o])||(m=i[o]=[],m.delegateCount=0,l.setup&&l.setup.call(a,d,p,g)!==!1||a.addEventListener&&a.addEventListener(o,g)),l.add&&(l.add.call(a,k),k.handler.guid||(k.handler.guid=c.guid)),e?m.splice(m.delegateCount++,0,k):m.push(k),n.event.global[o]=!0)}},remove:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,o,p,q,r=N.hasData(a)&&N.get(a);if(r&&(i=r.events)){b=(b||"").match(G)||[""],j=b.length;while(j--)if(h=fa.exec(b[j])||[],o=q=h[1],p=(h[2]||"").split(".").sort(),o){l=n.event.special[o]||{},o=(d?l.delegateType:l.bindType)||o,m=i[o]||[],h=h[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),g=f=m.length;while(f--)k=m[f],!e&&q!==k.origType||c&&c.guid!==k.guid||h&&!h.test(k.namespace)||d&&d!==k.selector&&("**"!==d||!k.selector)||(m.splice(f,1),k.selector&&m.delegateCount--,l.remove&&l.remove.call(a,k));g&&!m.length&&(l.teardown&&l.teardown.call(a,p,r.handle)!==!1||n.removeEvent(a,o,r.handle),delete i[o])}else for(o in i)n.event.remove(a,o+b[j],c,d,!0);n.isEmptyObject(i)&&N.remove(a,"handle events")}},dispatch:function(a){a=n.event.fix(a);var b,c,d,f,g,h=[],i=e.call(arguments),j=(N.get(this,"events")||{})[a.type]||[],k=n.event.special[a.type]||{};if(i[0]=a,a.delegateTarget=this,!k.preDispatch||k.preDispatch.call(this,a)!==!1){h=n.event.handlers.call(this,a,j),b=0;while((f=h[b++])&&!a.isPropagationStopped()){a.currentTarget=f.elem,c=0;while((g=f.handlers[c++])&&!a.isImmediatePropagationStopped())a.rnamespace&&!a.rnamespace.test(g.namespace)||(a.handleObj=g,a.data=g.data,d=((n.event.special[g.origType]||{}).handle||g.handler).apply(f.elem,i),void 0!==d&&(a.result=d)===!1&&(a.preventDefault(),a.stopPropagation()))}return k.postDispatch&&k.postDispatch.call(this,a),a.result}},handlers:function(a,b){var c,d,e,f,g=[],h=b.delegateCount,i=a.target;if(h&&i.nodeType&&("click"!==a.type||isNaN(a.button)||a.button<1))for(;i!==this;i=i.parentNode||this)if(1===i.nodeType&&(i.disabled!==!0||"click"!==a.type)){for(d=[],c=0;h>c;c++)f=b[c],e=f.selector+" ",void 0===d[e]&&(d[e]=f.needsContext?n(e,this).index(i)>-1:n.find(e,this,null,[i]).length),d[e]&&d.push(f);d.length&&g.push({elem:i,handlers:d})}return h<b.length&&g.push({elem:this,handlers:b.slice(h)}),g},props:"altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(a,b){return null==a.which&&(a.which=null!=b.charCode?b.charCode:b.keyCode),a}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,b){var c,e,f,g=b.button;return null==a.pageX&&null!=b.clientX&&(c=a.target.ownerDocument||d,e=c.documentElement,f=c.body,a.pageX=b.clientX+(e&&e.scrollLeft||f&&f.scrollLeft||0)-(e&&e.clientLeft||f&&f.clientLeft||0),a.pageY=b.clientY+(e&&e.scrollTop||f&&f.scrollTop||0)-(e&&e.clientTop||f&&f.clientTop||0)),a.which||void 0===g||(a.which=1&g?1:2&g?3:4&g?2:0),a}},fix:function(a){if(a[n.expando])return a;var b,c,e,f=a.type,g=a,h=this.fixHooks[f];h||(this.fixHooks[f]=h=ea.test(f)?this.mouseHooks:da.test(f)?this.keyHooks:{}),e=h.props?this.props.concat(h.props):this.props,a=new n.Event(g),b=e.length;while(b--)c=e[b],a[c]=g[c];return a.target||(a.target=d),3===a.target.nodeType&&(a.target=a.target.parentNode),h.filter?h.filter(a,g):a},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==ia()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===ia()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&n.nodeName(this,"input")?(this.click(),!1):void 0},_default:function(a){return n.nodeName(a.target,"a")}},beforeunload:{postDispatch:function(a){void 0!==a.result&&a.originalEvent&&(a.originalEvent.returnValue=a.result)}}}},n.removeEvent=function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c)},n.Event=function(a,b){return this instanceof n.Event?(a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||void 0===a.defaultPrevented&&a.returnValue===!1?ga:ha):this.type=a,b&&n.extend(this,b),this.timeStamp=a&&a.timeStamp||n.now(),void(this[n.expando]=!0)):new n.Event(a,b)},n.Event.prototype={constructor:n.Event,isDefaultPrevented:ha,isPropagationStopped:ha,isImmediatePropagationStopped:ha,isSimulated:!1,preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=ga,a&&!this.isSimulated&&a.preventDefault()},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=ga,a&&!this.isSimulated&&a.stopPropagation()},stopImmediatePropagation:function(){var a=this.originalEvent;this.isImmediatePropagationStopped=ga,a&&!this.isSimulated&&a.stopImmediatePropagation(),this.stopPropagation()}},n.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(a,b){n.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c,d=this,e=a.relatedTarget,f=a.handleObj;return e&&(e===d||n.contains(d,e))||(a.type=f.origType,c=f.handler.apply(this,arguments),a.type=b),c}}}),n.fn.extend({on:function(a,b,c,d){return ja(this,a,b,c,d)},one:function(a,b,c,d){return ja(this,a,b,c,d,1)},off:function(a,b,c){var d,e;if(a&&a.preventDefault&&a.handleObj)return d=a.handleObj,n(a.delegateTarget).off(d.namespace?d.origType+"."+d.namespace:d.origType,d.selector,d.handler),this;if("object"==typeof a){for(e in a)this.off(e,b,a[e]);return this}return b!==!1&&"function"!=typeof b||(c=b,b=void 0),c===!1&&(c=ha),this.each(function(){n.event.remove(this,a,c,b)})}});var ka=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,la=/<script|<style|<link/i,ma=/checked\s*(?:[^=]|=\s*.checked.)/i,na=/^true\/(.*)/,oa=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function pa(a,b){return n.nodeName(a,"table")&&n.nodeName(11!==b.nodeType?b:b.firstChild,"tr")?a.getElementsByTagName("tbody")[0]||a.appendChild(a.ownerDocument.createElement("tbody")):a}function qa(a){return a.type=(null!==a.getAttribute("type"))+"/"+a.type,a}function ra(a){var b=na.exec(a.type);return b?a.type=b[1]:a.removeAttribute("type"),a}function sa(a,b){var c,d,e,f,g,h,i,j;if(1===b.nodeType){if(N.hasData(a)&&(f=N.access(a),g=N.set(b,f),j=f.events)){delete g.handle,g.events={};for(e in j)for(c=0,d=j[e].length;d>c;c++)n.event.add(b,e,j[e][c])}O.hasData(a)&&(h=O.access(a),i=n.extend({},h),O.set(b,i))}}function ta(a,b){var c=b.nodeName.toLowerCase();"input"===c&&X.test(a.type)?b.checked=a.checked:"input"!==c&&"textarea"!==c||(b.defaultValue=a.defaultValue)}function ua(a,b,c,d){b=f.apply([],b);var e,g,h,i,j,k,m=0,o=a.length,p=o-1,q=b[0],r=n.isFunction(q);if(r||o>1&&"string"==typeof q&&!l.checkClone&&ma.test(q))return a.each(function(e){var f=a.eq(e);r&&(b[0]=q.call(this,e,f.html())),ua(f,b,c,d)});if(o&&(e=ca(b,a[0].ownerDocument,!1,a,d),g=e.firstChild,1===e.childNodes.length&&(e=g),g||d)){for(h=n.map(_(e,"script"),qa),i=h.length;o>m;m++)j=e,m!==p&&(j=n.clone(j,!0,!0),i&&n.merge(h,_(j,"script"))),c.call(a[m],j,m);if(i)for(k=h[h.length-1].ownerDocument,n.map(h,ra),m=0;i>m;m++)j=h[m],Z.test(j.type||"")&&!N.access(j,"globalEval")&&n.contains(k,j)&&(j.src?n._evalUrl&&n._evalUrl(j.src):n.globalEval(j.textContent.replace(oa,"")))}return a}function va(a,b,c){for(var d,e=b?n.filter(b,a):a,f=0;null!=(d=e[f]);f++)c||1!==d.nodeType||n.cleanData(_(d)),d.parentNode&&(c&&n.contains(d.ownerDocument,d)&&aa(_(d,"script")),d.parentNode.removeChild(d));return a}n.extend({htmlPrefilter:function(a){return a.replace(ka,"<$1></$2>")},clone:function(a,b,c){var d,e,f,g,h=a.cloneNode(!0),i=n.contains(a.ownerDocument,a);if(!(l.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||n.isXMLDoc(a)))for(g=_(h),f=_(a),d=0,e=f.length;e>d;d++)ta(f[d],g[d]);if(b)if(c)for(f=f||_(a),g=g||_(h),d=0,e=f.length;e>d;d++)sa(f[d],g[d]);else sa(a,h);return g=_(h,"script"),g.length>0&&aa(g,!i&&_(a,"script")),h},cleanData:function(a){for(var b,c,d,e=n.event.special,f=0;void 0!==(c=a[f]);f++)if(L(c)){if(b=c[N.expando]){if(b.events)for(d in b.events)e[d]?n.event.remove(c,d):n.removeEvent(c,d,b.handle);c[N.expando]=void 0}c[O.expando]&&(c[O.expando]=void 0)}}}),n.fn.extend({domManip:ua,detach:function(a){return va(this,a,!0)},remove:function(a){return va(this,a)},text:function(a){return K(this,function(a){return void 0===a?n.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=a)})},null,a,arguments.length)},append:function(){return ua(this,arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=pa(this,a);b.appendChild(a)}})},prepend:function(){return ua(this,arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=pa(this,a);b.insertBefore(a,b.firstChild)}})},before:function(){return ua(this,arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this)})},after:function(){return ua(this,arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},empty:function(){for(var a,b=0;null!=(a=this[b]);b++)1===a.nodeType&&(n.cleanData(_(a,!1)),a.textContent="");return this},clone:function(a,b){return a=null==a?!1:a,b=null==b?a:b,this.map(function(){return n.clone(this,a,b)})},html:function(a){return K(this,function(a){var b=this[0]||{},c=0,d=this.length;if(void 0===a&&1===b.nodeType)return b.innerHTML;if("string"==typeof a&&!la.test(a)&&!$[(Y.exec(a)||["",""])[1].toLowerCase()]){a=n.htmlPrefilter(a);try{for(;d>c;c++)b=this[c]||{},1===b.nodeType&&(n.cleanData(_(b,!1)),b.innerHTML=a);b=0}catch(e){}}b&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(){var a=[];return ua(this,arguments,function(b){var c=this.parentNode;n.inArray(this,a)<0&&(n.cleanData(_(this)),c&&c.replaceChild(b,this))},a)}}),n.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){n.fn[a]=function(a){for(var c,d=[],e=n(a),f=e.length-1,h=0;f>=h;h++)c=h===f?this:this.clone(!0),n(e[h])[b](c),g.apply(d,c.get());return this.pushStack(d)}});var wa,xa={HTML:"block",BODY:"block"};function ya(a,b){var c=n(b.createElement(a)).appendTo(b.body),d=n.css(c[0],"display");return c.detach(),d}function za(a){var b=d,c=xa[a];return c||(c=ya(a,b),"none"!==c&&c||(wa=(wa||n("<iframe frameborder='0' width='0' height='0'/>")).appendTo(b.documentElement),b=wa[0].contentDocument,b.write(),b.close(),c=ya(a,b),wa.detach()),xa[a]=c),c}var Aa=/^margin/,Ba=new RegExp("^("+S+")(?!px)[a-z%]+$","i"),Ca=function(b){var c=b.ownerDocument.defaultView;return c&&c.opener||(c=a),c.getComputedStyle(b)},Da=function(a,b,c,d){var e,f,g={};for(f in b)g[f]=a.style[f],a.style[f]=b[f];e=c.apply(a,d||[]);for(f in b)a.style[f]=g[f];return e},Ea=d.documentElement;!function(){var b,c,e,f,g=d.createElement("div"),h=d.createElement("div");if(h.style){h.style.backgroundClip="content-box",h.cloneNode(!0).style.backgroundClip="",l.clearCloneStyle="content-box"===h.style.backgroundClip,g.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",g.appendChild(h);function i(){h.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",h.innerHTML="",Ea.appendChild(g);var d=a.getComputedStyle(h);b="1%"!==d.top,f="2px"===d.marginLeft,c="4px"===d.width,h.style.marginRight="50%",e="4px"===d.marginRight,Ea.removeChild(g)}n.extend(l,{pixelPosition:function(){return i(),b},boxSizingReliable:function(){return null==c&&i(),c},pixelMarginRight:function(){return null==c&&i(),e},reliableMarginLeft:function(){return null==c&&i(),f},reliableMarginRight:function(){var b,c=h.appendChild(d.createElement("div"));return c.style.cssText=h.style.cssText="-webkit-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",c.style.marginRight=c.style.width="0",h.style.width="1px",Ea.appendChild(g),b=!parseFloat(a.getComputedStyle(c).marginRight),Ea.removeChild(g),h.removeChild(c),b}})}}();function Fa(a,b,c){var d,e,f,g,h=a.style;return c=c||Ca(a),g=c?c.getPropertyValue(b)||c[b]:void 0,""!==g&&void 0!==g||n.contains(a.ownerDocument,a)||(g=n.style(a,b)),c&&!l.pixelMarginRight()&&Ba.test(g)&&Aa.test(b)&&(d=h.width,e=h.minWidth,f=h.maxWidth,h.minWidth=h.maxWidth=h.width=g,g=c.width,h.width=d,h.minWidth=e,h.maxWidth=f),void 0!==g?g+"":g}function Ga(a,b){return{get:function(){return a()?void delete this.get:(this.get=b).apply(this,arguments)}}}var Ha=/^(none|table(?!-c[ea]).+)/,Ia={position:"absolute",visibility:"hidden",display:"block"},Ja={letterSpacing:"0",fontWeight:"400"},Ka=["Webkit","O","Moz","ms"],La=d.createElement("div").style;function Ma(a){if(a in La)return a;var b=a[0].toUpperCase()+a.slice(1),c=Ka.length;while(c--)if(a=Ka[c]+b,a in La)return a}function Na(a,b,c){var d=T.exec(b);return d?Math.max(0,d[2]-(c||0))+(d[3]||"px"):b}function Oa(a,b,c,d,e){for(var f=c===(d?"border":"content")?4:"width"===b?1:0,g=0;4>f;f+=2)"margin"===c&&(g+=n.css(a,c+U[f],!0,e)),d?("content"===c&&(g-=n.css(a,"padding"+U[f],!0,e)),"margin"!==c&&(g-=n.css(a,"border"+U[f]+"Width",!0,e))):(g+=n.css(a,"padding"+U[f],!0,e),"padding"!==c&&(g+=n.css(a,"border"+U[f]+"Width",!0,e)));return g}function Pa(a,b,c){var d=!0,e="width"===b?a.offsetWidth:a.offsetHeight,f=Ca(a),g="border-box"===n.css(a,"boxSizing",!1,f);if(0>=e||null==e){if(e=Fa(a,b,f),(0>e||null==e)&&(e=a.style[b]),Ba.test(e))return e;d=g&&(l.boxSizingReliable()||e===a.style[b]),e=parseFloat(e)||0}return e+Oa(a,b,c||(g?"border":"content"),d,f)+"px"}function Qa(a,b){for(var c,d,e,f=[],g=0,h=a.length;h>g;g++)d=a[g],d.style&&(f[g]=N.get(d,"olddisplay"),c=d.style.display,b?(f[g]||"none"!==c||(d.style.display=""),""===d.style.display&&V(d)&&(f[g]=N.access(d,"olddisplay",za(d.nodeName)))):(e=V(d),"none"===c&&e||N.set(d,"olddisplay",e?c:n.css(d,"display"))));for(g=0;h>g;g++)d=a[g],d.style&&(b&&"none"!==d.style.display&&""!==d.style.display||(d.style.display=b?f[g]||"":"none"));return a}n.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=Fa(a,"opacity");return""===c?"1":c}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(a,b,c,d){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var e,f,g,h=n.camelCase(b),i=a.style;return b=n.cssProps[h]||(n.cssProps[h]=Ma(h)||h),g=n.cssHooks[b]||n.cssHooks[h],void 0===c?g&&"get"in g&&void 0!==(e=g.get(a,!1,d))?e:i[b]:(f=typeof c,"string"===f&&(e=T.exec(c))&&e[1]&&(c=W(a,b,e),f="number"),null!=c&&c===c&&("number"===f&&(c+=e&&e[3]||(n.cssNumber[h]?"":"px")),l.clearCloneStyle||""!==c||0!==b.indexOf("background")||(i[b]="inherit"),g&&"set"in g&&void 0===(c=g.set(a,c,d))||(i[b]=c)),void 0)}},css:function(a,b,c,d){var e,f,g,h=n.camelCase(b);return b=n.cssProps[h]||(n.cssProps[h]=Ma(h)||h),g=n.cssHooks[b]||n.cssHooks[h],g&&"get"in g&&(e=g.get(a,!0,c)),void 0===e&&(e=Fa(a,b,d)),"normal"===e&&b in Ja&&(e=Ja[b]),""===c||c?(f=parseFloat(e),c===!0||isFinite(f)?f||0:e):e}}),n.each(["height","width"],function(a,b){n.cssHooks[b]={get:function(a,c,d){return c?Ha.test(n.css(a,"display"))&&0===a.offsetWidth?Da(a,Ia,function(){return Pa(a,b,d)}):Pa(a,b,d):void 0},set:function(a,c,d){var e,f=d&&Ca(a),g=d&&Oa(a,b,d,"border-box"===n.css(a,"boxSizing",!1,f),f);return g&&(e=T.exec(c))&&"px"!==(e[3]||"px")&&(a.style[b]=c,c=n.css(a,b)),Na(a,c,g)}}}),n.cssHooks.marginLeft=Ga(l.reliableMarginLeft,function(a,b){return b?(parseFloat(Fa(a,"marginLeft"))||a.getBoundingClientRect().left-Da(a,{marginLeft:0},function(){return a.getBoundingClientRect().left}))+"px":void 0}),n.cssHooks.marginRight=Ga(l.reliableMarginRight,function(a,b){return b?Da(a,{display:"inline-block"},Fa,[a,"marginRight"]):void 0}),n.each({margin:"",padding:"",border:"Width"},function(a,b){n.cssHooks[a+b]={expand:function(c){for(var d=0,e={},f="string"==typeof c?c.split(" "):[c];4>d;d++)e[a+U[d]+b]=f[d]||f[d-2]||f[0];return e}},Aa.test(a)||(n.cssHooks[a+b].set=Na)}),n.fn.extend({css:function(a,b){return K(this,function(a,b,c){var d,e,f={},g=0;if(n.isArray(b)){for(d=Ca(a),e=b.length;e>g;g++)f[b[g]]=n.css(a,b[g],!1,d);return f}return void 0!==c?n.style(a,b,c):n.css(a,b)},a,b,arguments.length>1)},show:function(){return Qa(this,!0)},hide:function(){return Qa(this)},toggle:function(a){return"boolean"==typeof a?a?this.show():this.hide():this.each(function(){V(this)?n(this).show():n(this).hide()})}});function Ra(a,b,c,d,e){return new Ra.prototype.init(a,b,c,d,e)}n.Tween=Ra,Ra.prototype={constructor:Ra,init:function(a,b,c,d,e,f){this.elem=a,this.prop=c,this.easing=e||n.easing._default,this.options=b,this.start=this.now=this.cur(),this.end=d,this.unit=f||(n.cssNumber[c]?"":"px")},cur:function(){var a=Ra.propHooks[this.prop];return a&&a.get?a.get(this):Ra.propHooks._default.get(this)},run:function(a){var b,c=Ra.propHooks[this.prop];return this.options.duration?this.pos=b=n.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):this.pos=b=a,this.now=(this.end-this.start)*b+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),c&&c.set?c.set(this):Ra.propHooks._default.set(this),this}},Ra.prototype.init.prototype=Ra.prototype,Ra.propHooks={_default:{get:function(a){var b;return 1!==a.elem.nodeType||null!=a.elem[a.prop]&&null==a.elem.style[a.prop]?a.elem[a.prop]:(b=n.css(a.elem,a.prop,""),b&&"auto"!==b?b:0)},set:function(a){n.fx.step[a.prop]?n.fx.step[a.prop](a):1!==a.elem.nodeType||null==a.elem.style[n.cssProps[a.prop]]&&!n.cssHooks[a.prop]?a.elem[a.prop]=a.now:n.style(a.elem,a.prop,a.now+a.unit)}}},Ra.propHooks.scrollTop=Ra.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}},n.easing={linear:function(a){return a},swing:function(a){return.5-Math.cos(a*Math.PI)/2},_default:"swing"},n.fx=Ra.prototype.init,n.fx.step={};var Sa,Ta,Ua=/^(?:toggle|show|hide)$/,Va=/queueHooks$/;function Wa(){return a.setTimeout(function(){Sa=void 0}),Sa=n.now()}function Xa(a,b){var c,d=0,e={height:a};for(b=b?1:0;4>d;d+=2-b)c=U[d],e["margin"+c]=e["padding"+c]=a;return b&&(e.opacity=e.width=a),e}function Ya(a,b,c){for(var d,e=(_a.tweeners[b]||[]).concat(_a.tweeners["*"]),f=0,g=e.length;g>f;f++)if(d=e[f].call(c,b,a))return d}function Za(a,b,c){var d,e,f,g,h,i,j,k,l=this,m={},o=a.style,p=a.nodeType&&V(a),q=N.get(a,"fxshow");c.queue||(h=n._queueHooks(a,"fx"),null==h.unqueued&&(h.unqueued=0,i=h.empty.fire,h.empty.fire=function(){h.unqueued||i()}),h.unqueued++,l.always(function(){l.always(function(){h.unqueued--,n.queue(a,"fx").length||h.empty.fire()})})),1===a.nodeType&&("height"in b||"width"in b)&&(c.overflow=[o.overflow,o.overflowX,o.overflowY],j=n.css(a,"display"),k="none"===j?N.get(a,"olddisplay")||za(a.nodeName):j,"inline"===k&&"none"===n.css(a,"float")&&(o.display="inline-block")),c.overflow&&(o.overflow="hidden",l.always(function(){o.overflow=c.overflow[0],o.overflowX=c.overflow[1],o.overflowY=c.overflow[2]}));for(d in b)if(e=b[d],Ua.exec(e)){if(delete b[d],f=f||"toggle"===e,e===(p?"hide":"show")){if("show"!==e||!q||void 0===q[d])continue;p=!0}m[d]=q&&q[d]||n.style(a,d)}else j=void 0;if(n.isEmptyObject(m))"inline"===("none"===j?za(a.nodeName):j)&&(o.display=j);else{q?"hidden"in q&&(p=q.hidden):q=N.access(a,"fxshow",{}),f&&(q.hidden=!p),p?n(a).show():l.done(function(){n(a).hide()}),l.done(function(){var b;N.remove(a,"fxshow");for(b in m)n.style(a,b,m[b])});for(d in m)g=Ya(p?q[d]:0,d,l),d in q||(q[d]=g.start,p&&(g.end=g.start,g.start="width"===d||"height"===d?1:0))}}function $a(a,b){var c,d,e,f,g;for(c in a)if(d=n.camelCase(c),e=b[d],f=a[c],n.isArray(f)&&(e=f[1],f=a[c]=f[0]),c!==d&&(a[d]=f,delete a[c]),g=n.cssHooks[d],g&&"expand"in g){f=g.expand(f),delete a[d];for(c in f)c in a||(a[c]=f[c],b[c]=e)}else b[d]=e}function _a(a,b,c){var d,e,f=0,g=_a.prefilters.length,h=n.Deferred().always(function(){delete i.elem}),i=function(){if(e)return!1;for(var b=Sa||Wa(),c=Math.max(0,j.startTime+j.duration-b),d=c/j.duration||0,f=1-d,g=0,i=j.tweens.length;i>g;g++)j.tweens[g].run(f);return h.notifyWith(a,[j,f,c]),1>f&&i?c:(h.resolveWith(a,[j]),!1)},j=h.promise({elem:a,props:n.extend({},b),opts:n.extend(!0,{specialEasing:{},easing:n.easing._default},c),originalProperties:b,originalOptions:c,startTime:Sa||Wa(),duration:c.duration,tweens:[],createTween:function(b,c){var d=n.Tween(a,j.opts,b,c,j.opts.specialEasing[b]||j.opts.easing);return j.tweens.push(d),d},stop:function(b){var c=0,d=b?j.tweens.length:0;if(e)return this;for(e=!0;d>c;c++)j.tweens[c].run(1);return b?(h.notifyWith(a,[j,1,0]),h.resolveWith(a,[j,b])):h.rejectWith(a,[j,b]),this}}),k=j.props;for($a(k,j.opts.specialEasing);g>f;f++)if(d=_a.prefilters[f].call(j,a,k,j.opts))return n.isFunction(d.stop)&&(n._queueHooks(j.elem,j.opts.queue).stop=n.proxy(d.stop,d)),d;return n.map(k,Ya,j),n.isFunction(j.opts.start)&&j.opts.start.call(a,j),n.fx.timer(n.extend(i,{elem:a,anim:j,queue:j.opts.queue})),j.progress(j.opts.progress).done(j.opts.done,j.opts.complete).fail(j.opts.fail).always(j.opts.always)}n.Animation=n.extend(_a,{tweeners:{"*":[function(a,b){var c=this.createTween(a,b);return W(c.elem,a,T.exec(b),c),c}]},tweener:function(a,b){n.isFunction(a)?(b=a,a=["*"]):a=a.match(G);for(var c,d=0,e=a.length;e>d;d++)c=a[d],_a.tweeners[c]=_a.tweeners[c]||[],_a.tweeners[c].unshift(b)},prefilters:[Za],prefilter:function(a,b){b?_a.prefilters.unshift(a):_a.prefilters.push(a)}}),n.speed=function(a,b,c){var d=a&&"object"==typeof a?n.extend({},a):{complete:c||!c&&b||n.isFunction(a)&&a,duration:a,easing:c&&b||b&&!n.isFunction(b)&&b};return d.duration=n.fx.off?0:"number"==typeof d.duration?d.duration:d.duration in n.fx.speeds?n.fx.speeds[d.duration]:n.fx.speeds._default,null!=d.queue&&d.queue!==!0||(d.queue="fx"),d.old=d.complete,d.complete=function(){n.isFunction(d.old)&&d.old.call(this),d.queue&&n.dequeue(this,d.queue)},d},n.fn.extend({fadeTo:function(a,b,c,d){return this.filter(V).css("opacity",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,d){var e=n.isEmptyObject(a),f=n.speed(b,c,d),g=function(){var b=_a(this,n.extend({},a),f);(e||N.get(this,"finish"))&&b.stop(!0)};return g.finish=g,e||f.queue===!1?this.each(g):this.queue(f.queue,g)},stop:function(a,b,c){var d=function(a){var b=a.stop;delete a.stop,b(c)};return"string"!=typeof a&&(c=b,b=a,a=void 0),b&&a!==!1&&this.queue(a||"fx",[]),this.each(function(){var b=!0,e=null!=a&&a+"queueHooks",f=n.timers,g=N.get(this);if(e)g[e]&&g[e].stop&&d(g[e]);else for(e in g)g[e]&&g[e].stop&&Va.test(e)&&d(g[e]);for(e=f.length;e--;)f[e].elem!==this||null!=a&&f[e].queue!==a||(f[e].anim.stop(c),b=!1,f.splice(e,1));!b&&c||n.dequeue(this,a)})},finish:function(a){return a!==!1&&(a=a||"fx"),this.each(function(){var b,c=N.get(this),d=c[a+"queue"],e=c[a+"queueHooks"],f=n.timers,g=d?d.length:0;for(c.finish=!0,n.queue(this,a,[]),e&&e.stop&&e.stop.call(this,!0),b=f.length;b--;)f[b].elem===this&&f[b].queue===a&&(f[b].anim.stop(!0),f.splice(b,1));for(b=0;g>b;b++)d[b]&&d[b].finish&&d[b].finish.call(this);delete c.finish})}}),n.each(["toggle","show","hide"],function(a,b){var c=n.fn[b];n.fn[b]=function(a,d,e){return null==a||"boolean"==typeof a?c.apply(this,arguments):this.animate(Xa(b,!0),a,d,e)}}),n.each({slideDown:Xa("show"),slideUp:Xa("hide"),slideToggle:Xa("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){n.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}}),n.timers=[],n.fx.tick=function(){var a,b=0,c=n.timers;for(Sa=n.now();b<c.length;b++)a=c[b],a()||c[b]!==a||c.splice(b--,1);c.length||n.fx.stop(),Sa=void 0},n.fx.timer=function(a){n.timers.push(a),a()?n.fx.start():n.timers.pop()},n.fx.interval=13,n.fx.start=function(){Ta||(Ta=a.setInterval(n.fx.tick,n.fx.interval))},n.fx.stop=function(){a.clearInterval(Ta),Ta=null},n.fx.speeds={slow:600,fast:200,_default:400},n.fn.delay=function(b,c){return b=n.fx?n.fx.speeds[b]||b:b,c=c||"fx",this.queue(c,function(c,d){var e=a.setTimeout(c,b);d.stop=function(){a.clearTimeout(e)}})},function(){var a=d.createElement("input"),b=d.createElement("select"),c=b.appendChild(d.createElement("option"));a.type="checkbox",l.checkOn=""!==a.value,l.optSelected=c.selected,b.disabled=!0,l.optDisabled=!c.disabled,a=d.createElement("input"),a.value="t",a.type="radio",l.radioValue="t"===a.value}();var ab,bb=n.expr.attrHandle;n.fn.extend({attr:function(a,b){return K(this,n.attr,a,b,arguments.length>1)},removeAttr:function(a){return this.each(function(){n.removeAttr(this,a)})}}),n.extend({attr:function(a,b,c){var d,e,f=a.nodeType;if(3!==f&&8!==f&&2!==f)return"undefined"==typeof a.getAttribute?n.prop(a,b,c):(1===f&&n.isXMLDoc(a)||(b=b.toLowerCase(),e=n.attrHooks[b]||(n.expr.match.bool.test(b)?ab:void 0)),void 0!==c?null===c?void n.removeAttr(a,b):e&&"set"in e&&void 0!==(d=e.set(a,c,b))?d:(a.setAttribute(b,c+""),c):e&&"get"in e&&null!==(d=e.get(a,b))?d:(d=n.find.attr(a,b),null==d?void 0:d))},attrHooks:{type:{set:function(a,b){if(!l.radioValue&&"radio"===b&&n.nodeName(a,"input")){var c=a.value;return a.setAttribute("type",b),c&&(a.value=c),b}}}},removeAttr:function(a,b){var c,d,e=0,f=b&&b.match(G);if(f&&1===a.nodeType)while(c=f[e++])d=n.propFix[c]||c,n.expr.match.bool.test(c)&&(a[d]=!1),a.removeAttribute(c)}}),ab={set:function(a,b,c){return b===!1?n.removeAttr(a,c):a.setAttribute(c,c),c}},n.each(n.expr.match.bool.source.match(/\w+/g),function(a,b){var c=bb[b]||n.find.attr;bb[b]=function(a,b,d){var e,f;return d||(f=bb[b],bb[b]=e,e=null!=c(a,b,d)?b.toLowerCase():null,bb[b]=f),e}});var cb=/^(?:input|select|textarea|button)$/i,db=/^(?:a|area)$/i;n.fn.extend({prop:function(a,b){return K(this,n.prop,a,b,arguments.length>1)},removeProp:function(a){return this.each(function(){delete this[n.propFix[a]||a]})}}),n.extend({prop:function(a,b,c){var d,e,f=a.nodeType;if(3!==f&&8!==f&&2!==f)return 1===f&&n.isXMLDoc(a)||(b=n.propFix[b]||b,e=n.propHooks[b]),
  void 0!==c?e&&"set"in e&&void 0!==(d=e.set(a,c,b))?d:a[b]=c:e&&"get"in e&&null!==(d=e.get(a,b))?d:a[b]},propHooks:{tabIndex:{get:function(a){var b=n.find.attr(a,"tabindex");return b?parseInt(b,10):cb.test(a.nodeName)||db.test(a.nodeName)&&a.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}}),l.optSelected||(n.propHooks.selected={get:function(a){var b=a.parentNode;return b&&b.parentNode&&b.parentNode.selectedIndex,null},set:function(a){var b=a.parentNode;b&&(b.selectedIndex,b.parentNode&&b.parentNode.selectedIndex)}}),n.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){n.propFix[this.toLowerCase()]=this});var eb=/[\t\r\n\f]/g;function fb(a){return a.getAttribute&&a.getAttribute("class")||""}n.fn.extend({addClass:function(a){var b,c,d,e,f,g,h,i=0;if(n.isFunction(a))return this.each(function(b){n(this).addClass(a.call(this,b,fb(this)))});if("string"==typeof a&&a){b=a.match(G)||[];while(c=this[i++])if(e=fb(c),d=1===c.nodeType&&(" "+e+" ").replace(eb," ")){g=0;while(f=b[g++])d.indexOf(" "+f+" ")<0&&(d+=f+" ");h=n.trim(d),e!==h&&c.setAttribute("class",h)}}return this},removeClass:function(a){var b,c,d,e,f,g,h,i=0;if(n.isFunction(a))return this.each(function(b){n(this).removeClass(a.call(this,b,fb(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof a&&a){b=a.match(G)||[];while(c=this[i++])if(e=fb(c),d=1===c.nodeType&&(" "+e+" ").replace(eb," ")){g=0;while(f=b[g++])while(d.indexOf(" "+f+" ")>-1)d=d.replace(" "+f+" "," ");h=n.trim(d),e!==h&&c.setAttribute("class",h)}}return this},toggleClass:function(a,b){var c=typeof a;return"boolean"==typeof b&&"string"===c?b?this.addClass(a):this.removeClass(a):n.isFunction(a)?this.each(function(c){n(this).toggleClass(a.call(this,c,fb(this),b),b)}):this.each(function(){var b,d,e,f;if("string"===c){d=0,e=n(this),f=a.match(G)||[];while(b=f[d++])e.hasClass(b)?e.removeClass(b):e.addClass(b)}else void 0!==a&&"boolean"!==c||(b=fb(this),b&&N.set(this,"__className__",b),this.setAttribute&&this.setAttribute("class",b||a===!1?"":N.get(this,"__className__")||""))})},hasClass:function(a){var b,c,d=0;b=" "+a+" ";while(c=this[d++])if(1===c.nodeType&&(" "+fb(c)+" ").replace(eb," ").indexOf(b)>-1)return!0;return!1}});var gb=/\r/g,hb=/[\x20\t\r\n\f]+/g;n.fn.extend({val:function(a){var b,c,d,e=this[0];{if(arguments.length)return d=n.isFunction(a),this.each(function(c){var e;1===this.nodeType&&(e=d?a.call(this,c,n(this).val()):a,null==e?e="":"number"==typeof e?e+="":n.isArray(e)&&(e=n.map(e,function(a){return null==a?"":a+""})),b=n.valHooks[this.type]||n.valHooks[this.nodeName.toLowerCase()],b&&"set"in b&&void 0!==b.set(this,e,"value")||(this.value=e))});if(e)return b=n.valHooks[e.type]||n.valHooks[e.nodeName.toLowerCase()],b&&"get"in b&&void 0!==(c=b.get(e,"value"))?c:(c=e.value,"string"==typeof c?c.replace(gb,""):null==c?"":c)}}}),n.extend({valHooks:{option:{get:function(a){var b=n.find.attr(a,"value");return null!=b?b:n.trim(n.text(a)).replace(hb," ")}},select:{get:function(a){for(var b,c,d=a.options,e=a.selectedIndex,f="select-one"===a.type||0>e,g=f?null:[],h=f?e+1:d.length,i=0>e?h:f?e:0;h>i;i++)if(c=d[i],(c.selected||i===e)&&(l.optDisabled?!c.disabled:null===c.getAttribute("disabled"))&&(!c.parentNode.disabled||!n.nodeName(c.parentNode,"optgroup"))){if(b=n(c).val(),f)return b;g.push(b)}return g},set:function(a,b){var c,d,e=a.options,f=n.makeArray(b),g=e.length;while(g--)d=e[g],(d.selected=n.inArray(n.valHooks.option.get(d),f)>-1)&&(c=!0);return c||(a.selectedIndex=-1),f}}}}),n.each(["radio","checkbox"],function(){n.valHooks[this]={set:function(a,b){return n.isArray(b)?a.checked=n.inArray(n(a).val(),b)>-1:void 0}},l.checkOn||(n.valHooks[this].get=function(a){return null===a.getAttribute("value")?"on":a.value})});var ib=/^(?:focusinfocus|focusoutblur)$/;n.extend(n.event,{trigger:function(b,c,e,f){var g,h,i,j,l,m,o,p=[e||d],q=k.call(b,"type")?b.type:b,r=k.call(b,"namespace")?b.namespace.split("."):[];if(h=i=e=e||d,3!==e.nodeType&&8!==e.nodeType&&!ib.test(q+n.event.triggered)&&(q.indexOf(".")>-1&&(r=q.split("."),q=r.shift(),r.sort()),l=q.indexOf(":")<0&&"on"+q,b=b[n.expando]?b:new n.Event(q,"object"==typeof b&&b),b.isTrigger=f?2:3,b.namespace=r.join("."),b.rnamespace=b.namespace?new RegExp("(^|\\.)"+r.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,b.result=void 0,b.target||(b.target=e),c=null==c?[b]:n.makeArray(c,[b]),o=n.event.special[q]||{},f||!o.trigger||o.trigger.apply(e,c)!==!1)){if(!f&&!o.noBubble&&!n.isWindow(e)){for(j=o.delegateType||q,ib.test(j+q)||(h=h.parentNode);h;h=h.parentNode)p.push(h),i=h;i===(e.ownerDocument||d)&&p.push(i.defaultView||i.parentWindow||a)}g=0;while((h=p[g++])&&!b.isPropagationStopped())b.type=g>1?j:o.bindType||q,m=(N.get(h,"events")||{})[b.type]&&N.get(h,"handle"),m&&m.apply(h,c),m=l&&h[l],m&&m.apply&&L(h)&&(b.result=m.apply(h,c),b.result===!1&&b.preventDefault());return b.type=q,f||b.isDefaultPrevented()||o._default&&o._default.apply(p.pop(),c)!==!1||!L(e)||l&&n.isFunction(e[q])&&!n.isWindow(e)&&(i=e[l],i&&(e[l]=null),n.event.triggered=q,e[q](),n.event.triggered=void 0,i&&(e[l]=i)),b.result}},simulate:function(a,b,c){var d=n.extend(new n.Event,c,{type:a,isSimulated:!0});n.event.trigger(d,null,b)}}),n.fn.extend({trigger:function(a,b){return this.each(function(){n.event.trigger(a,b,this)})},triggerHandler:function(a,b){var c=this[0];return c?n.event.trigger(a,b,c,!0):void 0}}),n.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(a,b){n.fn[b]=function(a,c){return arguments.length>0?this.on(b,null,a,c):this.trigger(b)}}),n.fn.extend({hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)}}),l.focusin="onfocusin"in a,l.focusin||n.each({focus:"focusin",blur:"focusout"},function(a,b){var c=function(a){n.event.simulate(b,a.target,n.event.fix(a))};n.event.special[b]={setup:function(){var d=this.ownerDocument||this,e=N.access(d,b);e||d.addEventListener(a,c,!0),N.access(d,b,(e||0)+1)},teardown:function(){var d=this.ownerDocument||this,e=N.access(d,b)-1;e?N.access(d,b,e):(d.removeEventListener(a,c,!0),N.remove(d,b))}}});var jb=a.location,kb=n.now(),lb=/\?/;n.parseJSON=function(a){return JSON.parse(a+"")},n.parseXML=function(b){var c;if(!b||"string"!=typeof b)return null;try{c=(new a.DOMParser).parseFromString(b,"text/xml")}catch(d){c=void 0}return c&&!c.getElementsByTagName("parsererror").length||n.error("Invalid XML: "+b),c};var mb=/#.*$/,nb=/([?&])_=[^&]*/,ob=/^(.*?):[ \t]*([^\r\n]*)$/gm,pb=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,qb=/^(?:GET|HEAD)$/,rb=/^\/\//,sb={},tb={},ub="*/".concat("*"),vb=d.createElement("a");vb.href=jb.href;function wb(a){return function(b,c){"string"!=typeof b&&(c=b,b="*");var d,e=0,f=b.toLowerCase().match(G)||[];if(n.isFunction(c))while(d=f[e++])"+"===d[0]?(d=d.slice(1)||"*",(a[d]=a[d]||[]).unshift(c)):(a[d]=a[d]||[]).push(c)}}function xb(a,b,c,d){var e={},f=a===tb;function g(h){var i;return e[h]=!0,n.each(a[h]||[],function(a,h){var j=h(b,c,d);return"string"!=typeof j||f||e[j]?f?!(i=j):void 0:(b.dataTypes.unshift(j),g(j),!1)}),i}return g(b.dataTypes[0])||!e["*"]&&g("*")}function yb(a,b){var c,d,e=n.ajaxSettings.flatOptions||{};for(c in b)void 0!==b[c]&&((e[c]?a:d||(d={}))[c]=b[c]);return d&&n.extend(!0,a,d),a}function zb(a,b,c){var d,e,f,g,h=a.contents,i=a.dataTypes;while("*"===i[0])i.shift(),void 0===d&&(d=a.mimeType||b.getResponseHeader("Content-Type"));if(d)for(e in h)if(h[e]&&h[e].test(d)){i.unshift(e);break}if(i[0]in c)f=i[0];else{for(e in c){if(!i[0]||a.converters[e+" "+i[0]]){f=e;break}g||(g=e)}f=f||g}return f?(f!==i[0]&&i.unshift(f),c[f]):void 0}function Ab(a,b,c,d){var e,f,g,h,i,j={},k=a.dataTypes.slice();if(k[1])for(g in a.converters)j[g.toLowerCase()]=a.converters[g];f=k.shift();while(f)if(a.responseFields[f]&&(c[a.responseFields[f]]=b),!i&&d&&a.dataFilter&&(b=a.dataFilter(b,a.dataType)),i=f,f=k.shift())if("*"===f)f=i;else if("*"!==i&&i!==f){if(g=j[i+" "+f]||j["* "+f],!g)for(e in j)if(h=e.split(" "),h[1]===f&&(g=j[i+" "+h[0]]||j["* "+h[0]])){g===!0?g=j[e]:j[e]!==!0&&(f=h[0],k.unshift(h[1]));break}if(g!==!0)if(g&&a["throws"])b=g(b);else try{b=g(b)}catch(l){return{state:"parsererror",error:g?l:"No conversion from "+i+" to "+f}}}return{state:"success",data:b}}n.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:jb.href,type:"GET",isLocal:pb.test(jb.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":ub,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":n.parseJSON,"text xml":n.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,b){return b?yb(yb(a,n.ajaxSettings),b):yb(n.ajaxSettings,a)},ajaxPrefilter:wb(sb),ajaxTransport:wb(tb),ajax:function(b,c){"object"==typeof b&&(c=b,b=void 0),c=c||{};var e,f,g,h,i,j,k,l,m=n.ajaxSetup({},c),o=m.context||m,p=m.context&&(o.nodeType||o.jquery)?n(o):n.event,q=n.Deferred(),r=n.Callbacks("once memory"),s=m.statusCode||{},t={},u={},v=0,w="canceled",x={readyState:0,getResponseHeader:function(a){var b;if(2===v){if(!h){h={};while(b=ob.exec(g))h[b[1].toLowerCase()]=b[2]}b=h[a.toLowerCase()]}return null==b?null:b},getAllResponseHeaders:function(){return 2===v?g:null},setRequestHeader:function(a,b){var c=a.toLowerCase();return v||(a=u[c]=u[c]||a,t[a]=b),this},overrideMimeType:function(a){return v||(m.mimeType=a),this},statusCode:function(a){var b;if(a)if(2>v)for(b in a)s[b]=[s[b],a[b]];else x.always(a[x.status]);return this},abort:function(a){var b=a||w;return e&&e.abort(b),z(0,b),this}};if(q.promise(x).complete=r.add,x.success=x.done,x.error=x.fail,m.url=((b||m.url||jb.href)+"").replace(mb,"").replace(rb,jb.protocol+"//"),m.type=c.method||c.type||m.method||m.type,m.dataTypes=n.trim(m.dataType||"*").toLowerCase().match(G)||[""],null==m.crossDomain){j=d.createElement("a");try{j.href=m.url,j.href=j.href,m.crossDomain=vb.protocol+"//"+vb.host!=j.protocol+"//"+j.host}catch(y){m.crossDomain=!0}}if(m.data&&m.processData&&"string"!=typeof m.data&&(m.data=n.param(m.data,m.traditional)),xb(sb,m,c,x),2===v)return x;k=n.event&&m.global,k&&0===n.active++&&n.event.trigger("ajaxStart"),m.type=m.type.toUpperCase(),m.hasContent=!qb.test(m.type),f=m.url,m.hasContent||(m.data&&(f=m.url+=(lb.test(f)?"&":"?")+m.data,delete m.data),m.cache===!1&&(m.url=nb.test(f)?f.replace(nb,"$1_="+kb++):f+(lb.test(f)?"&":"?")+"_="+kb++)),m.ifModified&&(n.lastModified[f]&&x.setRequestHeader("If-Modified-Since",n.lastModified[f]),n.etag[f]&&x.setRequestHeader("If-None-Match",n.etag[f])),(m.data&&m.hasContent&&m.contentType!==!1||c.contentType)&&x.setRequestHeader("Content-Type",m.contentType),x.setRequestHeader("Accept",m.dataTypes[0]&&m.accepts[m.dataTypes[0]]?m.accepts[m.dataTypes[0]]+("*"!==m.dataTypes[0]?", "+ub+"; q=0.01":""):m.accepts["*"]);for(l in m.headers)x.setRequestHeader(l,m.headers[l]);if(m.beforeSend&&(m.beforeSend.call(o,x,m)===!1||2===v))return x.abort();w="abort";for(l in{success:1,error:1,complete:1})x[l](m[l]);if(e=xb(tb,m,c,x)){if(x.readyState=1,k&&p.trigger("ajaxSend",[x,m]),2===v)return x;m.async&&m.timeout>0&&(i=a.setTimeout(function(){x.abort("timeout")},m.timeout));try{v=1,e.send(t,z)}catch(y){if(!(2>v))throw y;z(-1,y)}}else z(-1,"No Transport");function z(b,c,d,h){var j,l,t,u,w,y=c;2!==v&&(v=2,i&&a.clearTimeout(i),e=void 0,g=h||"",x.readyState=b>0?4:0,j=b>=200&&300>b||304===b,d&&(u=zb(m,x,d)),u=Ab(m,u,x,j),j?(m.ifModified&&(w=x.getResponseHeader("Last-Modified"),w&&(n.lastModified[f]=w),w=x.getResponseHeader("etag"),w&&(n.etag[f]=w)),204===b||"HEAD"===m.type?y="nocontent":304===b?y="notmodified":(y=u.state,l=u.data,t=u.error,j=!t)):(t=y,!b&&y||(y="error",0>b&&(b=0))),x.status=b,x.statusText=(c||y)+"",j?q.resolveWith(o,[l,y,x]):q.rejectWith(o,[x,y,t]),x.statusCode(s),s=void 0,k&&p.trigger(j?"ajaxSuccess":"ajaxError",[x,m,j?l:t]),r.fireWith(o,[x,y]),k&&(p.trigger("ajaxComplete",[x,m]),--n.active||n.event.trigger("ajaxStop")))}return x},getJSON:function(a,b,c){return n.get(a,b,c,"json")},getScript:function(a,b){return n.get(a,void 0,b,"script")}}),n.each(["get","post"],function(a,b){n[b]=function(a,c,d,e){return n.isFunction(c)&&(e=e||d,d=c,c=void 0),n.ajax(n.extend({url:a,type:b,dataType:e,data:c,success:d},n.isPlainObject(a)&&a))}}),n._evalUrl=function(a){return n.ajax({url:a,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},n.fn.extend({wrapAll:function(a){var b;return n.isFunction(a)?this.each(function(b){n(this).wrapAll(a.call(this,b))}):(this[0]&&(b=n(a,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){var a=this;while(a.firstElementChild)a=a.firstElementChild;return a}).append(this)),this)},wrapInner:function(a){return n.isFunction(a)?this.each(function(b){n(this).wrapInner(a.call(this,b))}):this.each(function(){var b=n(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=n.isFunction(a);return this.each(function(c){n(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(){return this.parent().each(function(){n.nodeName(this,"body")||n(this).replaceWith(this.childNodes)}).end()}}),n.expr.filters.hidden=function(a){return!n.expr.filters.visible(a)},n.expr.filters.visible=function(a){return a.offsetWidth>0||a.offsetHeight>0||a.getClientRects().length>0};var Bb=/%20/g,Cb=/\[\]$/,Db=/\r?\n/g,Eb=/^(?:submit|button|image|reset|file)$/i,Fb=/^(?:input|select|textarea|keygen)/i;function Gb(a,b,c,d){var e;if(n.isArray(b))n.each(b,function(b,e){c||Cb.test(a)?d(a,e):Gb(a+"["+("object"==typeof e&&null!=e?b:"")+"]",e,c,d)});else if(c||"object"!==n.type(b))d(a,b);else for(e in b)Gb(a+"["+e+"]",b[e],c,d)}n.param=function(a,b){var c,d=[],e=function(a,b){b=n.isFunction(b)?b():null==b?"":b,d[d.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};if(void 0===b&&(b=n.ajaxSettings&&n.ajaxSettings.traditional),n.isArray(a)||a.jquery&&!n.isPlainObject(a))n.each(a,function(){e(this.name,this.value)});else for(c in a)Gb(c,a[c],b,e);return d.join("&").replace(Bb,"+")},n.fn.extend({serialize:function(){return n.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var a=n.prop(this,"elements");return a?n.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!n(this).is(":disabled")&&Fb.test(this.nodeName)&&!Eb.test(a)&&(this.checked||!X.test(a))}).map(function(a,b){var c=n(this).val();return null==c?null:n.isArray(c)?n.map(c,function(a){return{name:b.name,value:a.replace(Db,"\r\n")}}):{name:b.name,value:c.replace(Db,"\r\n")}}).get()}}),n.ajaxSettings.xhr=function(){try{return new a.XMLHttpRequest}catch(b){}};var Hb={0:200,1223:204},Ib=n.ajaxSettings.xhr();l.cors=!!Ib&&"withCredentials"in Ib,l.ajax=Ib=!!Ib,n.ajaxTransport(function(b){var c,d;return l.cors||Ib&&!b.crossDomain?{send:function(e,f){var g,h=b.xhr();if(h.open(b.type,b.url,b.async,b.username,b.password),b.xhrFields)for(g in b.xhrFields)h[g]=b.xhrFields[g];b.mimeType&&h.overrideMimeType&&h.overrideMimeType(b.mimeType),b.crossDomain||e["X-Requested-With"]||(e["X-Requested-With"]="XMLHttpRequest");for(g in e)h.setRequestHeader(g,e[g]);c=function(a){return function(){c&&(c=d=h.onload=h.onerror=h.onabort=h.onreadystatechange=null,"abort"===a?h.abort():"error"===a?"number"!=typeof h.status?f(0,"error"):f(h.status,h.statusText):f(Hb[h.status]||h.status,h.statusText,"text"!==(h.responseType||"text")||"string"!=typeof h.responseText?{binary:h.response}:{text:h.responseText},h.getAllResponseHeaders()))}},h.onload=c(),d=h.onerror=c("error"),void 0!==h.onabort?h.onabort=d:h.onreadystatechange=function(){4===h.readyState&&a.setTimeout(function(){c&&d()})},c=c("abort");try{h.send(b.hasContent&&b.data||null)}catch(i){if(c)throw i}},abort:function(){c&&c()}}:void 0}),n.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(a){return n.globalEval(a),a}}}),n.ajaxPrefilter("script",function(a){void 0===a.cache&&(a.cache=!1),a.crossDomain&&(a.type="GET")}),n.ajaxTransport("script",function(a){if(a.crossDomain){var b,c;return{send:function(e,f){b=n("<script>").prop({charset:a.scriptCharset,src:a.url}).on("load error",c=function(a){b.remove(),c=null,a&&f("error"===a.type?404:200,a.type)}),d.head.appendChild(b[0])},abort:function(){c&&c()}}}});var Jb=[],Kb=/(=)\?(?=&|$)|\?\?/;n.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=Jb.pop()||n.expando+"_"+kb++;return this[a]=!0,a}}),n.ajaxPrefilter("json jsonp",function(b,c,d){var e,f,g,h=b.jsonp!==!1&&(Kb.test(b.url)?"url":"string"==typeof b.data&&0===(b.contentType||"").indexOf("application/x-www-form-urlencoded")&&Kb.test(b.data)&&"data");return h||"jsonp"===b.dataTypes[0]?(e=b.jsonpCallback=n.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,h?b[h]=b[h].replace(Kb,"$1"+e):b.jsonp!==!1&&(b.url+=(lb.test(b.url)?"&":"?")+b.jsonp+"="+e),b.converters["script json"]=function(){return g||n.error(e+" was not called"),g[0]},b.dataTypes[0]="json",f=a[e],a[e]=function(){g=arguments},d.always(function(){void 0===f?n(a).removeProp(e):a[e]=f,b[e]&&(b.jsonpCallback=c.jsonpCallback,Jb.push(e)),g&&n.isFunction(f)&&f(g[0]),g=f=void 0}),"script"):void 0}),n.parseHTML=function(a,b,c){if(!a||"string"!=typeof a)return null;"boolean"==typeof b&&(c=b,b=!1),b=b||d;var e=x.exec(a),f=!c&&[];return e?[b.createElement(e[1])]:(e=ca([a],b,f),f&&f.length&&n(f).remove(),n.merge([],e.childNodes))};var Lb=n.fn.load;n.fn.load=function(a,b,c){if("string"!=typeof a&&Lb)return Lb.apply(this,arguments);var d,e,f,g=this,h=a.indexOf(" ");return h>-1&&(d=n.trim(a.slice(h)),a=a.slice(0,h)),n.isFunction(b)?(c=b,b=void 0):b&&"object"==typeof b&&(e="POST"),g.length>0&&n.ajax({url:a,type:e||"GET",dataType:"html",data:b}).done(function(a){f=arguments,g.html(d?n("<div>").append(n.parseHTML(a)).find(d):a)}).always(c&&function(a,b){g.each(function(){c.apply(this,f||[a.responseText,b,a])})}),this},n.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(a,b){n.fn[b]=function(a){return this.on(b,a)}}),n.expr.filters.animated=function(a){return n.grep(n.timers,function(b){return a===b.elem}).length};function Mb(a){return n.isWindow(a)?a:9===a.nodeType&&a.defaultView}n.offset={setOffset:function(a,b,c){var d,e,f,g,h,i,j,k=n.css(a,"position"),l=n(a),m={};"static"===k&&(a.style.position="relative"),h=l.offset(),f=n.css(a,"top"),i=n.css(a,"left"),j=("absolute"===k||"fixed"===k)&&(f+i).indexOf("auto")>-1,j?(d=l.position(),g=d.top,e=d.left):(g=parseFloat(f)||0,e=parseFloat(i)||0),n.isFunction(b)&&(b=b.call(a,c,n.extend({},h))),null!=b.top&&(m.top=b.top-h.top+g),null!=b.left&&(m.left=b.left-h.left+e),"using"in b?b.using.call(a,m):l.css(m)}},n.fn.extend({offset:function(a){if(arguments.length)return void 0===a?this:this.each(function(b){n.offset.setOffset(this,a,b)});var b,c,d=this[0],e={top:0,left:0},f=d&&d.ownerDocument;if(f)return b=f.documentElement,n.contains(b,d)?(e=d.getBoundingClientRect(),c=Mb(f),{top:e.top+c.pageYOffset-b.clientTop,left:e.left+c.pageXOffset-b.clientLeft}):e},position:function(){if(this[0]){var a,b,c=this[0],d={top:0,left:0};return"fixed"===n.css(c,"position")?b=c.getBoundingClientRect():(a=this.offsetParent(),b=this.offset(),n.nodeName(a[0],"html")||(d=a.offset()),d.top+=n.css(a[0],"borderTopWidth",!0),d.left+=n.css(a[0],"borderLeftWidth",!0)),{top:b.top-d.top-n.css(c,"marginTop",!0),left:b.left-d.left-n.css(c,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){var a=this.offsetParent;while(a&&"static"===n.css(a,"position"))a=a.offsetParent;return a||Ea})}}),n.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(a,b){var c="pageYOffset"===b;n.fn[a]=function(d){return K(this,function(a,d,e){var f=Mb(a);return void 0===e?f?f[b]:a[d]:void(f?f.scrollTo(c?f.pageXOffset:e,c?e:f.pageYOffset):a[d]=e)},a,d,arguments.length)}}),n.each(["top","left"],function(a,b){n.cssHooks[b]=Ga(l.pixelPosition,function(a,c){return c?(c=Fa(a,b),Ba.test(c)?n(a).position()[b]+"px":c):void 0})}),n.each({Height:"height",Width:"width"},function(a,b){n.each({padding:"inner"+a,content:b,"":"outer"+a},function(c,d){n.fn[d]=function(d,e){var f=arguments.length&&(c||"boolean"!=typeof d),g=c||(d===!0||e===!0?"margin":"border");return K(this,function(b,c,d){var e;return n.isWindow(b)?b.document.documentElement["client"+a]:9===b.nodeType?(e=b.documentElement,Math.max(b.body["scroll"+a],e["scroll"+a],b.body["offset"+a],e["offset"+a],e["client"+a])):void 0===d?n.css(b,c,g):n.style(b,c,d,g)},b,f?d:void 0,f,null)}})}),n.fn.extend({bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return 1===arguments.length?this.off(a,"**"):this.off(b,a||"**",c)},size:function(){return this.length}}),n.fn.andSelf=n.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return n});var Nb=a.jQuery,Ob=a.$;return n.noConflict=function(b){return a.$===n&&(a.$=Ob),b&&a.jQuery===n&&(a.jQuery=Nb),n},b||(a.jQuery=a.$=n),n});</script>


  
 <style >/*!
  * Bootstrap v4.5.3 (https://getbootstrap.com/)
  * Copyright 2011-2020 The Bootstrap Authors
  * Copyright 2011-2020 Twitter, Inc.
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */:root{--blue:#007bff;--indigo:#6610f2;--purple:#6f42c1;--pink:#e83e8c;--red:#dc3545;--orange:#fd7e14;--yellow:#ffc107;--green:#28a745;--teal:#20c997;--cyan:#17a2b8;--white:#fff;--gray:#6c757d;--gray-dark:#343a40;--primary:#007bff;--secondary:#6c757d;--success:#28a745;--info:#17a2b8;--warning:#ffc107;--danger:#dc3545;--light:#f8f9fa;--dark:#343a40;--breakpoint-xs:0;--breakpoint-sm:576px;--breakpoint-md:768px;--breakpoint-lg:992px;--breakpoint-xl:1200px;--font-family-sans-serif:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";--font-family-monospace:SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace}*,::after,::before{box-sizing:border-box}html{font-family:sans-serif;line-height:1.15;-webkit-text-size-adjust:100%;-webkit-tap-highlight-color:transparent}article,aside,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}body{margin:0;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";font-size:1rem;font-weight:400;line-height:1.5;color:#212529;text-align:left;background-color:#fff}[tabindex="-1"]:focus:not(:focus-visible){outline:0!important}hr{box-sizing:content-box;height:0;overflow:visible}h1,h2,h3,h4,h5,h6{margin-top:0;margin-bottom:.5rem}p{margin-top:0;margin-bottom:1rem}abbr[data-original-title],abbr[title]{text-decoration:underline;-webkit-text-decoration:underline dotted;text-decoration:underline dotted;cursor:help;border-bottom:0;-webkit-text-decoration-skip-ink:none;text-decoration-skip-ink:none}address{margin-bottom:1rem;font-style:normal;line-height:inherit}dl,ol,ul{margin-top:0;margin-bottom:1rem}ol ol,ol ul,ul ol,ul ul{margin-bottom:0}dt{font-weight:700}dd{margin-bottom:.5rem;margin-left:0}blockquote{margin:0 0 1rem}b,strong{font-weight:bolder}small{font-size:80%}sub,sup{position:relative;font-size:75%;line-height:0;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}a{color:#007bff;text-decoration:none;background-color:transparent}a:hover{color:#0056b3;text-decoration:underline}a:not([href]):not([class]){color:inherit;text-decoration:none}a:not([href]):not([class]):hover{color:inherit;text-decoration:none}code,kbd,pre,samp{font-family:SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;font-size:1em}pre{margin-top:0;margin-bottom:1rem;overflow:auto;-ms-overflow-style:scrollbar}figure{margin:0 0 1rem}img{vertical-align:middle;border-style:none}svg{overflow:hidden;vertical-align:middle}table{border-collapse:collapse}caption{padding-top:.75rem;padding-bottom:.75rem;color:#6c757d;text-align:left;caption-side:bottom}th{text-align:inherit;text-align:-webkit-match-parent}label{display:inline-block;margin-bottom:.5rem}button{border-radius:0}button:focus{outline:1px dotted;outline:5px auto -webkit-focus-ring-color}button,input,optgroup,select,textarea{margin:0;font-family:inherit;font-size:inherit;line-height:inherit}button,input{overflow:visible}button,select{text-transform:none}[role=button]{cursor:pointer}select{word-wrap:normal}[type=button],[type=reset],[type=submit],button{-webkit-appearance:button}[type=button]:not(:disabled),[type=reset]:not(:disabled),[type=submit]:not(:disabled),button:not(:disabled){cursor:pointer}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner,button::-moz-focus-inner{padding:0;border-style:none}input[type=checkbox],input[type=radio]{box-sizing:border-box;padding:0}textarea{overflow:auto;resize:vertical}fieldset{min-width:0;padding:0;margin:0;border:0}legend{display:block;width:100%;max-width:100%;padding:0;margin-bottom:.5rem;font-size:1.5rem;line-height:inherit;color:inherit;white-space:normal}progress{vertical-align:baseline}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{outline-offset:-2px;-webkit-appearance:none}[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{font:inherit;-webkit-appearance:button}output{display:inline-block}summary{display:list-item;cursor:pointer}template{display:none}[hidden]{display:none!important}.h1,.h2,.h3,.h4,.h5,.h6,h1,h2,h3,h4,h5,h6{margin-bottom:.5rem;font-weight:500;line-height:1.2}.h1,h1{font-size:2.5rem}.h2,h2{font-size:2rem}.h3,h3{font-size:1.75rem}.h4,h4{font-size:1.5rem}.h5,h5{font-size:1.25rem}.h6,h6{font-size:1rem}.lead{font-size:1.25rem;font-weight:300}.display-1{font-size:6rem;font-weight:300;line-height:1.2}.display-2{font-size:5.5rem;font-weight:300;line-height:1.2}.display-3{font-size:4.5rem;font-weight:300;line-height:1.2}.display-4{font-size:3.5rem;font-weight:300;line-height:1.2}hr{margin-top:1rem;margin-bottom:1rem;border:0;border-top:1px solid rgba(0,0,0,.1)}.small,small{font-size:80%;font-weight:400}.mark,mark{padding:.2em;background-color:#fcf8e3}.list-unstyled{padding-left:0;list-style:none}.list-inline{padding-left:0;list-style:none}.list-inline-item{display:inline-block}.list-inline-item:not(:last-child){margin-right:.5rem}.initialism{font-size:90%;text-transform:uppercase}.blockquote{margin-bottom:1rem;font-size:1.25rem}.blockquote-footer{display:block;font-size:80%;color:#6c757d}.blockquote-footer::before{content:"\2014\00A0"}.img-fluid{max-width:100%;height:auto}.img-thumbnail{padding:.25rem;background-color:#fff;border:1px solid #dee2e6;border-radius:.25rem;max-width:100%;height:auto}.figure{display:inline-block}.figure-img{margin-bottom:.5rem;line-height:1}.figure-caption{font-size:90%;color:#6c757d}code{font-size:87.5%;color:#e83e8c;word-wrap:break-word}a>code{color:inherit}kbd{padding:.2rem .4rem;font-size:87.5%;color:#fff;background-color:#212529;border-radius:.2rem}kbd kbd{padding:0;font-size:100%;font-weight:700}pre{display:block;font-size:87.5%;color:#212529}pre code{font-size:inherit;color:inherit;word-break:normal}.pre-scrollable{max-height:340px;overflow-y:scroll}.container,.container-fluid,.container-lg,.container-md,.container-sm,.container-xl{width:100%;padding-right:15px;padding-left:15px;margin-right:auto;margin-left:auto}@media (min-width:576px){.container,.container-sm{max-width:540px}}@media (min-width:768px){.container,.container-md,.container-sm{max-width:720px}}@media (min-width:992px){.container,.container-lg,.container-md,.container-sm{max-width:960px}}@media (min-width:1200px){.container,.container-lg,.container-md,.container-sm,.container-xl{max-width:1140px}}.row{display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap;margin-right:-15px;margin-left:-15px}.no-gutters{margin-right:0;margin-left:0}.no-gutters>.col,.no-gutters>[class*=col-]{padding-right:0;padding-left:0}.col,.col-1,.col-10,.col-11,.col-12,.col-2,.col-3,.col-4,.col-5,.col-6,.col-7,.col-8,.col-9,.col-auto,.col-lg,.col-lg-1,.col-lg-10,.col-lg-11,.col-lg-12,.col-lg-2,.col-lg-3,.col-lg-4,.col-lg-5,.col-lg-6,.col-lg-7,.col-lg-8,.col-lg-9,.col-lg-auto,.col-md,.col-md-1,.col-md-10,.col-md-11,.col-md-12,.col-md-2,.col-md-3,.col-md-4,.col-md-5,.col-md-6,.col-md-7,.col-md-8,.col-md-9,.col-md-auto,.col-sm,.col-sm-1,.col-sm-10,.col-sm-11,.col-sm-12,.col-sm-2,.col-sm-3,.col-sm-4,.col-sm-5,.col-sm-6,.col-sm-7,.col-sm-8,.col-sm-9,.col-sm-auto,.col-xl,.col-xl-1,.col-xl-10,.col-xl-11,.col-xl-12,.col-xl-2,.col-xl-3,.col-xl-4,.col-xl-5,.col-xl-6,.col-xl-7,.col-xl-8,.col-xl-9,.col-xl-auto{position:relative;width:100%;padding-right:15px;padding-left:15px}.col{-ms-flex-preferred-size:0;flex-basis:0;-ms-flex-positive:1;flex-grow:1;max-width:100%}.row-cols-1>*{-ms-flex:0 0 100%;flex:0 0 100%;max-width:100%}.row-cols-2>*{-ms-flex:0 0 50%;flex:0 0 50%;max-width:50%}.row-cols-3>*{-ms-flex:0 0 33.333333%;flex:0 0 33.333333%;max-width:33.333333%}.row-cols-4>*{-ms-flex:0 0 25%;flex:0 0 25%;max-width:25%}.row-cols-5>*{-ms-flex:0 0 20%;flex:0 0 20%;max-width:20%}.row-cols-6>*{-ms-flex:0 0 16.666667%;flex:0 0 16.666667%;max-width:16.666667%}.col-auto{-ms-flex:0 0 auto;flex:0 0 auto;width:auto;max-width:100%}.col-1{-ms-flex:0 0 8.333333%;flex:0 0 8.333333%;max-width:8.333333%}.col-2{-ms-flex:0 0 16.666667%;flex:0 0 16.666667%;max-width:16.666667%}.col-3{-ms-flex:0 0 25%;flex:0 0 25%;max-width:25%}.col-4{-ms-flex:0 0 33.333333%;flex:0 0 33.333333%;max-width:33.333333%}.col-5{-ms-flex:0 0 41.666667%;flex:0 0 41.666667%;max-width:41.666667%}.col-6{-ms-flex:0 0 50%;flex:0 0 50%;max-width:50%}.col-7{-ms-flex:0 0 58.333333%;flex:0 0 58.333333%;max-width:58.333333%}.col-8{-ms-flex:0 0 66.666667%;flex:0 0 66.666667%;max-width:66.666667%}.col-9{-ms-flex:0 0 75%;flex:0 0 75%;max-width:75%}.col-10{-ms-flex:0 0 83.333333%;flex:0 0 83.333333%;max-width:83.333333%}.col-11{-ms-flex:0 0 91.666667%;flex:0 0 91.666667%;max-width:91.666667%}.col-12{-ms-flex:0 0 100%;flex:0 0 100%;max-width:100%}.order-first{-ms-flex-order:-1;order:-1}.order-last{-ms-flex-order:13;order:13}.order-0{-ms-flex-order:0;order:0}.order-1{-ms-flex-order:1;order:1}.order-2{-ms-flex-order:2;order:2}.order-3{-ms-flex-order:3;order:3}.order-4{-ms-flex-order:4;order:4}.order-5{-ms-flex-order:5;order:5}.order-6{-ms-flex-order:6;order:6}.order-7{-ms-flex-order:7;order:7}.order-8{-ms-flex-order:8;order:8}.order-9{-ms-flex-order:9;order:9}.order-10{-ms-flex-order:10;order:10}.order-11{-ms-flex-order:11;order:11}.order-12{-ms-flex-order:12;order:12}.offset-1{margin-left:8.333333%}.offset-2{margin-left:16.666667%}.offset-3{margin-left:25%}.offset-4{margin-left:33.333333%}.offset-5{margin-left:41.666667%}.offset-6{margin-left:50%}.offset-7{margin-left:58.333333%}.offset-8{margin-left:66.666667%}.offset-9{margin-left:75%}.offset-10{margin-left:83.333333%}.offset-11{margin-left:91.666667%}@media (min-width:576px){.col-sm{-ms-flex-preferred-size:0;flex-basis:0;-ms-flex-positive:1;flex-grow:1;max-width:100%}.row-cols-sm-1>*{-ms-flex:0 0 100%;flex:0 0 100%;max-width:100%}.row-cols-sm-2>*{-ms-flex:0 0 50%;flex:0 0 50%;max-width:50%}.row-cols-sm-3>*{-ms-flex:0 0 33.333333%;flex:0 0 33.333333%;max-width:33.333333%}.row-cols-sm-4>*{-ms-flex:0 0 25%;flex:0 0 25%;max-width:25%}.row-cols-sm-5>*{-ms-flex:0 0 20%;flex:0 0 20%;max-width:20%}.row-cols-sm-6>*{-ms-flex:0 0 16.666667%;flex:0 0 16.666667%;max-width:16.666667%}.col-sm-auto{-ms-flex:0 0 auto;flex:0 0 auto;width:auto;max-width:100%}.col-sm-1{-ms-flex:0 0 8.333333%;flex:0 0 8.333333%;max-width:8.333333%}.col-sm-2{-ms-flex:0 0 16.666667%;flex:0 0 16.666667%;max-width:16.666667%}.col-sm-3{-ms-flex:0 0 25%;flex:0 0 25%;max-width:25%}.col-sm-4{-ms-flex:0 0 33.333333%;flex:0 0 33.333333%;max-width:33.333333%}.col-sm-5{-ms-flex:0 0 41.666667%;flex:0 0 41.666667%;max-width:41.666667%}.col-sm-6{-ms-flex:0 0 50%;flex:0 0 50%;max-width:50%}.col-sm-7{-ms-flex:0 0 58.333333%;flex:0 0 58.333333%;max-width:58.333333%}.col-sm-8{-ms-flex:0 0 66.666667%;flex:0 0 66.666667%;max-width:66.666667%}.col-sm-9{-ms-flex:0 0 75%;flex:0 0 75%;max-width:75%}.col-sm-10{-ms-flex:0 0 83.333333%;flex:0 0 83.333333%;max-width:83.333333%}.col-sm-11{-ms-flex:0 0 91.666667%;flex:0 0 91.666667%;max-width:91.666667%}.col-sm-12{-ms-flex:0 0 100%;flex:0 0 100%;max-width:100%}.order-sm-first{-ms-flex-order:-1;order:-1}.order-sm-last{-ms-flex-order:13;order:13}.order-sm-0{-ms-flex-order:0;order:0}.order-sm-1{-ms-flex-order:1;order:1}.order-sm-2{-ms-flex-order:2;order:2}.order-sm-3{-ms-flex-order:3;order:3}.order-sm-4{-ms-flex-order:4;order:4}.order-sm-5{-ms-flex-order:5;order:5}.order-sm-6{-ms-flex-order:6;order:6}.order-sm-7{-ms-flex-order:7;order:7}.order-sm-8{-ms-flex-order:8;order:8}.order-sm-9{-ms-flex-order:9;order:9}.order-sm-10{-ms-flex-order:10;order:10}.order-sm-11{-ms-flex-order:11;order:11}.order-sm-12{-ms-flex-order:12;order:12}.offset-sm-0{margin-left:0}.offset-sm-1{margin-left:8.333333%}.offset-sm-2{margin-left:16.666667%}.offset-sm-3{margin-left:25%}.offset-sm-4{margin-left:33.333333%}.offset-sm-5{margin-left:41.666667%}.offset-sm-6{margin-left:50%}.offset-sm-7{margin-left:58.333333%}.offset-sm-8{margin-left:66.666667%}.offset-sm-9{margin-left:75%}.offset-sm-10{margin-left:83.333333%}.offset-sm-11{margin-left:91.666667%}}@media (min-width:768px){.col-md{-ms-flex-preferred-size:0;flex-basis:0;-ms-flex-positive:1;flex-grow:1;max-width:100%}.row-cols-md-1>*{-ms-flex:0 0 100%;flex:0 0 100%;max-width:100%}.row-cols-md-2>*{-ms-flex:0 0 50%;flex:0 0 50%;max-width:50%}.row-cols-md-3>*{-ms-flex:0 0 33.333333%;flex:0 0 33.333333%;max-width:33.333333%}.row-cols-md-4>*{-ms-flex:0 0 25%;flex:0 0 25%;max-width:25%}.row-cols-md-5>*{-ms-flex:0 0 20%;flex:0 0 20%;max-width:20%}.row-cols-md-6>*{-ms-flex:0 0 16.666667%;flex:0 0 16.666667%;max-width:16.666667%}.col-md-auto{-ms-flex:0 0 auto;flex:0 0 auto;width:auto;max-width:100%}.col-md-1{-ms-flex:0 0 8.333333%;flex:0 0 8.333333%;max-width:8.333333%}.col-md-2{-ms-flex:0 0 16.666667%;flex:0 0 16.666667%;max-width:16.666667%}.col-md-3{-ms-flex:0 0 25%;flex:0 0 25%;max-width:25%}.col-md-4{-ms-flex:0 0 33.333333%;flex:0 0 33.333333%;max-width:33.333333%}.col-md-5{-ms-flex:0 0 41.666667%;flex:0 0 41.666667%;max-width:41.666667%}.col-md-6{-ms-flex:0 0 50%;flex:0 0 50%;max-width:50%}.col-md-7{-ms-flex:0 0 58.333333%;flex:0 0 58.333333%;max-width:58.333333%}.col-md-8{-ms-flex:0 0 66.666667%;flex:0 0 66.666667%;max-width:66.666667%}.col-md-9{-ms-flex:0 0 75%;flex:0 0 75%;max-width:75%}.col-md-10{-ms-flex:0 0 83.333333%;flex:0 0 83.333333%;max-width:83.333333%}.col-md-11{-ms-flex:0 0 91.666667%;flex:0 0 91.666667%;max-width:91.666667%}.col-md-12{-ms-flex:0 0 100%;flex:0 0 100%;max-width:100%}.order-md-first{-ms-flex-order:-1;order:-1}.order-md-last{-ms-flex-order:13;order:13}.order-md-0{-ms-flex-order:0;order:0}.order-md-1{-ms-flex-order:1;order:1}.order-md-2{-ms-flex-order:2;order:2}.order-md-3{-ms-flex-order:3;order:3}.order-md-4{-ms-flex-order:4;order:4}.order-md-5{-ms-flex-order:5;order:5}.order-md-6{-ms-flex-order:6;order:6}.order-md-7{-ms-flex-order:7;order:7}.order-md-8{-ms-flex-order:8;order:8}.order-md-9{-ms-flex-order:9;order:9}.order-md-10{-ms-flex-order:10;order:10}.order-md-11{-ms-flex-order:11;order:11}.order-md-12{-ms-flex-order:12;order:12}.offset-md-0{margin-left:0}.offset-md-1{margin-left:8.333333%}.offset-md-2{margin-left:16.666667%}.offset-md-3{margin-left:25%}.offset-md-4{margin-left:33.333333%}.offset-md-5{margin-left:41.666667%}.offset-md-6{margin-left:50%}.offset-md-7{margin-left:58.333333%}.offset-md-8{margin-left:66.666667%}.offset-md-9{margin-left:75%}.offset-md-10{margin-left:83.333333%}.offset-md-11{margin-left:91.666667%}}@media (min-width:992px){.col-lg{-ms-flex-preferred-size:0;flex-basis:0;-ms-flex-positive:1;flex-grow:1;max-width:100%}.row-cols-lg-1>*{-ms-flex:0 0 100%;flex:0 0 100%;max-width:100%}.row-cols-lg-2>*{-ms-flex:0 0 50%;flex:0 0 50%;max-width:50%}.row-cols-lg-3>*{-ms-flex:0 0 33.333333%;flex:0 0 33.333333%;max-width:33.333333%}.row-cols-lg-4>*{-ms-flex:0 0 25%;flex:0 0 25%;max-width:25%}.row-cols-lg-5>*{-ms-flex:0 0 20%;flex:0 0 20%;max-width:20%}.row-cols-lg-6>*{-ms-flex:0 0 16.666667%;flex:0 0 16.666667%;max-width:16.666667%}.col-lg-auto{-ms-flex:0 0 auto;flex:0 0 auto;width:auto;max-width:100%}.col-lg-1{-ms-flex:0 0 8.333333%;flex:0 0 8.333333%;max-width:8.333333%}.col-lg-2{-ms-flex:0 0 16.666667%;flex:0 0 16.666667%;max-width:16.666667%}.col-lg-3{-ms-flex:0 0 25%;flex:0 0 25%;max-width:25%}.col-lg-4{-ms-flex:0 0 33.333333%;flex:0 0 33.333333%;max-width:33.333333%}.col-lg-5{-ms-flex:0 0 41.666667%;flex:0 0 41.666667%;max-width:41.666667%}.col-lg-6{-ms-flex:0 0 50%;flex:0 0 50%;max-width:50%}.col-lg-7{-ms-flex:0 0 58.333333%;flex:0 0 58.333333%;max-width:58.333333%}.col-lg-8{-ms-flex:0 0 66.666667%;flex:0 0 66.666667%;max-width:66.666667%}.col-lg-9{-ms-flex:0 0 75%;flex:0 0 75%;max-width:75%}.col-lg-10{-ms-flex:0 0 83.333333%;flex:0 0 83.333333%;max-width:83.333333%}.col-lg-11{-ms-flex:0 0 91.666667%;flex:0 0 91.666667%;max-width:91.666667%}.col-lg-12{-ms-flex:0 0 100%;flex:0 0 100%;max-width:100%}.order-lg-first{-ms-flex-order:-1;order:-1}.order-lg-last{-ms-flex-order:13;order:13}.order-lg-0{-ms-flex-order:0;order:0}.order-lg-1{-ms-flex-order:1;order:1}.order-lg-2{-ms-flex-order:2;order:2}.order-lg-3{-ms-flex-order:3;order:3}.order-lg-4{-ms-flex-order:4;order:4}.order-lg-5{-ms-flex-order:5;order:5}.order-lg-6{-ms-flex-order:6;order:6}.order-lg-7{-ms-flex-order:7;order:7}.order-lg-8{-ms-flex-order:8;order:8}.order-lg-9{-ms-flex-order:9;order:9}.order-lg-10{-ms-flex-order:10;order:10}.order-lg-11{-ms-flex-order:11;order:11}.order-lg-12{-ms-flex-order:12;order:12}.offset-lg-0{margin-left:0}.offset-lg-1{margin-left:8.333333%}.offset-lg-2{margin-left:16.666667%}.offset-lg-3{margin-left:25%}.offset-lg-4{margin-left:33.333333%}.offset-lg-5{margin-left:41.666667%}.offset-lg-6{margin-left:50%}.offset-lg-7{margin-left:58.333333%}.offset-lg-8{margin-left:66.666667%}.offset-lg-9{margin-left:75%}.offset-lg-10{margin-left:83.333333%}.offset-lg-11{margin-left:91.666667%}}@media (min-width:1200px){.col-xl{-ms-flex-preferred-size:0;flex-basis:0;-ms-flex-positive:1;flex-grow:1;max-width:100%}.row-cols-xl-1>*{-ms-flex:0 0 100%;flex:0 0 100%;max-width:100%}.row-cols-xl-2>*{-ms-flex:0 0 50%;flex:0 0 50%;max-width:50%}.row-cols-xl-3>*{-ms-flex:0 0 33.333333%;flex:0 0 33.333333%;max-width:33.333333%}.row-cols-xl-4>*{-ms-flex:0 0 25%;flex:0 0 25%;max-width:25%}.row-cols-xl-5>*{-ms-flex:0 0 20%;flex:0 0 20%;max-width:20%}.row-cols-xl-6>*{-ms-flex:0 0 16.666667%;flex:0 0 16.666667%;max-width:16.666667%}.col-xl-auto{-ms-flex:0 0 auto;flex:0 0 auto;width:auto;max-width:100%}.col-xl-1{-ms-flex:0 0 8.333333%;flex:0 0 8.333333%;max-width:8.333333%}.col-xl-2{-ms-flex:0 0 16.666667%;flex:0 0 16.666667%;max-width:16.666667%}.col-xl-3{-ms-flex:0 0 25%;flex:0 0 25%;max-width:25%}.col-xl-4{-ms-flex:0 0 33.333333%;flex:0 0 33.333333%;max-width:33.333333%}.col-xl-5{-ms-flex:0 0 41.666667%;flex:0 0 41.666667%;max-width:41.666667%}.col-xl-6{-ms-flex:0 0 50%;flex:0 0 50%;max-width:50%}.col-xl-7{-ms-flex:0 0 58.333333%;flex:0 0 58.333333%;max-width:58.333333%}.col-xl-8{-ms-flex:0 0 66.666667%;flex:0 0 66.666667%;max-width:66.666667%}.col-xl-9{-ms-flex:0 0 75%;flex:0 0 75%;max-width:75%}.col-xl-10{-ms-flex:0 0 83.333333%;flex:0 0 83.333333%;max-width:83.333333%}.col-xl-11{-ms-flex:0 0 91.666667%;flex:0 0 91.666667%;max-width:91.666667%}.col-xl-12{-ms-flex:0 0 100%;flex:0 0 100%;max-width:100%}.order-xl-first{-ms-flex-order:-1;order:-1}.order-xl-last{-ms-flex-order:13;order:13}.order-xl-0{-ms-flex-order:0;order:0}.order-xl-1{-ms-flex-order:1;order:1}.order-xl-2{-ms-flex-order:2;order:2}.order-xl-3{-ms-flex-order:3;order:3}.order-xl-4{-ms-flex-order:4;order:4}.order-xl-5{-ms-flex-order:5;order:5}.order-xl-6{-ms-flex-order:6;order:6}.order-xl-7{-ms-flex-order:7;order:7}.order-xl-8{-ms-flex-order:8;order:8}.order-xl-9{-ms-flex-order:9;order:9}.order-xl-10{-ms-flex-order:10;order:10}.order-xl-11{-ms-flex-order:11;order:11}.order-xl-12{-ms-flex-order:12;order:12}.offset-xl-0{margin-left:0}.offset-xl-1{margin-left:8.333333%}.offset-xl-2{margin-left:16.666667%}.offset-xl-3{margin-left:25%}.offset-xl-4{margin-left:33.333333%}.offset-xl-5{margin-left:41.666667%}.offset-xl-6{margin-left:50%}.offset-xl-7{margin-left:58.333333%}.offset-xl-8{margin-left:66.666667%}.offset-xl-9{margin-left:75%}.offset-xl-10{margin-left:83.333333%}.offset-xl-11{margin-left:91.666667%}}.table{width:100%;margin-bottom:1rem;color:#212529}.table td,.table th{padding:.75rem;vertical-align:top;border-top:1px solid #dee2e6}.table thead th{vertical-align:bottom;border-bottom:2px solid #dee2e6}.table tbody+tbody{border-top:2px solid #dee2e6}.table-sm td,.table-sm th{padding:.3rem}.table-bordered{border:1px solid #dee2e6}.table-bordered td,.table-bordered th{border:1px solid #dee2e6}.table-bordered thead td,.table-bordered thead th{border-bottom-width:2px}.table-borderless tbody+tbody,.table-borderless td,.table-borderless th,.table-borderless thead th{border:0}.table-striped tbody tr:nth-of-type(odd){background-color:rgba(0,0,0,.05)}.table-hover tbody tr:hover{color:#212529;background-color:rgba(0,0,0,.075)}.table-primary,.table-primary>td,.table-primary>th{background-color:#b8daff}.table-primary tbody+tbody,.table-primary td,.table-primary th,.table-primary thead th{border-color:#7abaff}.table-hover .table-primary:hover{background-color:#9fcdff}.table-hover .table-primary:hover>td,.table-hover .table-primary:hover>th{background-color:#9fcdff}.table-secondary,.table-secondary>td,.table-secondary>th{background-color:#d6d8db}.table-secondary tbody+tbody,.table-secondary td,.table-secondary th,.table-secondary thead th{border-color:#b3b7bb}.table-hover .table-secondary:hover{background-color:#c8cbcf}.table-hover .table-secondary:hover>td,.table-hover .table-secondary:hover>th{background-color:#c8cbcf}.table-success,.table-success>td,.table-success>th{background-color:#c3e6cb}.table-success tbody+tbody,.table-success td,.table-success th,.table-success thead th{border-color:#8fd19e}.table-hover .table-success:hover{background-color:#b1dfbb}.table-hover .table-success:hover>td,.table-hover .table-success:hover>th{background-color:#b1dfbb}.table-info,.table-info>td,.table-info>th{background-color:#bee5eb}.table-info tbody+tbody,.table-info td,.table-info th,.table-info thead th{border-color:#86cfda}.table-hover .table-info:hover{background-color:#abdde5}.table-hover .table-info:hover>td,.table-hover .table-info:hover>th{background-color:#abdde5}.table-warning,.table-warning>td,.table-warning>th{background-color:#ffeeba}.table-warning tbody+tbody,.table-warning td,.table-warning th,.table-warning thead th{border-color:#ffdf7e}.table-hover .table-warning:hover{background-color:#ffe8a1}.table-hover .table-warning:hover>td,.table-hover .table-warning:hover>th{background-color:#ffe8a1}.table-danger,.table-danger>td,.table-danger>th{background-color:#f5c6cb}.table-danger tbody+tbody,.table-danger td,.table-danger th,.table-danger thead th{border-color:#ed969e}.table-hover .table-danger:hover{background-color:#f1b0b7}.table-hover .table-danger:hover>td,.table-hover .table-danger:hover>th{background-color:#f1b0b7}.table-light,.table-light>td,.table-light>th{background-color:#fdfdfe}.table-light tbody+tbody,.table-light td,.table-light th,.table-light thead th{border-color:#fbfcfc}.table-hover .table-light:hover{background-color:#ececf6}.table-hover .table-light:hover>td,.table-hover .table-light:hover>th{background-color:#ececf6}.table-dark,.table-dark>td,.table-dark>th{background-color:#c6c8ca}.table-dark tbody+tbody,.table-dark td,.table-dark th,.table-dark thead th{border-color:#95999c}.table-hover .table-dark:hover{background-color:#b9bbbe}.table-hover .table-dark:hover>td,.table-hover .table-dark:hover>th{background-color:#b9bbbe}.table-active,.table-active>td,.table-active>th{background-color:rgba(0,0,0,.075)}.table-hover .table-active:hover{background-color:rgba(0,0,0,.075)}.table-hover .table-active:hover>td,.table-hover .table-active:hover>th{background-color:rgba(0,0,0,.075)}.table .thead-dark th{color:#fff;background-color:#343a40;border-color:#454d55}.table .thead-light th{color:#495057;background-color:#e9ecef;border-color:#dee2e6}.table-dark{color:#fff;background-color:#343a40}.table-dark td,.table-dark th,.table-dark thead th{border-color:#454d55}.table-dark.table-bordered{border:0}.table-dark.table-striped tbody tr:nth-of-type(odd){background-color:rgba(255,255,255,.05)}.table-dark.table-hover tbody tr:hover{color:#fff;background-color:rgba(255,255,255,.075)}@media (max-width:575.98px){.table-responsive-sm{display:block;width:100%;overflow-x:auto;-webkit-overflow-scrolling:touch}.table-responsive-sm>.table-bordered{border:0}}@media (max-width:767.98px){.table-responsive-md{display:block;width:100%;overflow-x:auto;-webkit-overflow-scrolling:touch}.table-responsive-md>.table-bordered{border:0}}@media (max-width:991.98px){.table-responsive-lg{display:block;width:100%;overflow-x:auto;-webkit-overflow-scrolling:touch}.table-responsive-lg>.table-bordered{border:0}}@media (max-width:1199.98px){.table-responsive-xl{display:block;width:100%;overflow-x:auto;-webkit-overflow-scrolling:touch}.table-responsive-xl>.table-bordered{border:0}}.table-responsive{display:block;width:100%;overflow-x:auto;-webkit-overflow-scrolling:touch}.table-responsive>.table-bordered{border:0}.form-control{display:block;width:100%;height:calc(1.5em + .75rem + 2px);padding:.375rem .75rem;font-size:1rem;font-weight:400;line-height:1.5;color:#495057;background-color:#fff;background-clip:padding-box;border:1px solid #ced4da;border-radius:.25rem;transition:border-color .15s ease-in-out,box-shadow .15s ease-in-out}@media (prefers-reduced-motion:reduce){.form-control{transition:none}}.form-control::-ms-expand{background-color:transparent;border:0}.form-control:-moz-focusring{color:transparent;text-shadow:0 0 0 #495057}.form-control:focus{color:#495057;background-color:#fff;border-color:#80bdff;outline:0;box-shadow:0 0 0 .2rem rgba(0,123,255,.25)}.form-control::-webkit-input-placeholder{color:#6c757d;opacity:1}.form-control::-moz-placeholder{color:#6c757d;opacity:1}.form-control:-ms-input-placeholder{color:#6c757d;opacity:1}.form-control::-ms-input-placeholder{color:#6c757d;opacity:1}.form-control::placeholder{color:#6c757d;opacity:1}.form-control:disabled,.form-control[readonly]{background-color:#e9ecef;opacity:1}input[type=date].form-control,input[type=datetime-local].form-control,input[type=month].form-control,input[type=time].form-control{-webkit-appearance:none;-moz-appearance:none;appearance:none}select.form-control:focus::-ms-value{color:#495057;background-color:#fff}.form-control-file,.form-control-range{display:block;width:100%}.col-form-label{padding-top:calc(.375rem + 1px);padding-bottom:calc(.375rem + 1px);margin-bottom:0;font-size:inherit;line-height:1.5}.col-form-label-lg{padding-top:calc(.5rem + 1px);padding-bottom:calc(.5rem + 1px);font-size:1.25rem;line-height:1.5}.col-form-label-sm{padding-top:calc(.25rem + 1px);padding-bottom:calc(.25rem + 1px);font-size:.875rem;line-height:1.5}.form-control-plaintext{display:block;width:100%;padding:.375rem 0;margin-bottom:0;font-size:1rem;line-height:1.5;color:#212529;background-color:transparent;border:solid transparent;border-width:1px 0}.form-control-plaintext.form-control-lg,.form-control-plaintext.form-control-sm{padding-right:0;padding-left:0}.form-control-sm{height:calc(1.5em + .5rem + 2px);padding:.25rem .5rem;font-size:.875rem;line-height:1.5;border-radius:.2rem}.form-control-lg{height:calc(1.5em + 1rem + 2px);padding:.5rem 1rem;font-size:1.25rem;line-height:1.5;border-radius:.3rem}select.form-control[multiple],select.form-control[size]{height:auto}textarea.form-control{height:auto}.form-group{margin-bottom:1rem}.form-text{display:block;margin-top:.25rem}.form-row{display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap;margin-right:-5px;margin-left:-5px}.form-row>.col,.form-row>[class*=col-]{padding-right:5px;padding-left:5px}.form-check{position:relative;display:block;padding-left:1.25rem}.form-check-input{position:absolute;margin-top:.3rem;margin-left:-1.25rem}.form-check-input:disabled~.form-check-label,.form-check-input[disabled]~.form-check-label{color:#6c757d}.form-check-label{margin-bottom:0}.form-check-inline{display:-ms-inline-flexbox;display:inline-flex;-ms-flex-align:center;align-items:center;padding-left:0;margin-right:.75rem}.form-check-inline .form-check-input{position:static;margin-top:0;margin-right:.3125rem;margin-left:0}.valid-feedback{display:none;width:100%;margin-top:.25rem;font-size:80%;color:#28a745}.valid-tooltip{position:absolute;top:100%;left:0;z-index:5;display:none;max-width:100%;padding:.25rem .5rem;margin-top:.1rem;font-size:.875rem;line-height:1.5;color:#fff;background-color:rgba(40,167,69,.9);border-radius:.25rem}.is-valid~.valid-feedback,.is-valid~.valid-tooltip,.was-validated :valid~.valid-feedback,.was-validated :valid~.valid-tooltip{display:block}.form-control.is-valid,.was-validated .form-control:valid{border-color:#28a745;padding-right:calc(1.5em + .75rem);background-image:url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='8' height='8' viewBox='0 0 8 8'%3e%3cpath fill='%2328a745' d='M2.3 6.73L.6 4.53c-.4-1.04.46-1.4 1.1-.8l1.1 1.4 3.4-3.8c.6-.63 1.6-.27 1.2.7l-4 4.6c-.43.5-.8.4-1.1.1z'/%3e%3c/svg%3e");background-repeat:no-repeat;background-position:right calc(.375em + .1875rem) center;background-size:calc(.75em + .375rem) calc(.75em + .375rem)}.form-control.is-valid:focus,.was-validated .form-control:valid:focus{border-color:#28a745;box-shadow:0 0 0 .2rem rgba(40,167,69,.25)}.was-validated textarea.form-control:valid,textarea.form-control.is-valid{padding-right:calc(1.5em + .75rem);background-position:top calc(.375em + .1875rem) right calc(.375em + .1875rem)}.custom-select.is-valid,.was-validated .custom-select:valid{border-color:#28a745;padding-right:calc(.75em + 2.3125rem);background:url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='4' height='5' viewBox='0 0 4 5'%3e%3cpath fill='%23343a40' d='M2 0L0 2h4zm0 5L0 3h4z'/%3e%3c/svg%3e") no-repeat right .75rem center/8px 10px,url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='8' height='8' viewBox='0 0 8 8'%3e%3cpath fill='%2328a745' d='M2.3 6.73L.6 4.53c-.4-1.04.46-1.4 1.1-.8l1.1 1.4 3.4-3.8c.6-.63 1.6-.27 1.2.7l-4 4.6c-.43.5-.8.4-1.1.1z'/%3e%3c/svg%3e") #fff no-repeat center right 1.75rem/calc(.75em + .375rem) calc(.75em + .375rem)}.custom-select.is-valid:focus,.was-validated .custom-select:valid:focus{border-color:#28a745;box-shadow:0 0 0 .2rem rgba(40,167,69,.25)}.form-check-input.is-valid~.form-check-label,.was-validated .form-check-input:valid~.form-check-label{color:#28a745}.form-check-input.is-valid~.valid-feedback,.form-check-input.is-valid~.valid-tooltip,.was-validated .form-check-input:valid~.valid-feedback,.was-validated .form-check-input:valid~.valid-tooltip{display:block}.custom-control-input.is-valid~.custom-control-label,.was-validated .custom-control-input:valid~.custom-control-label{color:#28a745}.custom-control-input.is-valid~.custom-control-label::before,.was-validated .custom-control-input:valid~.custom-control-label::before{border-color:#28a745}.custom-control-input.is-valid:checked~.custom-control-label::before,.was-validated .custom-control-input:valid:checked~.custom-control-label::before{border-color:#34ce57;background-color:#34ce57}.custom-control-input.is-valid:focus~.custom-control-label::before,.was-validated .custom-control-input:valid:focus~.custom-control-label::before{box-shadow:0 0 0 .2rem rgba(40,167,69,.25)}.custom-control-input.is-valid:focus:not(:checked)~.custom-control-label::before,.was-validated .custom-control-input:valid:focus:not(:checked)~.custom-control-label::before{border-color:#28a745}.custom-file-input.is-valid~.custom-file-label,.was-validated .custom-file-input:valid~.custom-file-label{border-color:#28a745}.custom-file-input.is-valid:focus~.custom-file-label,.was-validated .custom-file-input:valid:focus~.custom-file-label{border-color:#28a745;box-shadow:0 0 0 .2rem rgba(40,167,69,.25)}.invalid-feedback{display:none;width:100%;margin-top:.25rem;font-size:80%;color:#dc3545}.invalid-tooltip{position:absolute;top:100%;left:0;z-index:5;display:none;max-width:100%;padding:.25rem .5rem;margin-top:.1rem;font-size:.875rem;line-height:1.5;color:#fff;background-color:rgba(220,53,69,.9);border-radius:.25rem}.is-invalid~.invalid-feedback,.is-invalid~.invalid-tooltip,.was-validated :invalid~.invalid-feedback,.was-validated :invalid~.invalid-tooltip{display:block}.form-control.is-invalid,.was-validated .form-control:invalid{border-color:#dc3545;padding-right:calc(1.5em + .75rem);background-image:url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' fill='none' stroke='%23dc3545' viewBox='0 0 12 12'%3e%3ccircle cx='6' cy='6' r='4.5'/%3e%3cpath stroke-linejoin='round' d='M5.8 3.6h.4L6 6.5z'/%3e%3ccircle cx='6' cy='8.2' r='.6' fill='%23dc3545' stroke='none'/%3e%3c/svg%3e");background-repeat:no-repeat;background-position:right calc(.375em + .1875rem) center;background-size:calc(.75em + .375rem) calc(.75em + .375rem)}.form-control.is-invalid:focus,.was-validated .form-control:invalid:focus{border-color:#dc3545;box-shadow:0 0 0 .2rem rgba(220,53,69,.25)}.was-validated textarea.form-control:invalid,textarea.form-control.is-invalid{padding-right:calc(1.5em + .75rem);background-position:top calc(.375em + .1875rem) right calc(.375em + .1875rem)}.custom-select.is-invalid,.was-validated .custom-select:invalid{border-color:#dc3545;padding-right:calc(.75em + 2.3125rem);background:url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='4' height='5' viewBox='0 0 4 5'%3e%3cpath fill='%23343a40' d='M2 0L0 2h4zm0 5L0 3h4z'/%3e%3c/svg%3e") no-repeat right .75rem center/8px 10px,url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' fill='none' stroke='%23dc3545' viewBox='0 0 12 12'%3e%3ccircle cx='6' cy='6' r='4.5'/%3e%3cpath stroke-linejoin='round' d='M5.8 3.6h.4L6 6.5z'/%3e%3ccircle cx='6' cy='8.2' r='.6' fill='%23dc3545' stroke='none'/%3e%3c/svg%3e") #fff no-repeat center right 1.75rem/calc(.75em + .375rem) calc(.75em + .375rem)}.custom-select.is-invalid:focus,.was-validated .custom-select:invalid:focus{border-color:#dc3545;box-shadow:0 0 0 .2rem rgba(220,53,69,.25)}.form-check-input.is-invalid~.form-check-label,.was-validated .form-check-input:invalid~.form-check-label{color:#dc3545}.form-check-input.is-invalid~.invalid-feedback,.form-check-input.is-invalid~.invalid-tooltip,.was-validated .form-check-input:invalid~.invalid-feedback,.was-validated .form-check-input:invalid~.invalid-tooltip{display:block}.custom-control-input.is-invalid~.custom-control-label,.was-validated .custom-control-input:invalid~.custom-control-label{color:#dc3545}.custom-control-input.is-invalid~.custom-control-label::before,.was-validated .custom-control-input:invalid~.custom-control-label::before{border-color:#dc3545}.custom-control-input.is-invalid:checked~.custom-control-label::before,.was-validated .custom-control-input:invalid:checked~.custom-control-label::before{border-color:#e4606d;background-color:#e4606d}.custom-control-input.is-invalid:focus~.custom-control-label::before,.was-validated .custom-control-input:invalid:focus~.custom-control-label::before{box-shadow:0 0 0 .2rem rgba(220,53,69,.25)}.custom-control-input.is-invalid:focus:not(:checked)~.custom-control-label::before,.was-validated .custom-control-input:invalid:focus:not(:checked)~.custom-control-label::before{border-color:#dc3545}.custom-file-input.is-invalid~.custom-file-label,.was-validated .custom-file-input:invalid~.custom-file-label{border-color:#dc3545}.custom-file-input.is-invalid:focus~.custom-file-label,.was-validated .custom-file-input:invalid:focus~.custom-file-label{border-color:#dc3545;box-shadow:0 0 0 .2rem rgba(220,53,69,.25)}.form-inline{display:-ms-flexbox;display:flex;-ms-flex-flow:row wrap;flex-flow:row wrap;-ms-flex-align:center;align-items:center}.form-inline .form-check{width:100%}@media (min-width:576px){.form-inline label{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;margin-bottom:0}.form-inline .form-group{display:-ms-flexbox;display:flex;-ms-flex:0 0 auto;flex:0 0 auto;-ms-flex-flow:row wrap;flex-flow:row wrap;-ms-flex-align:center;align-items:center;margin-bottom:0}.form-inline .form-control{display:inline-block;width:auto;vertical-align:middle}.form-inline .form-control-plaintext{display:inline-block}.form-inline .custom-select,.form-inline .input-group{width:auto}.form-inline .form-check{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:auto;padding-left:0}.form-inline .form-check-input{position:relative;-ms-flex-negative:0;flex-shrink:0;margin-top:0;margin-right:.25rem;margin-left:0}.form-inline .custom-control{-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center}.form-inline .custom-control-label{margin-bottom:0}}.btn{display:inline-block;font-weight:400;color:#212529;text-align:center;vertical-align:middle;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;background-color:transparent;border:1px solid transparent;padding:.375rem .75rem;font-size:1rem;line-height:1.5;border-radius:.25rem;transition:color .15s ease-in-out,background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out}@media (prefers-reduced-motion:reduce){.btn{transition:none}}.btn:hover{color:#212529;text-decoration:none}.btn.focus,.btn:focus{outline:0;box-shadow:0 0 0 .2rem rgba(0,123,255,.25)}.btn.disabled,.btn:disabled{opacity:.65}.btn:not(:disabled):not(.disabled){cursor:pointer}a.btn.disabled,fieldset:disabled a.btn{pointer-events:none}.btn-primary{color:#fff;background-color:#007bff;border-color:#007bff}.btn-primary:hover{color:#fff;background-color:#0069d9;border-color:#0062cc}.btn-primary.focus,.btn-primary:focus{color:#fff;background-color:#0069d9;border-color:#0062cc;box-shadow:0 0 0 .2rem rgba(38,143,255,.5)}.btn-primary.disabled,.btn-primary:disabled{color:#fff;background-color:#007bff;border-color:#007bff}.btn-primary:not(:disabled):not(.disabled).active,.btn-primary:not(:disabled):not(.disabled):active,.show>.btn-primary.dropdown-toggle{color:#fff;background-color:#0062cc;border-color:#005cbf}.btn-primary:not(:disabled):not(.disabled).active:focus,.btn-primary:not(:disabled):not(.disabled):active:focus,.show>.btn-primary.dropdown-toggle:focus{box-shadow:0 0 0 .2rem rgba(38,143,255,.5)}.btn-secondary{color:#fff;background-color:#6c757d;border-color:#6c757d}.btn-secondary:hover{color:#fff;background-color:#5a6268;border-color:#545b62}.btn-secondary.focus,.btn-secondary:focus{color:#fff;background-color:#5a6268;border-color:#545b62;box-shadow:0 0 0 .2rem rgba(130,138,145,.5)}.btn-secondary.disabled,.btn-secondary:disabled{color:#fff;background-color:#6c757d;border-color:#6c757d}.btn-secondary:not(:disabled):not(.disabled).active,.btn-secondary:not(:disabled):not(.disabled):active,.show>.btn-secondary.dropdown-toggle{color:#fff;background-color:#545b62;border-color:#4e555b}.btn-secondary:not(:disabled):not(.disabled).active:focus,.btn-secondary:not(:disabled):not(.disabled):active:focus,.show>.btn-secondary.dropdown-toggle:focus{box-shadow:0 0 0 .2rem rgba(130,138,145,.5)}.btn-success{color:#fff;background-color:#28a745;border-color:#28a745}.btn-success:hover{color:#fff;background-color:#218838;border-color:#1e7e34}.btn-success.focus,.btn-success:focus{color:#fff;background-color:#218838;border-color:#1e7e34;box-shadow:0 0 0 .2rem rgba(72,180,97,.5)}.btn-success.disabled,.btn-success:disabled{color:#fff;background-color:#28a745;border-color:#28a745}.btn-success:not(:disabled):not(.disabled).active,.btn-success:not(:disabled):not(.disabled):active,.show>.btn-success.dropdown-toggle{color:#fff;background-color:#1e7e34;border-color:#1c7430}.btn-success:not(:disabled):not(.disabled).active:focus,.btn-success:not(:disabled):not(.disabled):active:focus,.show>.btn-success.dropdown-toggle:focus{box-shadow:0 0 0 .2rem rgba(72,180,97,.5)}.btn-info{color:#fff;background-color:#17a2b8;border-color:#17a2b8}.btn-info:hover{color:#fff;background-color:#138496;border-color:#117a8b}.btn-info.focus,.btn-info:focus{color:#fff;background-color:#138496;border-color:#117a8b;box-shadow:0 0 0 .2rem rgba(58,176,195,.5)}.btn-info.disabled,.btn-info:disabled{color:#fff;background-color:#17a2b8;border-color:#17a2b8}.btn-info:not(:disabled):not(.disabled).active,.btn-info:not(:disabled):not(.disabled):active,.show>.btn-info.dropdown-toggle{color:#fff;background-color:#117a8b;border-color:#10707f}.btn-info:not(:disabled):not(.disabled).active:focus,.btn-info:not(:disabled):not(.disabled):active:focus,.show>.btn-info.dropdown-toggle:focus{box-shadow:0 0 0 .2rem rgba(58,176,195,.5)}.btn-warning{color:#212529;background-color:#ffc107;border-color:#ffc107}.btn-warning:hover{color:#212529;background-color:#e0a800;border-color:#d39e00}.btn-warning.focus,.btn-warning:focus{color:#212529;background-color:#e0a800;border-color:#d39e00;box-shadow:0 0 0 .2rem rgba(222,170,12,.5)}.btn-warning.disabled,.btn-warning:disabled{color:#212529;background-color:#ffc107;border-color:#ffc107}.btn-warning:not(:disabled):not(.disabled).active,.btn-warning:not(:disabled):not(.disabled):active,.show>.btn-warning.dropdown-toggle{color:#212529;background-color:#d39e00;border-color:#c69500}.btn-warning:not(:disabled):not(.disabled).active:focus,.btn-warning:not(:disabled):not(.disabled):active:focus,.show>.btn-warning.dropdown-toggle:focus{box-shadow:0 0 0 .2rem rgba(222,170,12,.5)}.btn-danger{color:#fff;background-color:#dc3545;border-color:#dc3545}.btn-danger:hover{color:#fff;background-color:#c82333;border-color:#bd2130}.btn-danger.focus,.btn-danger:focus{color:#fff;background-color:#c82333;border-color:#bd2130;box-shadow:0 0 0 .2rem rgba(225,83,97,.5)}.btn-danger.disabled,.btn-danger:disabled{color:#fff;background-color:#dc3545;border-color:#dc3545}.btn-danger:not(:disabled):not(.disabled).active,.btn-danger:not(:disabled):not(.disabled):active,.show>.btn-danger.dropdown-toggle{color:#fff;background-color:#bd2130;border-color:#b21f2d}.btn-danger:not(:disabled):not(.disabled).active:focus,.btn-danger:not(:disabled):not(.disabled):active:focus,.show>.btn-danger.dropdown-toggle:focus{box-shadow:0 0 0 .2rem rgba(225,83,97,.5)}.btn-light{color:#212529;background-color:#f8f9fa;border-color:#f8f9fa}.btn-light:hover{color:#212529;background-color:#e2e6ea;border-color:#dae0e5}.btn-light.focus,.btn-light:focus{color:#212529;background-color:#e2e6ea;border-color:#dae0e5;box-shadow:0 0 0 .2rem rgba(216,217,219,.5)}.btn-light.disabled,.btn-light:disabled{color:#212529;background-color:#f8f9fa;border-color:#f8f9fa}.btn-light:not(:disabled):not(.disabled).active,.btn-light:not(:disabled):not(.disabled):active,.show>.btn-light.dropdown-toggle{color:#212529;background-color:#dae0e5;border-color:#d3d9df}.btn-light:not(:disabled):not(.disabled).active:focus,.btn-light:not(:disabled):not(.disabled):active:focus,.show>.btn-light.dropdown-toggle:focus{box-shadow:0 0 0 .2rem rgba(216,217,219,.5)}.btn-dark{color:#fff;background-color:#343a40;border-color:#343a40}.btn-dark:hover{color:#fff;background-color:#23272b;border-color:#1d2124}.btn-dark.focus,.btn-dark:focus{color:#fff;background-color:#23272b;border-color:#1d2124;box-shadow:0 0 0 .2rem rgba(82,88,93,.5)}.btn-dark.disabled,.btn-dark:disabled{color:#fff;background-color:#343a40;border-color:#343a40}.btn-dark:not(:disabled):not(.disabled).active,.btn-dark:not(:disabled):not(.disabled):active,.show>.btn-dark.dropdown-toggle{color:#fff;background-color:#1d2124;border-color:#171a1d}.btn-dark:not(:disabled):not(.disabled).active:focus,.btn-dark:not(:disabled):not(.disabled):active:focus,.show>.btn-dark.dropdown-toggle:focus{box-shadow:0 0 0 .2rem rgba(82,88,93,.5)}.btn-outline-primary{color:#007bff;border-color:#007bff}.btn-outline-primary:hover{color:#fff;background-color:#007bff;border-color:#007bff}.btn-outline-primary.focus,.btn-outline-primary:focus{box-shadow:0 0 0 .2rem rgba(0,123,255,.5)}.btn-outline-primary.disabled,.btn-outline-primary:disabled{color:#007bff;background-color:transparent}.btn-outline-primary:not(:disabled):not(.disabled).active,.btn-outline-primary:not(:disabled):not(.disabled):active,.show>.btn-outline-primary.dropdown-toggle{color:#fff;background-color:#007bff;border-color:#007bff}.btn-outline-primary:not(:disabled):not(.disabled).active:focus,.btn-outline-primary:not(:disabled):not(.disabled):active:focus,.show>.btn-outline-primary.dropdown-toggle:focus{box-shadow:0 0 0 .2rem rgba(0,123,255,.5)}.btn-outline-secondary{color:#6c757d;border-color:#6c757d}.btn-outline-secondary:hover{color:#fff;background-color:#6c757d;border-color:#6c757d}.btn-outline-secondary.focus,.btn-outline-secondary:focus{box-shadow:0 0 0 .2rem rgba(108,117,125,.5)}.btn-outline-secondary.disabled,.btn-outline-secondary:disabled{color:#6c757d;background-color:transparent}.btn-outline-secondary:not(:disabled):not(.disabled).active,.btn-outline-secondary:not(:disabled):not(.disabled):active,.show>.btn-outline-secondary.dropdown-toggle{color:#fff;background-color:#6c757d;border-color:#6c757d}.btn-outline-secondary:not(:disabled):not(.disabled).active:focus,.btn-outline-secondary:not(:disabled):not(.disabled):active:focus,.show>.btn-outline-secondary.dropdown-toggle:focus{box-shadow:0 0 0 .2rem rgba(108,117,125,.5)}.btn-outline-success{color:#28a745;border-color:#28a745}.btn-outline-success:hover{color:#fff;background-color:#28a745;border-color:#28a745}.btn-outline-success.focus,.btn-outline-success:focus{box-shadow:0 0 0 .2rem rgba(40,167,69,.5)}.btn-outline-success.disabled,.btn-outline-success:disabled{color:#28a745;background-color:transparent}.btn-outline-success:not(:disabled):not(.disabled).active,.btn-outline-success:not(:disabled):not(.disabled):active,.show>.btn-outline-success.dropdown-toggle{color:#fff;background-color:#28a745;border-color:#28a745}.btn-outline-success:not(:disabled):not(.disabled).active:focus,.btn-outline-success:not(:disabled):not(.disabled):active:focus,.show>.btn-outline-success.dropdown-toggle:focus{box-shadow:0 0 0 .2rem rgba(40,167,69,.5)}.btn-outline-info{color:#17a2b8;border-color:#17a2b8}.btn-outline-info:hover{color:#fff;background-color:#17a2b8;border-color:#17a2b8}.btn-outline-info.focus,.btn-outline-info:focus{box-shadow:0 0 0 .2rem rgba(23,162,184,.5)}.btn-outline-info.disabled,.btn-outline-info:disabled{color:#17a2b8;background-color:transparent}.btn-outline-info:not(:disabled):not(.disabled).active,.btn-outline-info:not(:disabled):not(.disabled):active,.show>.btn-outline-info.dropdown-toggle{color:#fff;background-color:#17a2b8;border-color:#17a2b8}.btn-outline-info:not(:disabled):not(.disabled).active:focus,.btn-outline-info:not(:disabled):not(.disabled):active:focus,.show>.btn-outline-info.dropdown-toggle:focus{box-shadow:0 0 0 .2rem rgba(23,162,184,.5)}.btn-outline-warning{color:#ffc107;border-color:#ffc107}.btn-outline-warning:hover{color:#212529;background-color:#ffc107;border-color:#ffc107}.btn-outline-warning.focus,.btn-outline-warning:focus{box-shadow:0 0 0 .2rem rgba(255,193,7,.5)}.btn-outline-warning.disabled,.btn-outline-warning:disabled{color:#ffc107;background-color:transparent}.btn-outline-warning:not(:disabled):not(.disabled).active,.btn-outline-warning:not(:disabled):not(.disabled):active,.show>.btn-outline-warning.dropdown-toggle{color:#212529;background-color:#ffc107;border-color:#ffc107}.btn-outline-warning:not(:disabled):not(.disabled).active:focus,.btn-outline-warning:not(:disabled):not(.disabled):active:focus,.show>.btn-outline-warning.dropdown-toggle:focus{box-shadow:0 0 0 .2rem rgba(255,193,7,.5)}.btn-outline-danger{color:#dc3545;border-color:#dc3545}.btn-outline-danger:hover{color:#fff;background-color:#dc3545;border-color:#dc3545}.btn-outline-danger.focus,.btn-outline-danger:focus{box-shadow:0 0 0 .2rem rgba(220,53,69,.5)}.btn-outline-danger.disabled,.btn-outline-danger:disabled{color:#dc3545;background-color:transparent}.btn-outline-danger:not(:disabled):not(.disabled).active,.btn-outline-danger:not(:disabled):not(.disabled):active,.show>.btn-outline-danger.dropdown-toggle{color:#fff;background-color:#dc3545;border-color:#dc3545}.btn-outline-danger:not(:disabled):not(.disabled).active:focus,.btn-outline-danger:not(:disabled):not(.disabled):active:focus,.show>.btn-outline-danger.dropdown-toggle:focus{box-shadow:0 0 0 .2rem rgba(220,53,69,.5)}.btn-outline-light{color:#f8f9fa;border-color:#f8f9fa}.btn-outline-light:hover{color:#212529;background-color:#f8f9fa;border-color:#f8f9fa}.btn-outline-light.focus,.btn-outline-light:focus{box-shadow:0 0 0 .2rem rgba(248,249,250,.5)}.btn-outline-light.disabled,.btn-outline-light:disabled{color:#f8f9fa;background-color:transparent}.btn-outline-light:not(:disabled):not(.disabled).active,.btn-outline-light:not(:disabled):not(.disabled):active,.show>.btn-outline-light.dropdown-toggle{color:#212529;background-color:#f8f9fa;border-color:#f8f9fa}.btn-outline-light:not(:disabled):not(.disabled).active:focus,.btn-outline-light:not(:disabled):not(.disabled):active:focus,.show>.btn-outline-light.dropdown-toggle:focus{box-shadow:0 0 0 .2rem rgba(248,249,250,.5)}.btn-outline-dark{color:#343a40;border-color:#343a40}.btn-outline-dark:hover{color:#fff;background-color:#343a40;border-color:#343a40}.btn-outline-dark.focus,.btn-outline-dark:focus{box-shadow:0 0 0 .2rem rgba(52,58,64,.5)}.btn-outline-dark.disabled,.btn-outline-dark:disabled{color:#343a40;background-color:transparent}.btn-outline-dark:not(:disabled):not(.disabled).active,.btn-outline-dark:not(:disabled):not(.disabled):active,.show>.btn-outline-dark.dropdown-toggle{color:#fff;background-color:#343a40;border-color:#343a40}.btn-outline-dark:not(:disabled):not(.disabled).active:focus,.btn-outline-dark:not(:disabled):not(.disabled):active:focus,.show>.btn-outline-dark.dropdown-toggle:focus{box-shadow:0 0 0 .2rem rgba(52,58,64,.5)}.btn-link{font-weight:400;color:#007bff;text-decoration:none}.btn-link:hover{color:#0056b3;text-decoration:underline}.btn-link.focus,.btn-link:focus{text-decoration:underline}.btn-link.disabled,.btn-link:disabled{color:#6c757d;pointer-events:none}.btn-group-lg>.btn,.btn-lg{padding:.5rem 1rem;font-size:1.25rem;line-height:1.5;border-radius:.3rem}.btn-group-sm>.btn,.btn-sm{padding:.25rem .5rem;font-size:.875rem;line-height:1.5;border-radius:.2rem}.btn-block{display:block;width:100%}.btn-block+.btn-block{margin-top:.5rem}input[type=button].btn-block,input[type=reset].btn-block,input[type=submit].btn-block{width:100%}.fade{transition:opacity .15s linear}@media (prefers-reduced-motion:reduce){.fade{transition:none}}.fade:not(.show){opacity:0}.collapse:not(.show){display:none}.collapsing{position:relative;height:0;overflow:hidden;transition:height .35s ease}@media (prefers-reduced-motion:reduce){.collapsing{transition:none}}.dropdown,.dropleft,.dropright,.dropup{position:relative}.dropdown-toggle{white-space:nowrap}.dropdown-toggle::after{display:inline-block;margin-left:.255em;vertical-align:.255em;content:"";border-top:.3em solid;border-right:.3em solid transparent;border-bottom:0;border-left:.3em solid transparent}.dropdown-toggle:empty::after{margin-left:0}.dropdown-menu{position:absolute;top:100%;left:0;z-index:1000;display:none;float:left;min-width:10rem;padding:.5rem 0;margin:.125rem 0 0;font-size:1rem;color:#212529;text-align:left;list-style:none;background-color:#fff;background-clip:padding-box;border:1px solid rgba(0,0,0,.15);border-radius:.25rem}.dropdown-menu-left{right:auto;left:0}.dropdown-menu-right{right:0;left:auto}@media (min-width:576px){.dropdown-menu-sm-left{right:auto;left:0}.dropdown-menu-sm-right{right:0;left:auto}}@media (min-width:768px){.dropdown-menu-md-left{right:auto;left:0}.dropdown-menu-md-right{right:0;left:auto}}@media (min-width:992px){.dropdown-menu-lg-left{right:auto;left:0}.dropdown-menu-lg-right{right:0;left:auto}}@media (min-width:1200px){.dropdown-menu-xl-left{right:auto;left:0}.dropdown-menu-xl-right{right:0;left:auto}}.dropup .dropdown-menu{top:auto;bottom:100%;margin-top:0;margin-bottom:.125rem}.dropup .dropdown-toggle::after{display:inline-block;margin-left:.255em;vertical-align:.255em;content:"";border-top:0;border-right:.3em solid transparent;border-bottom:.3em solid;border-left:.3em solid transparent}.dropup .dropdown-toggle:empty::after{margin-left:0}.dropright .dropdown-menu{top:0;right:auto;left:100%;margin-top:0;margin-left:.125rem}.dropright .dropdown-toggle::after{display:inline-block;margin-left:.255em;vertical-align:.255em;content:"";border-top:.3em solid transparent;border-right:0;border-bottom:.3em solid transparent;border-left:.3em solid}.dropright .dropdown-toggle:empty::after{margin-left:0}.dropright .dropdown-toggle::after{vertical-align:0}.dropleft .dropdown-menu{top:0;right:100%;left:auto;margin-top:0;margin-right:.125rem}.dropleft .dropdown-toggle::after{display:inline-block;margin-left:.255em;vertical-align:.255em;content:""}.dropleft .dropdown-toggle::after{display:none}.dropleft .dropdown-toggle::before{display:inline-block;margin-right:.255em;vertical-align:.255em;content:"";border-top:.3em solid transparent;border-right:.3em solid;border-bottom:.3em solid transparent}.dropleft .dropdown-toggle:empty::after{margin-left:0}.dropleft .dropdown-toggle::before{vertical-align:0}.dropdown-menu[x-placement^=bottom],.dropdown-menu[x-placement^=left],.dropdown-menu[x-placement^=right],.dropdown-menu[x-placement^=top]{right:auto;bottom:auto}.dropdown-divider{height:0;margin:.5rem 0;overflow:hidden;border-top:1px solid #e9ecef}.dropdown-item{display:block;width:100%;padding:.25rem 1.5rem;clear:both;font-weight:400;color:#212529;text-align:inherit;white-space:nowrap;background-color:transparent;border:0}.dropdown-item:focus,.dropdown-item:hover{color:#16181b;text-decoration:none;background-color:#f8f9fa}.dropdown-item.active,.dropdown-item:active{color:#fff;text-decoration:none;background-color:#007bff}.dropdown-item.disabled,.dropdown-item:disabled{color:#6c757d;pointer-events:none;background-color:transparent}.dropdown-menu.show{display:block}.dropdown-header{display:block;padding:.5rem 1.5rem;margin-bottom:0;font-size:.875rem;color:#6c757d;white-space:nowrap}.dropdown-item-text{display:block;padding:.25rem 1.5rem;color:#212529}.btn-group,.btn-group-vertical{position:relative;display:-ms-inline-flexbox;display:inline-flex;vertical-align:middle}.btn-group-vertical>.btn,.btn-group>.btn{position:relative;-ms-flex:1 1 auto;flex:1 1 auto}.btn-group-vertical>.btn:hover,.btn-group>.btn:hover{z-index:1}.btn-group-vertical>.btn.active,.btn-group-vertical>.btn:active,.btn-group-vertical>.btn:focus,.btn-group>.btn.active,.btn-group>.btn:active,.btn-group>.btn:focus{z-index:1}.btn-toolbar{display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap;-ms-flex-pack:start;justify-content:flex-start}.btn-toolbar .input-group{width:auto}.btn-group>.btn-group:not(:first-child),.btn-group>.btn:not(:first-child){margin-left:-1px}.btn-group>.btn-group:not(:last-child)>.btn,.btn-group>.btn:not(:last-child):not(.dropdown-toggle){border-top-right-radius:0;border-bottom-right-radius:0}.btn-group>.btn-group:not(:first-child)>.btn,.btn-group>.btn:not(:first-child){border-top-left-radius:0;border-bottom-left-radius:0}.dropdown-toggle-split{padding-right:.5625rem;padding-left:.5625rem}.dropdown-toggle-split::after,.dropright .dropdown-toggle-split::after,.dropup .dropdown-toggle-split::after{margin-left:0}.dropleft .dropdown-toggle-split::before{margin-right:0}.btn-group-sm>.btn+.dropdown-toggle-split,.btn-sm+.dropdown-toggle-split{padding-right:.375rem;padding-left:.375rem}.btn-group-lg>.btn+.dropdown-toggle-split,.btn-lg+.dropdown-toggle-split{padding-right:.75rem;padding-left:.75rem}.btn-group-vertical{-ms-flex-direction:column;flex-direction:column;-ms-flex-align:start;align-items:flex-start;-ms-flex-pack:center;justify-content:center}.btn-group-vertical>.btn,.btn-group-vertical>.btn-group{width:100%}.btn-group-vertical>.btn-group:not(:first-child),.btn-group-vertical>.btn:not(:first-child){margin-top:-1px}.btn-group-vertical>.btn-group:not(:last-child)>.btn,.btn-group-vertical>.btn:not(:last-child):not(.dropdown-toggle){border-bottom-right-radius:0;border-bottom-left-radius:0}.btn-group-vertical>.btn-group:not(:first-child)>.btn,.btn-group-vertical>.btn:not(:first-child){border-top-left-radius:0;border-top-right-radius:0}.btn-group-toggle>.btn,.btn-group-toggle>.btn-group>.btn{margin-bottom:0}.btn-group-toggle>.btn input[type=checkbox],.btn-group-toggle>.btn input[type=radio],.btn-group-toggle>.btn-group>.btn input[type=checkbox],.btn-group-toggle>.btn-group>.btn input[type=radio]{position:absolute;clip:rect(0,0,0,0);pointer-events:none}.input-group{position:relative;display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap;-ms-flex-align:stretch;align-items:stretch;width:100%}.input-group>.custom-file,.input-group>.custom-select,.input-group>.form-control,.input-group>.form-control-plaintext{position:relative;-ms-flex:1 1 auto;flex:1 1 auto;width:1%;min-width:0;margin-bottom:0}.input-group>.custom-file+.custom-file,.input-group>.custom-file+.custom-select,.input-group>.custom-file+.form-control,.input-group>.custom-select+.custom-file,.input-group>.custom-select+.custom-select,.input-group>.custom-select+.form-control,.input-group>.form-control+.custom-file,.input-group>.form-control+.custom-select,.input-group>.form-control+.form-control,.input-group>.form-control-plaintext+.custom-file,.input-group>.form-control-plaintext+.custom-select,.input-group>.form-control-plaintext+.form-control{margin-left:-1px}.input-group>.custom-file .custom-file-input:focus~.custom-file-label,.input-group>.custom-select:focus,.input-group>.form-control:focus{z-index:3}.input-group>.custom-file .custom-file-input:focus{z-index:4}.input-group>.custom-select:not(:last-child),.input-group>.form-control:not(:last-child){border-top-right-radius:0;border-bottom-right-radius:0}.input-group>.custom-select:not(:first-child),.input-group>.form-control:not(:first-child){border-top-left-radius:0;border-bottom-left-radius:0}.input-group>.custom-file{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}.input-group>.custom-file:not(:last-child) .custom-file-label,.input-group>.custom-file:not(:last-child) .custom-file-label::after{border-top-right-radius:0;border-bottom-right-radius:0}.input-group>.custom-file:not(:first-child) .custom-file-label{border-top-left-radius:0;border-bottom-left-radius:0}.input-group-append,.input-group-prepend{display:-ms-flexbox;display:flex}.input-group-append .btn,.input-group-prepend .btn{position:relative;z-index:2}.input-group-append .btn:focus,.input-group-prepend .btn:focus{z-index:3}.input-group-append .btn+.btn,.input-group-append .btn+.input-group-text,.input-group-append .input-group-text+.btn,.input-group-append .input-group-text+.input-group-text,.input-group-prepend .btn+.btn,.input-group-prepend .btn+.input-group-text,.input-group-prepend .input-group-text+.btn,.input-group-prepend .input-group-text+.input-group-text{margin-left:-1px}.input-group-prepend{margin-right:-1px}.input-group-append{margin-left:-1px}.input-group-text{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;padding:.375rem .75rem;margin-bottom:0;font-size:1rem;font-weight:400;line-height:1.5;color:#495057;text-align:center;white-space:nowrap;background-color:#e9ecef;border:1px solid #ced4da;border-radius:.25rem}.input-group-text input[type=checkbox],.input-group-text input[type=radio]{margin-top:0}.input-group-lg>.custom-select,.input-group-lg>.form-control:not(textarea){height:calc(1.5em + 1rem + 2px)}.input-group-lg>.custom-select,.input-group-lg>.form-control,.input-group-lg>.input-group-append>.btn,.input-group-lg>.input-group-append>.input-group-text,.input-group-lg>.input-group-prepend>.btn,.input-group-lg>.input-group-prepend>.input-group-text{padding:.5rem 1rem;font-size:1.25rem;line-height:1.5;border-radius:.3rem}.input-group-sm>.custom-select,.input-group-sm>.form-control:not(textarea){height:calc(1.5em + .5rem + 2px)}.input-group-sm>.custom-select,.input-group-sm>.form-control,.input-group-sm>.input-group-append>.btn,.input-group-sm>.input-group-append>.input-group-text,.input-group-sm>.input-group-prepend>.btn,.input-group-sm>.input-group-prepend>.input-group-text{padding:.25rem .5rem;font-size:.875rem;line-height:1.5;border-radius:.2rem}.input-group-lg>.custom-select,.input-group-sm>.custom-select{padding-right:1.75rem}.input-group>.input-group-append:last-child>.btn:not(:last-child):not(.dropdown-toggle),.input-group>.input-group-append:last-child>.input-group-text:not(:last-child),.input-group>.input-group-append:not(:last-child)>.btn,.input-group>.input-group-append:not(:last-child)>.input-group-text,.input-group>.input-group-prepend>.btn,.input-group>.input-group-prepend>.input-group-text{border-top-right-radius:0;border-bottom-right-radius:0}.input-group>.input-group-append>.btn,.input-group>.input-group-append>.input-group-text,.input-group>.input-group-prepend:first-child>.btn:not(:first-child),.input-group>.input-group-prepend:first-child>.input-group-text:not(:first-child),.input-group>.input-group-prepend:not(:first-child)>.btn,.input-group>.input-group-prepend:not(:first-child)>.input-group-text{border-top-left-radius:0;border-bottom-left-radius:0}.custom-control{position:relative;z-index:1;display:block;min-height:1.5rem;padding-left:1.5rem;-webkit-print-color-adjust:exact;color-adjust:exact}.custom-control-inline{display:-ms-inline-flexbox;display:inline-flex;margin-right:1rem}.custom-control-input{position:absolute;left:0;z-index:-1;width:1rem;height:1.25rem;opacity:0}.custom-control-input:checked~.custom-control-label::before{color:#fff;border-color:#007bff;background-color:#007bff}.custom-control-input:focus~.custom-control-label::before{box-shadow:0 0 0 .2rem rgba(0,123,255,.25)}.custom-control-input:focus:not(:checked)~.custom-control-label::before{border-color:#80bdff}.custom-control-input:not(:disabled):active~.custom-control-label::before{color:#fff;background-color:#b3d7ff;border-color:#b3d7ff}.custom-control-input:disabled~.custom-control-label,.custom-control-input[disabled]~.custom-control-label{color:#6c757d}.custom-control-input:disabled~.custom-control-label::before,.custom-control-input[disabled]~.custom-control-label::before{background-color:#e9ecef}.custom-control-label{position:relative;margin-bottom:0;vertical-align:top}.custom-control-label::before{position:absolute;top:.25rem;left:-1.5rem;display:block;width:1rem;height:1rem;pointer-events:none;content:"";background-color:#fff;border:#adb5bd solid 1px}.custom-control-label::after{position:absolute;top:.25rem;left:-1.5rem;display:block;width:1rem;height:1rem;content:"";background:no-repeat 50%/50% 50%}.custom-checkbox .custom-control-label::before{border-radius:.25rem}.custom-checkbox .custom-control-input:checked~.custom-control-label::after{background-image:url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='8' height='8' viewBox='0 0 8 8'%3e%3cpath fill='%23fff' d='M6.564.75l-3.59 3.612-1.538-1.55L0 4.26l2.974 2.99L8 2.193z'/%3e%3c/svg%3e")}.custom-checkbox .custom-control-input:indeterminate~.custom-control-label::before{border-color:#007bff;background-color:#007bff}.custom-checkbox .custom-control-input:indeterminate~.custom-control-label::after{background-image:url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='4' height='4' viewBox='0 0 4 4'%3e%3cpath stroke='%23fff' d='M0 2h4'/%3e%3c/svg%3e")}.custom-checkbox .custom-control-input:disabled:checked~.custom-control-label::before{background-color:rgba(0,123,255,.5)}.custom-checkbox .custom-control-input:disabled:indeterminate~.custom-control-label::before{background-color:rgba(0,123,255,.5)}.custom-radio .custom-control-label::before{border-radius:50%}.custom-radio .custom-control-input:checked~.custom-control-label::after{background-image:url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='-4 -4 8 8'%3e%3ccircle r='3' fill='%23fff'/%3e%3c/svg%3e")}.custom-radio .custom-control-input:disabled:checked~.custom-control-label::before{background-color:rgba(0,123,255,.5)}.custom-switch{padding-left:2.25rem}.custom-switch .custom-control-label::before{left:-2.25rem;width:1.75rem;pointer-events:all;border-radius:.5rem}.custom-switch .custom-control-label::after{top:calc(.25rem + 2px);left:calc(-2.25rem + 2px);width:calc(1rem - 4px);height:calc(1rem - 4px);background-color:#adb5bd;border-radius:.5rem;transition:background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out,-webkit-transform .15s ease-in-out;transition:transform .15s ease-in-out,background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out;transition:transform .15s ease-in-out,background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out,-webkit-transform .15s ease-in-out}@media (prefers-reduced-motion:reduce){.custom-switch .custom-control-label::after{transition:none}}.custom-switch .custom-control-input:checked~.custom-control-label::after{background-color:#fff;-webkit-transform:translateX(.75rem);transform:translateX(.75rem)}.custom-switch .custom-control-input:disabled:checked~.custom-control-label::before{background-color:rgba(0,123,255,.5)}.custom-select{display:inline-block;width:100%;height:calc(1.5em + .75rem + 2px);padding:.375rem 1.75rem .375rem .75rem;font-size:1rem;font-weight:400;line-height:1.5;color:#495057;vertical-align:middle;background:#fff url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='4' height='5' viewBox='0 0 4 5'%3e%3cpath fill='%23343a40' d='M2 0L0 2h4zm0 5L0 3h4z'/%3e%3c/svg%3e") no-repeat right .75rem center/8px 10px;border:1px solid #ced4da;border-radius:.25rem;-webkit-appearance:none;-moz-appearance:none;appearance:none}.custom-select:focus{border-color:#80bdff;outline:0;box-shadow:0 0 0 .2rem rgba(0,123,255,.25)}.custom-select:focus::-ms-value{color:#495057;background-color:#fff}.custom-select[multiple],.custom-select[size]:not([size="1"]){height:auto;padding-right:.75rem;background-image:none}.custom-select:disabled{color:#6c757d;background-color:#e9ecef}.custom-select::-ms-expand{display:none}.custom-select:-moz-focusring{color:transparent;text-shadow:0 0 0 #495057}.custom-select-sm{height:calc(1.5em + .5rem + 2px);padding-top:.25rem;padding-bottom:.25rem;padding-left:.5rem;font-size:.875rem}.custom-select-lg{height:calc(1.5em + 1rem + 2px);padding-top:.5rem;padding-bottom:.5rem;padding-left:1rem;font-size:1.25rem}.custom-file{position:relative;display:inline-block;width:100%;height:calc(1.5em + .75rem + 2px);margin-bottom:0}.custom-file-input{position:relative;z-index:2;width:100%;height:calc(1.5em + .75rem + 2px);margin:0;opacity:0}.custom-file-input:focus~.custom-file-label{border-color:#80bdff;box-shadow:0 0 0 .2rem rgba(0,123,255,.25)}.custom-file-input:disabled~.custom-file-label,.custom-file-input[disabled]~.custom-file-label{background-color:#e9ecef}.custom-file-input:lang(en)~.custom-file-label::after{content:"Browse"}.custom-file-input~.custom-file-label[data-browse]::after{content:attr(data-browse)}.custom-file-label{position:absolute;top:0;right:0;left:0;z-index:1;height:calc(1.5em + .75rem + 2px);padding:.375rem .75rem;font-weight:400;line-height:1.5;color:#495057;background-color:#fff;border:1px solid #ced4da;border-radius:.25rem}.custom-file-label::after{position:absolute;top:0;right:0;bottom:0;z-index:3;display:block;height:calc(1.5em + .75rem);padding:.375rem .75rem;line-height:1.5;color:#495057;content:"Browse";background-color:#e9ecef;border-left:inherit;border-radius:0 .25rem .25rem 0}.custom-range{width:100%;height:1.4rem;padding:0;background-color:transparent;-webkit-appearance:none;-moz-appearance:none;appearance:none}.custom-range:focus{outline:0}.custom-range:focus::-webkit-slider-thumb{box-shadow:0 0 0 1px #fff,0 0 0 .2rem rgba(0,123,255,.25)}.custom-range:focus::-moz-range-thumb{box-shadow:0 0 0 1px #fff,0 0 0 .2rem rgba(0,123,255,.25)}.custom-range:focus::-ms-thumb{box-shadow:0 0 0 1px #fff,0 0 0 .2rem rgba(0,123,255,.25)}.custom-range::-moz-focus-outer{border:0}.custom-range::-webkit-slider-thumb{width:1rem;height:1rem;margin-top:-.25rem;background-color:#007bff;border:0;border-radius:1rem;-webkit-transition:background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out;transition:background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out;-webkit-appearance:none;appearance:none}@media (prefers-reduced-motion:reduce){.custom-range::-webkit-slider-thumb{-webkit-transition:none;transition:none}}.custom-range::-webkit-slider-thumb:active{background-color:#b3d7ff}.custom-range::-webkit-slider-runnable-track{width:100%;height:.5rem;color:transparent;cursor:pointer;background-color:#dee2e6;border-color:transparent;border-radius:1rem}.custom-range::-moz-range-thumb{width:1rem;height:1rem;background-color:#007bff;border:0;border-radius:1rem;-moz-transition:background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out;transition:background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out;-moz-appearance:none;appearance:none}@media (prefers-reduced-motion:reduce){.custom-range::-moz-range-thumb{-moz-transition:none;transition:none}}.custom-range::-moz-range-thumb:active{background-color:#b3d7ff}.custom-range::-moz-range-track{width:100%;height:.5rem;color:transparent;cursor:pointer;background-color:#dee2e6;border-color:transparent;border-radius:1rem}.custom-range::-ms-thumb{width:1rem;height:1rem;margin-top:0;margin-right:.2rem;margin-left:.2rem;background-color:#007bff;border:0;border-radius:1rem;-ms-transition:background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out;transition:background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out;appearance:none}@media (prefers-reduced-motion:reduce){.custom-range::-ms-thumb{-ms-transition:none;transition:none}}.custom-range::-ms-thumb:active{background-color:#b3d7ff}.custom-range::-ms-track{width:100%;height:.5rem;color:transparent;cursor:pointer;background-color:transparent;border-color:transparent;border-width:.5rem}.custom-range::-ms-fill-lower{background-color:#dee2e6;border-radius:1rem}.custom-range::-ms-fill-upper{margin-right:15px;background-color:#dee2e6;border-radius:1rem}.custom-range:disabled::-webkit-slider-thumb{background-color:#adb5bd}.custom-range:disabled::-webkit-slider-runnable-track{cursor:default}.custom-range:disabled::-moz-range-thumb{background-color:#adb5bd}.custom-range:disabled::-moz-range-track{cursor:default}.custom-range:disabled::-ms-thumb{background-color:#adb5bd}.custom-control-label::before,.custom-file-label,.custom-select{transition:background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out}@media (prefers-reduced-motion:reduce){.custom-control-label::before,.custom-file-label,.custom-select{transition:none}}.nav{display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap;padding-left:0;margin-bottom:0;list-style:none}.nav-link{display:block;padding:.5rem 1rem}.nav-link:focus,.nav-link:hover{text-decoration:none}.nav-link.disabled{color:#6c757d;pointer-events:none;cursor:default}.nav-tabs{border-bottom:1px solid #dee2e6}.nav-tabs .nav-item{margin-bottom:-1px}.nav-tabs .nav-link{border:1px solid transparent;border-top-left-radius:.25rem;border-top-right-radius:.25rem}.nav-tabs .nav-link:focus,.nav-tabs .nav-link:hover{border-color:#e9ecef #e9ecef #dee2e6}.nav-tabs .nav-link.disabled{color:#6c757d;background-color:transparent;border-color:transparent}.nav-tabs .nav-item.show .nav-link,.nav-tabs .nav-link.active{color:#495057;background-color:#fff;border-color:#dee2e6 #dee2e6 #fff}.nav-tabs .dropdown-menu{margin-top:-1px;border-top-left-radius:0;border-top-right-radius:0}.nav-pills .nav-link{border-radius:.25rem}.nav-pills .nav-link.active,.nav-pills .show>.nav-link{color:#fff;background-color:#007bff}.nav-fill .nav-item,.nav-fill>.nav-link{-ms-flex:1 1 auto;flex:1 1 auto;text-align:center}.nav-justified .nav-item,.nav-justified>.nav-link{-ms-flex-preferred-size:0;flex-basis:0;-ms-flex-positive:1;flex-grow:1;text-align:center}.tab-content>.tab-pane{display:none}.tab-content>.active{display:block}.navbar{position:relative;display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap;-ms-flex-align:center;align-items:center;-ms-flex-pack:justify;justify-content:space-between;padding:.5rem 1rem}.navbar .container,.navbar .container-fluid,.navbar .container-lg,.navbar .container-md,.navbar .container-sm,.navbar .container-xl{display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap;-ms-flex-align:center;align-items:center;-ms-flex-pack:justify;justify-content:space-between}.navbar-brand{display:inline-block;padding-top:.3125rem;padding-bottom:.3125rem;margin-right:1rem;font-size:1.25rem;line-height:inherit;white-space:nowrap}.navbar-brand:focus,.navbar-brand:hover{text-decoration:none}.navbar-nav{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;padding-left:0;margin-bottom:0;list-style:none}.navbar-nav .nav-link{padding-right:0;padding-left:0}.navbar-nav .dropdown-menu{position:static;float:none}.navbar-text{display:inline-block;padding-top:.5rem;padding-bottom:.5rem}.navbar-collapse{-ms-flex-preferred-size:100%;flex-basis:100%;-ms-flex-positive:1;flex-grow:1;-ms-flex-align:center;align-items:center}.navbar-toggler{padding:.25rem .75rem;font-size:1.25rem;line-height:1;background-color:transparent;border:1px solid transparent;border-radius:.25rem}.navbar-toggler:focus,.navbar-toggler:hover{text-decoration:none}.navbar-toggler-icon{display:inline-block;width:1.5em;height:1.5em;vertical-align:middle;content:"";background:no-repeat center center;background-size:100% 100%}@media (max-width:575.98px){.navbar-expand-sm>.container,.navbar-expand-sm>.container-fluid,.navbar-expand-sm>.container-lg,.navbar-expand-sm>.container-md,.navbar-expand-sm>.container-sm,.navbar-expand-sm>.container-xl{padding-right:0;padding-left:0}}@media (min-width:576px){.navbar-expand-sm{-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-pack:start;justify-content:flex-start}.navbar-expand-sm .navbar-nav{-ms-flex-direction:row;flex-direction:row}.navbar-expand-sm .navbar-nav .dropdown-menu{position:absolute}.navbar-expand-sm .navbar-nav .nav-link{padding-right:.5rem;padding-left:.5rem}.navbar-expand-sm>.container,.navbar-expand-sm>.container-fluid,.navbar-expand-sm>.container-lg,.navbar-expand-sm>.container-md,.navbar-expand-sm>.container-sm,.navbar-expand-sm>.container-xl{-ms-flex-wrap:nowrap;flex-wrap:nowrap}.navbar-expand-sm .navbar-collapse{display:-ms-flexbox!important;display:flex!important;-ms-flex-preferred-size:auto;flex-basis:auto}.navbar-expand-sm .navbar-toggler{display:none}}@media (max-width:767.98px){.navbar-expand-md>.container,.navbar-expand-md>.container-fluid,.navbar-expand-md>.container-lg,.navbar-expand-md>.container-md,.navbar-expand-md>.container-sm,.navbar-expand-md>.container-xl{padding-right:0;padding-left:0}}@media (min-width:768px){.navbar-expand-md{-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-pack:start;justify-content:flex-start}.navbar-expand-md .navbar-nav{-ms-flex-direction:row;flex-direction:row}.navbar-expand-md .navbar-nav .dropdown-menu{position:absolute}.navbar-expand-md .navbar-nav .nav-link{padding-right:.5rem;padding-left:.5rem}.navbar-expand-md>.container,.navbar-expand-md>.container-fluid,.navbar-expand-md>.container-lg,.navbar-expand-md>.container-md,.navbar-expand-md>.container-sm,.navbar-expand-md>.container-xl{-ms-flex-wrap:nowrap;flex-wrap:nowrap}.navbar-expand-md .navbar-collapse{display:-ms-flexbox!important;display:flex!important;-ms-flex-preferred-size:auto;flex-basis:auto}.navbar-expand-md .navbar-toggler{display:none}}@media (max-width:991.98px){.navbar-expand-lg>.container,.navbar-expand-lg>.container-fluid,.navbar-expand-lg>.container-lg,.navbar-expand-lg>.container-md,.navbar-expand-lg>.container-sm,.navbar-expand-lg>.container-xl{padding-right:0;padding-left:0}}@media (min-width:992px){.navbar-expand-lg{-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-pack:start;justify-content:flex-start}.navbar-expand-lg .navbar-nav{-ms-flex-direction:row;flex-direction:row}.navbar-expand-lg .navbar-nav .dropdown-menu{position:absolute}.navbar-expand-lg .navbar-nav .nav-link{padding-right:.5rem;padding-left:.5rem}.navbar-expand-lg>.container,.navbar-expand-lg>.container-fluid,.navbar-expand-lg>.container-lg,.navbar-expand-lg>.container-md,.navbar-expand-lg>.container-sm,.navbar-expand-lg>.container-xl{-ms-flex-wrap:nowrap;flex-wrap:nowrap}.navbar-expand-lg .navbar-collapse{display:-ms-flexbox!important;display:flex!important;-ms-flex-preferred-size:auto;flex-basis:auto}.navbar-expand-lg .navbar-toggler{display:none}}@media (max-width:1199.98px){.navbar-expand-xl>.container,.navbar-expand-xl>.container-fluid,.navbar-expand-xl>.container-lg,.navbar-expand-xl>.container-md,.navbar-expand-xl>.container-sm,.navbar-expand-xl>.container-xl{padding-right:0;padding-left:0}}@media (min-width:1200px){.navbar-expand-xl{-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-pack:start;justify-content:flex-start}.navbar-expand-xl .navbar-nav{-ms-flex-direction:row;flex-direction:row}.navbar-expand-xl .navbar-nav .dropdown-menu{position:absolute}.navbar-expand-xl .navbar-nav .nav-link{padding-right:.5rem;padding-left:.5rem}.navbar-expand-xl>.container,.navbar-expand-xl>.container-fluid,.navbar-expand-xl>.container-lg,.navbar-expand-xl>.container-md,.navbar-expand-xl>.container-sm,.navbar-expand-xl>.container-xl{-ms-flex-wrap:nowrap;flex-wrap:nowrap}.navbar-expand-xl .navbar-collapse{display:-ms-flexbox!important;display:flex!important;-ms-flex-preferred-size:auto;flex-basis:auto}.navbar-expand-xl .navbar-toggler{display:none}}.navbar-expand{-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-pack:start;justify-content:flex-start}.navbar-expand>.container,.navbar-expand>.container-fluid,.navbar-expand>.container-lg,.navbar-expand>.container-md,.navbar-expand>.container-sm,.navbar-expand>.container-xl{padding-right:0;padding-left:0}.navbar-expand .navbar-nav{-ms-flex-direction:row;flex-direction:row}.navbar-expand .navbar-nav .dropdown-menu{position:absolute}.navbar-expand .navbar-nav .nav-link{padding-right:.5rem;padding-left:.5rem}.navbar-expand>.container,.navbar-expand>.container-fluid,.navbar-expand>.container-lg,.navbar-expand>.container-md,.navbar-expand>.container-sm,.navbar-expand>.container-xl{-ms-flex-wrap:nowrap;flex-wrap:nowrap}.navbar-expand .navbar-collapse{display:-ms-flexbox!important;display:flex!important;-ms-flex-preferred-size:auto;flex-basis:auto}.navbar-expand .navbar-toggler{display:none}.navbar-light .navbar-brand{color:rgba(0,0,0,.9)}.navbar-light .navbar-brand:focus,.navbar-light .navbar-brand:hover{color:rgba(0,0,0,.9)}.navbar-light .navbar-nav .nav-link{color:rgba(0,0,0,.5)}.navbar-light .navbar-nav .nav-link:focus,.navbar-light .navbar-nav .nav-link:hover{color:rgba(0,0,0,.7)}.navbar-light .navbar-nav .nav-link.disabled{color:rgba(0,0,0,.3)}.navbar-light .navbar-nav .active>.nav-link,.navbar-light .navbar-nav .nav-link.active,.navbar-light .navbar-nav .nav-link.show,.navbar-light .navbar-nav .show>.nav-link{color:rgba(0,0,0,.9)}.navbar-light .navbar-toggler{color:rgba(0,0,0,.5);border-color:rgba(0,0,0,.1)}.navbar-light .navbar-toggler-icon{background-image:url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='30' height='30' viewBox='0 0 30 30'%3e%3cpath stroke='rgba%280, 0, 0, 0.5%29' stroke-linecap='round' stroke-miterlimit='10' stroke-width='2' d='M4 7h22M4 15h22M4 23h22'/%3e%3c/svg%3e")}.navbar-light .navbar-text{color:rgba(0,0,0,.5)}.navbar-light .navbar-text a{color:rgba(0,0,0,.9)}.navbar-light .navbar-text a:focus,.navbar-light .navbar-text a:hover{color:rgba(0,0,0,.9)}.navbar-dark .navbar-brand{color:#fff}.navbar-dark .navbar-brand:focus,.navbar-dark .navbar-brand:hover{color:#fff}.navbar-dark .navbar-nav .nav-link{color:rgba(255,255,255,.5)}.navbar-dark .navbar-nav .nav-link:focus,.navbar-dark .navbar-nav .nav-link:hover{color:rgba(255,255,255,.75)}.navbar-dark .navbar-nav .nav-link.disabled{color:rgba(255,255,255,.25)}.navbar-dark .navbar-nav .active>.nav-link,.navbar-dark .navbar-nav .nav-link.active,.navbar-dark .navbar-nav .nav-link.show,.navbar-dark .navbar-nav .show>.nav-link{color:#fff}.navbar-dark .navbar-toggler{color:rgba(255,255,255,.5);border-color:rgba(255,255,255,.1)}.navbar-dark .navbar-toggler-icon{background-image:url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='30' height='30' viewBox='0 0 30 30'%3e%3cpath stroke='rgba%28255, 255, 255, 0.5%29' stroke-linecap='round' stroke-miterlimit='10' stroke-width='2' d='M4 7h22M4 15h22M4 23h22'/%3e%3c/svg%3e")}.navbar-dark .navbar-text{color:rgba(255,255,255,.5)}.navbar-dark .navbar-text a{color:#fff}.navbar-dark .navbar-text a:focus,.navbar-dark .navbar-text a:hover{color:#fff}.card{position:relative;display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;min-width:0;word-wrap:break-word;background-color:#fff;background-clip:border-box;border:1px solid rgba(0,0,0,.125);border-radius:.25rem}.card>hr{margin-right:0;margin-left:0}.card>.list-group{border-top:inherit;border-bottom:inherit}.card>.list-group:first-child{border-top-width:0;border-top-left-radius:calc(.25rem - 1px);border-top-right-radius:calc(.25rem - 1px)}.card>.list-group:last-child{border-bottom-width:0;border-bottom-right-radius:calc(.25rem - 1px);border-bottom-left-radius:calc(.25rem - 1px)}.card>.card-header+.list-group,.card>.list-group+.card-footer{border-top:0}.card-body{-ms-flex:1 1 auto;flex:1 1 auto;min-height:1px;padding:1.25rem}.card-title{margin-bottom:.75rem}.card-subtitle{margin-top:-.375rem;margin-bottom:0}.card-text:last-child{margin-bottom:0}.card-link:hover{text-decoration:none}.card-link+.card-link{margin-left:1.25rem}.card-header{padding:.75rem 1.25rem;margin-bottom:0;background-color:rgba(0,0,0,.03);border-bottom:1px solid rgba(0,0,0,.125)}.card-header:first-child{border-radius:calc(.25rem - 1px) calc(.25rem - 1px) 0 0}.card-footer{padding:.75rem 1.25rem;background-color:rgba(0,0,0,.03);border-top:1px solid rgba(0,0,0,.125)}.card-footer:last-child{border-radius:0 0 calc(.25rem - 1px) calc(.25rem - 1px)}.card-header-tabs{margin-right:-.625rem;margin-bottom:-.75rem;margin-left:-.625rem;border-bottom:0}.card-header-pills{margin-right:-.625rem;margin-left:-.625rem}.card-img-overlay{position:absolute;top:0;right:0;bottom:0;left:0;padding:1.25rem;border-radius:calc(.25rem - 1px)}.card-img,.card-img-bottom,.card-img-top{-ms-flex-negative:0;flex-shrink:0;width:100%}.card-img,.card-img-top{border-top-left-radius:calc(.25rem - 1px);border-top-right-radius:calc(.25rem - 1px)}.card-img,.card-img-bottom{border-bottom-right-radius:calc(.25rem - 1px);border-bottom-left-radius:calc(.25rem - 1px)}.card-deck .card{margin-bottom:15px}@media (min-width:576px){.card-deck{display:-ms-flexbox;display:flex;-ms-flex-flow:row wrap;flex-flow:row wrap;margin-right:-15px;margin-left:-15px}.card-deck .card{-ms-flex:1 0 0%;flex:1 0 0%;margin-right:15px;margin-bottom:0;margin-left:15px}}.card-group>.card{margin-bottom:15px}@media (min-width:576px){.card-group{display:-ms-flexbox;display:flex;-ms-flex-flow:row wrap;flex-flow:row wrap}.card-group>.card{-ms-flex:1 0 0%;flex:1 0 0%;margin-bottom:0}.card-group>.card+.card{margin-left:0;border-left:0}.card-group>.card:not(:last-child){border-top-right-radius:0;border-bottom-right-radius:0}.card-group>.card:not(:last-child) .card-header,.card-group>.card:not(:last-child) .card-img-top{border-top-right-radius:0}.card-group>.card:not(:last-child) .card-footer,.card-group>.card:not(:last-child) .card-img-bottom{border-bottom-right-radius:0}.card-group>.card:not(:first-child){border-top-left-radius:0;border-bottom-left-radius:0}.card-group>.card:not(:first-child) .card-header,.card-group>.card:not(:first-child) .card-img-top{border-top-left-radius:0}.card-group>.card:not(:first-child) .card-footer,.card-group>.card:not(:first-child) .card-img-bottom{border-bottom-left-radius:0}}.card-columns .card{margin-bottom:.75rem}@media (min-width:576px){.card-columns{-webkit-column-count:3;-moz-column-count:3;column-count:3;-webkit-column-gap:1.25rem;-moz-column-gap:1.25rem;column-gap:1.25rem;orphans:1;widows:1}.card-columns .card{display:inline-block;width:100%}}.accordion{overflow-anchor:none}.accordion>.card{overflow:hidden}.accordion>.card:not(:last-of-type){border-bottom:0;border-bottom-right-radius:0;border-bottom-left-radius:0}.accordion>.card:not(:first-of-type){border-top-left-radius:0;border-top-right-radius:0}.accordion>.card>.card-header{border-radius:0;margin-bottom:-1px}.breadcrumb{display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap;padding:.75rem 1rem;margin-bottom:1rem;list-style:none;background-color:#e9ecef;border-radius:.25rem}.breadcrumb-item{display:-ms-flexbox;display:flex}.breadcrumb-item+.breadcrumb-item{padding-left:.5rem}.breadcrumb-item+.breadcrumb-item::before{display:inline-block;padding-right:.5rem;color:#6c757d;content:"/"}.breadcrumb-item+.breadcrumb-item:hover::before{text-decoration:underline}.breadcrumb-item+.breadcrumb-item:hover::before{text-decoration:none}.breadcrumb-item.active{color:#6c757d}.pagination{display:-ms-flexbox;display:flex;padding-left:0;list-style:none;border-radius:.25rem}.page-link{position:relative;display:block;padding:.5rem .75rem;margin-left:-1px;line-height:1.25;color:#007bff;background-color:#fff;border:1px solid #dee2e6}.page-link:hover{z-index:2;color:#0056b3;text-decoration:none;background-color:#e9ecef;border-color:#dee2e6}.page-link:focus{z-index:3;outline:0;box-shadow:0 0 0 .2rem rgba(0,123,255,.25)}.page-item:first-child .page-link{margin-left:0;border-top-left-radius:.25rem;border-bottom-left-radius:.25rem}.page-item:last-child .page-link{border-top-right-radius:.25rem;border-bottom-right-radius:.25rem}.page-item.active .page-link{z-index:3;color:#fff;background-color:#007bff;border-color:#007bff}.page-item.disabled .page-link{color:#6c757d;pointer-events:none;cursor:auto;background-color:#fff;border-color:#dee2e6}.pagination-lg .page-link{padding:.75rem 1.5rem;font-size:1.25rem;line-height:1.5}.pagination-lg .page-item:first-child .page-link{border-top-left-radius:.3rem;border-bottom-left-radius:.3rem}.pagination-lg .page-item:last-child .page-link{border-top-right-radius:.3rem;border-bottom-right-radius:.3rem}.pagination-sm .page-link{padding:.25rem .5rem;font-size:.875rem;line-height:1.5}.pagination-sm .page-item:first-child .page-link{border-top-left-radius:.2rem;border-bottom-left-radius:.2rem}.pagination-sm .page-item:last-child .page-link{border-top-right-radius:.2rem;border-bottom-right-radius:.2rem}.badge{display:inline-block;padding:.25em .4em;font-size:75%;font-weight:700;line-height:1;text-align:center;white-space:nowrap;vertical-align:baseline;border-radius:.25rem;transition:color .15s ease-in-out,background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out}@media (prefers-reduced-motion:reduce){.badge{transition:none}}a.badge:focus,a.badge:hover{text-decoration:none}.badge:empty{display:none}.btn .badge{position:relative;top:-1px}.badge-pill{padding-right:.6em;padding-left:.6em;border-radius:10rem}.badge-primary{color:#fff;background-color:#007bff}a.badge-primary:focus,a.badge-primary:hover{color:#fff;background-color:#0062cc}a.badge-primary.focus,a.badge-primary:focus{outline:0;box-shadow:0 0 0 .2rem rgba(0,123,255,.5)}.badge-secondary{color:#fff;background-color:#6c757d}a.badge-secondary:focus,a.badge-secondary:hover{color:#fff;background-color:#545b62}a.badge-secondary.focus,a.badge-secondary:focus{outline:0;box-shadow:0 0 0 .2rem rgba(108,117,125,.5)}.badge-success{color:#fff;background-color:#28a745}a.badge-success:focus,a.badge-success:hover{color:#fff;background-color:#1e7e34}a.badge-success.focus,a.badge-success:focus{outline:0;box-shadow:0 0 0 .2rem rgba(40,167,69,.5)}.badge-info{color:#fff;background-color:#17a2b8}a.badge-info:focus,a.badge-info:hover{color:#fff;background-color:#117a8b}a.badge-info.focus,a.badge-info:focus{outline:0;box-shadow:0 0 0 .2rem rgba(23,162,184,.5)}.badge-warning{color:#212529;background-color:#ffc107}a.badge-warning:focus,a.badge-warning:hover{color:#212529;background-color:#d39e00}a.badge-warning.focus,a.badge-warning:focus{outline:0;box-shadow:0 0 0 .2rem rgba(255,193,7,.5)}.badge-danger{color:#fff;background-color:#dc3545}a.badge-danger:focus,a.badge-danger:hover{color:#fff;background-color:#bd2130}a.badge-danger.focus,a.badge-danger:focus{outline:0;box-shadow:0 0 0 .2rem rgba(220,53,69,.5)}.badge-light{color:#212529;background-color:#f8f9fa}a.badge-light:focus,a.badge-light:hover{color:#212529;background-color:#dae0e5}a.badge-light.focus,a.badge-light:focus{outline:0;box-shadow:0 0 0 .2rem rgba(248,249,250,.5)}.badge-dark{color:#fff;background-color:#343a40}a.badge-dark:focus,a.badge-dark:hover{color:#fff;background-color:#1d2124}a.badge-dark.focus,a.badge-dark:focus{outline:0;box-shadow:0 0 0 .2rem rgba(52,58,64,.5)}.jumbotron{padding:2rem 1rem;margin-bottom:2rem;background-color:#e9ecef;border-radius:.3rem}@media (min-width:576px){.jumbotron{padding:4rem 2rem}}.jumbotron-fluid{padding-right:0;padding-left:0;border-radius:0}.alert{position:relative;padding:.75rem 1.25rem;margin-bottom:1rem;border:1px solid transparent;border-radius:.25rem}.alert-heading{color:inherit}.alert-link{font-weight:700}.alert-dismissible{padding-right:4rem}.alert-dismissible .close{position:absolute;top:0;right:0;z-index:2;padding:.75rem 1.25rem;color:inherit}.alert-primary{color:#004085;background-color:#cce5ff;border-color:#b8daff}.alert-primary hr{border-top-color:#9fcdff}.alert-primary .alert-link{color:#002752}.alert-secondary{color:#383d41;background-color:#e2e3e5;border-color:#d6d8db}.alert-secondary hr{border-top-color:#c8cbcf}.alert-secondary .alert-link{color:#202326}.alert-success{color:#155724;background-color:#d4edda;border-color:#c3e6cb}.alert-success hr{border-top-color:#b1dfbb}.alert-success .alert-link{color:#0b2e13}.alert-info{color:#0c5460;background-color:#d1ecf1;border-color:#bee5eb}.alert-info hr{border-top-color:#abdde5}.alert-info .alert-link{color:#062c33}.alert-warning{color:#856404;background-color:#fff3cd;border-color:#ffeeba}.alert-warning hr{border-top-color:#ffe8a1}.alert-warning .alert-link{color:#533f03}.alert-danger{color:#721c24;background-color:#f8d7da;border-color:#f5c6cb}.alert-danger hr{border-top-color:#f1b0b7}.alert-danger .alert-link{color:#491217}.alert-light{color:#818182;background-color:#fefefe;border-color:#fdfdfe}.alert-light hr{border-top-color:#ececf6}.alert-light .alert-link{color:#686868}.alert-dark{color:#1b1e21;background-color:#d6d8d9;border-color:#c6c8ca}.alert-dark hr{border-top-color:#b9bbbe}.alert-dark .alert-link{color:#040505}@-webkit-keyframes progress-bar-stripes{from{background-position:1rem 0}to{background-position:0 0}}@keyframes progress-bar-stripes{from{background-position:1rem 0}to{background-position:0 0}}.progress{display:-ms-flexbox;display:flex;height:1rem;overflow:hidden;line-height:0;font-size:.75rem;background-color:#e9ecef;border-radius:.25rem}.progress-bar{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;-ms-flex-pack:center;justify-content:center;overflow:hidden;color:#fff;text-align:center;white-space:nowrap;background-color:#007bff;transition:width .6s ease}@media (prefers-reduced-motion:reduce){.progress-bar{transition:none}}.progress-bar-striped{background-image:linear-gradient(45deg,rgba(255,255,255,.15) 25%,transparent 25%,transparent 50%,rgba(255,255,255,.15) 50%,rgba(255,255,255,.15) 75%,transparent 75%,transparent);background-size:1rem 1rem}.progress-bar-animated{-webkit-animation:progress-bar-stripes 1s linear infinite;animation:progress-bar-stripes 1s linear infinite}@media (prefers-reduced-motion:reduce){.progress-bar-animated{-webkit-animation:none;animation:none}}.media{display:-ms-flexbox;display:flex;-ms-flex-align:start;align-items:flex-start}.media-body{-ms-flex:1;flex:1}.list-group{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;padding-left:0;margin-bottom:0;border-radius:.25rem}.list-group-item-action{width:100%;color:#495057;text-align:inherit}.list-group-item-action:focus,.list-group-item-action:hover{z-index:1;color:#495057;text-decoration:none;background-color:#f8f9fa}.list-group-item-action:active{color:#212529;background-color:#e9ecef}.list-group-item{position:relative;display:block;padding:.75rem 1.25rem;background-color:#fff;border:1px solid rgba(0,0,0,.125)}.list-group-item:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.list-group-item:last-child{border-bottom-right-radius:inherit;border-bottom-left-radius:inherit}.list-group-item.disabled,.list-group-item:disabled{color:#6c757d;pointer-events:none;background-color:#fff}.list-group-item.active{z-index:2;color:#fff;background-color:#007bff;border-color:#007bff}.list-group-item+.list-group-item{border-top-width:0}.list-group-item+.list-group-item.active{margin-top:-1px;border-top-width:1px}.list-group-horizontal{-ms-flex-direction:row;flex-direction:row}.list-group-horizontal>.list-group-item:first-child{border-bottom-left-radius:.25rem;border-top-right-radius:0}.list-group-horizontal>.list-group-item:last-child{border-top-right-radius:.25rem;border-bottom-left-radius:0}.list-group-horizontal>.list-group-item.active{margin-top:0}.list-group-horizontal>.list-group-item+.list-group-item{border-top-width:1px;border-left-width:0}.list-group-horizontal>.list-group-item+.list-group-item.active{margin-left:-1px;border-left-width:1px}@media (min-width:576px){.list-group-horizontal-sm{-ms-flex-direction:row;flex-direction:row}.list-group-horizontal-sm>.list-group-item:first-child{border-bottom-left-radius:.25rem;border-top-right-radius:0}.list-group-horizontal-sm>.list-group-item:last-child{border-top-right-radius:.25rem;border-bottom-left-radius:0}.list-group-horizontal-sm>.list-group-item.active{margin-top:0}.list-group-horizontal-sm>.list-group-item+.list-group-item{border-top-width:1px;border-left-width:0}.list-group-horizontal-sm>.list-group-item+.list-group-item.active{margin-left:-1px;border-left-width:1px}}@media (min-width:768px){.list-group-horizontal-md{-ms-flex-direction:row;flex-direction:row}.list-group-horizontal-md>.list-group-item:first-child{border-bottom-left-radius:.25rem;border-top-right-radius:0}.list-group-horizontal-md>.list-group-item:last-child{border-top-right-radius:.25rem;border-bottom-left-radius:0}.list-group-horizontal-md>.list-group-item.active{margin-top:0}.list-group-horizontal-md>.list-group-item+.list-group-item{border-top-width:1px;border-left-width:0}.list-group-horizontal-md>.list-group-item+.list-group-item.active{margin-left:-1px;border-left-width:1px}}@media (min-width:992px){.list-group-horizontal-lg{-ms-flex-direction:row;flex-direction:row}.list-group-horizontal-lg>.list-group-item:first-child{border-bottom-left-radius:.25rem;border-top-right-radius:0}.list-group-horizontal-lg>.list-group-item:last-child{border-top-right-radius:.25rem;border-bottom-left-radius:0}.list-group-horizontal-lg>.list-group-item.active{margin-top:0}.list-group-horizontal-lg>.list-group-item+.list-group-item{border-top-width:1px;border-left-width:0}.list-group-horizontal-lg>.list-group-item+.list-group-item.active{margin-left:-1px;border-left-width:1px}}@media (min-width:1200px){.list-group-horizontal-xl{-ms-flex-direction:row;flex-direction:row}.list-group-horizontal-xl>.list-group-item:first-child{border-bottom-left-radius:.25rem;border-top-right-radius:0}.list-group-horizontal-xl>.list-group-item:last-child{border-top-right-radius:.25rem;border-bottom-left-radius:0}.list-group-horizontal-xl>.list-group-item.active{margin-top:0}.list-group-horizontal-xl>.list-group-item+.list-group-item{border-top-width:1px;border-left-width:0}.list-group-horizontal-xl>.list-group-item+.list-group-item.active{margin-left:-1px;border-left-width:1px}}.list-group-flush{border-radius:0}.list-group-flush>.list-group-item{border-width:0 0 1px}.list-group-flush>.list-group-item:last-child{border-bottom-width:0}.list-group-item-primary{color:#004085;background-color:#b8daff}.list-group-item-primary.list-group-item-action:focus,.list-group-item-primary.list-group-item-action:hover{color:#004085;background-color:#9fcdff}.list-group-item-primary.list-group-item-action.active{color:#fff;background-color:#004085;border-color:#004085}.list-group-item-secondary{color:#383d41;background-color:#d6d8db}.list-group-item-secondary.list-group-item-action:focus,.list-group-item-secondary.list-group-item-action:hover{color:#383d41;background-color:#c8cbcf}.list-group-item-secondary.list-group-item-action.active{color:#fff;background-color:#383d41;border-color:#383d41}.list-group-item-success{color:#155724;background-color:#c3e6cb}.list-group-item-success.list-group-item-action:focus,.list-group-item-success.list-group-item-action:hover{color:#155724;background-color:#b1dfbb}.list-group-item-success.list-group-item-action.active{color:#fff;background-color:#155724;border-color:#155724}.list-group-item-info{color:#0c5460;background-color:#bee5eb}.list-group-item-info.list-group-item-action:focus,.list-group-item-info.list-group-item-action:hover{color:#0c5460;background-color:#abdde5}.list-group-item-info.list-group-item-action.active{color:#fff;background-color:#0c5460;border-color:#0c5460}.list-group-item-warning{color:#856404;background-color:#ffeeba}.list-group-item-warning.list-group-item-action:focus,.list-group-item-warning.list-group-item-action:hover{color:#856404;background-color:#ffe8a1}.list-group-item-warning.list-group-item-action.active{color:#fff;background-color:#856404;border-color:#856404}.list-group-item-danger{color:#721c24;background-color:#f5c6cb}.list-group-item-danger.list-group-item-action:focus,.list-group-item-danger.list-group-item-action:hover{color:#721c24;background-color:#f1b0b7}.list-group-item-danger.list-group-item-action.active{color:#fff;background-color:#721c24;border-color:#721c24}.list-group-item-light{color:#818182;background-color:#fdfdfe}.list-group-item-light.list-group-item-action:focus,.list-group-item-light.list-group-item-action:hover{color:#818182;background-color:#ececf6}.list-group-item-light.list-group-item-action.active{color:#fff;background-color:#818182;border-color:#818182}.list-group-item-dark{color:#1b1e21;background-color:#c6c8ca}.list-group-item-dark.list-group-item-action:focus,.list-group-item-dark.list-group-item-action:hover{color:#1b1e21;background-color:#b9bbbe}.list-group-item-dark.list-group-item-action.active{color:#fff;background-color:#1b1e21;border-color:#1b1e21}.close{float:right;font-size:1.5rem;font-weight:700;line-height:1;color:#000;text-shadow:0 1px 0 #fff;opacity:.5}.close:hover{color:#000;text-decoration:none}.close:not(:disabled):not(.disabled):focus,.close:not(:disabled):not(.disabled):hover{opacity:.75}button.close{padding:0;background-color:transparent;border:0}a.close.disabled{pointer-events:none}.toast{-ms-flex-preferred-size:350px;flex-basis:350px;max-width:350px;font-size:.875rem;background-color:rgba(255,255,255,.85);background-clip:padding-box;border:1px solid rgba(0,0,0,.1);box-shadow:0 .25rem .75rem rgba(0,0,0,.1);opacity:0;border-radius:.25rem}.toast:not(:last-child){margin-bottom:.75rem}.toast.showing{opacity:1}.toast.show{display:block;opacity:1}.toast.hide{display:none}.toast-header{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;padding:.25rem .75rem;color:#6c757d;background-color:rgba(255,255,255,.85);background-clip:padding-box;border-bottom:1px solid rgba(0,0,0,.05);border-top-left-radius:calc(.25rem - 1px);border-top-right-radius:calc(.25rem - 1px)}.toast-body{padding:.75rem}.modal-open{overflow:hidden}.modal-open .modal{overflow-x:hidden;overflow-y:auto}.modal{position:fixed;top:0;left:0;z-index:1050;display:none;width:100%;height:100%;overflow:hidden;outline:0}.modal-dialog{position:relative;width:auto;margin:.5rem;pointer-events:none}.modal.fade .modal-dialog{transition:-webkit-transform .3s ease-out;transition:transform .3s ease-out;transition:transform .3s ease-out,-webkit-transform .3s ease-out;-webkit-transform:translate(0,-50px);transform:translate(0,-50px)}@media (prefers-reduced-motion:reduce){.modal.fade .modal-dialog{transition:none}}.modal.show .modal-dialog{-webkit-transform:none;transform:none}.modal.modal-static .modal-dialog{-webkit-transform:scale(1.02);transform:scale(1.02)}.modal-dialog-scrollable{display:-ms-flexbox;display:flex;max-height:calc(100% - 1rem)}.modal-dialog-scrollable .modal-content{max-height:calc(100vh - 1rem);overflow:hidden}.modal-dialog-scrollable .modal-footer,.modal-dialog-scrollable .modal-header{-ms-flex-negative:0;flex-shrink:0}.modal-dialog-scrollable .modal-body{overflow-y:auto}.modal-dialog-centered{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;min-height:calc(100% - 1rem)}.modal-dialog-centered::before{display:block;height:calc(100vh - 1rem);height:-webkit-min-content;height:-moz-min-content;height:min-content;content:""}.modal-dialog-centered.modal-dialog-scrollable{-ms-flex-direction:column;flex-direction:column;-ms-flex-pack:center;justify-content:center;height:100%}.modal-dialog-centered.modal-dialog-scrollable .modal-content{max-height:none}.modal-dialog-centered.modal-dialog-scrollable::before{content:none}.modal-content{position:relative;display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;width:100%;pointer-events:auto;background-color:#fff;background-clip:padding-box;border:1px solid rgba(0,0,0,.2);border-radius:.3rem;outline:0}.modal-backdrop{position:fixed;top:0;left:0;z-index:1040;width:100vw;height:100vh;background-color:#000}.modal-backdrop.fade{opacity:0}.modal-backdrop.show{opacity:.5}.modal-header{display:-ms-flexbox;display:flex;-ms-flex-align:start;align-items:flex-start;-ms-flex-pack:justify;justify-content:space-between;padding:1rem 1rem;border-bottom:1px solid #dee2e6;border-top-left-radius:calc(.3rem - 1px);border-top-right-radius:calc(.3rem - 1px)}.modal-header .close{padding:1rem 1rem;margin:-1rem -1rem -1rem auto}.modal-title{margin-bottom:0;line-height:1.5}.modal-body{position:relative;-ms-flex:1 1 auto;flex:1 1 auto;padding:1rem}.modal-footer{display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap;-ms-flex-align:center;align-items:center;-ms-flex-pack:end;justify-content:flex-end;padding:.75rem;border-top:1px solid #dee2e6;border-bottom-right-radius:calc(.3rem - 1px);border-bottom-left-radius:calc(.3rem - 1px)}.modal-footer>*{margin:.25rem}.modal-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}@media (min-width:576px){.modal-dialog{max-width:500px;margin:1.75rem auto}.modal-dialog-scrollable{max-height:calc(100% - 3.5rem)}.modal-dialog-scrollable .modal-content{max-height:calc(100vh - 3.5rem)}.modal-dialog-centered{min-height:calc(100% - 3.5rem)}.modal-dialog-centered::before{height:calc(100vh - 3.5rem);height:-webkit-min-content;height:-moz-min-content;height:min-content}.modal-sm{max-width:300px}}@media (min-width:992px){.modal-lg,.modal-xl{max-width:800px}}@media (min-width:1200px){.modal-xl{max-width:1140px}}.tooltip{position:absolute;z-index:1070;display:block;margin:0;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";font-style:normal;font-weight:400;line-height:1.5;text-align:left;text-align:start;text-decoration:none;text-shadow:none;text-transform:none;letter-spacing:normal;word-break:normal;word-spacing:normal;white-space:normal;line-break:auto;font-size:.875rem;word-wrap:break-word;opacity:0}.tooltip.show{opacity:.9}.tooltip .arrow{position:absolute;display:block;width:.8rem;height:.4rem}.tooltip .arrow::before{position:absolute;content:"";border-color:transparent;border-style:solid}.bs-tooltip-auto[x-placement^=top],.bs-tooltip-top{padding:.4rem 0}.bs-tooltip-auto[x-placement^=top] .arrow,.bs-tooltip-top .arrow{bottom:0}.bs-tooltip-auto[x-placement^=top] .arrow::before,.bs-tooltip-top .arrow::before{top:0;border-width:.4rem .4rem 0;border-top-color:#000}.bs-tooltip-auto[x-placement^=right],.bs-tooltip-right{padding:0 .4rem}.bs-tooltip-auto[x-placement^=right] .arrow,.bs-tooltip-right .arrow{left:0;width:.4rem;height:.8rem}.bs-tooltip-auto[x-placement^=right] .arrow::before,.bs-tooltip-right .arrow::before{right:0;border-width:.4rem .4rem .4rem 0;border-right-color:#000}.bs-tooltip-auto[x-placement^=bottom],.bs-tooltip-bottom{padding:.4rem 0}.bs-tooltip-auto[x-placement^=bottom] .arrow,.bs-tooltip-bottom .arrow{top:0}.bs-tooltip-auto[x-placement^=bottom] .arrow::before,.bs-tooltip-bottom .arrow::before{bottom:0;border-width:0 .4rem .4rem;border-bottom-color:#000}.bs-tooltip-auto[x-placement^=left],.bs-tooltip-left{padding:0 .4rem}.bs-tooltip-auto[x-placement^=left] .arrow,.bs-tooltip-left .arrow{right:0;width:.4rem;height:.8rem}.bs-tooltip-auto[x-placement^=left] .arrow::before,.bs-tooltip-left .arrow::before{left:0;border-width:.4rem 0 .4rem .4rem;border-left-color:#000}.tooltip-inner{max-width:200px;padding:.25rem .5rem;color:#fff;text-align:center;background-color:#000;border-radius:.25rem}.popover{position:absolute;top:0;left:0;z-index:1060;display:block;max-width:276px;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";font-style:normal;font-weight:400;line-height:1.5;text-align:left;text-align:start;text-decoration:none;text-shadow:none;text-transform:none;letter-spacing:normal;word-break:normal;word-spacing:normal;white-space:normal;line-break:auto;font-size:.875rem;word-wrap:break-word;background-color:#fff;background-clip:padding-box;border:1px solid rgba(0,0,0,.2);border-radius:.3rem}.popover .arrow{position:absolute;display:block;width:1rem;height:.5rem;margin:0 .3rem}.popover .arrow::after,.popover .arrow::before{position:absolute;display:block;content:"";border-color:transparent;border-style:solid}.bs-popover-auto[x-placement^=top],.bs-popover-top{margin-bottom:.5rem}.bs-popover-auto[x-placement^=top]>.arrow,.bs-popover-top>.arrow{bottom:calc(-.5rem - 1px)}.bs-popover-auto[x-placement^=top]>.arrow::before,.bs-popover-top>.arrow::before{bottom:0;border-width:.5rem .5rem 0;border-top-color:rgba(0,0,0,.25)}.bs-popover-auto[x-placement^=top]>.arrow::after,.bs-popover-top>.arrow::after{bottom:1px;border-width:.5rem .5rem 0;border-top-color:#fff}.bs-popover-auto[x-placement^=right],.bs-popover-right{margin-left:.5rem}.bs-popover-auto[x-placement^=right]>.arrow,.bs-popover-right>.arrow{left:calc(-.5rem - 1px);width:.5rem;height:1rem;margin:.3rem 0}.bs-popover-auto[x-placement^=right]>.arrow::before,.bs-popover-right>.arrow::before{left:0;border-width:.5rem .5rem .5rem 0;border-right-color:rgba(0,0,0,.25)}.bs-popover-auto[x-placement^=right]>.arrow::after,.bs-popover-right>.arrow::after{left:1px;border-width:.5rem .5rem .5rem 0;border-right-color:#fff}.bs-popover-auto[x-placement^=bottom],.bs-popover-bottom{margin-top:.5rem}.bs-popover-auto[x-placement^=bottom]>.arrow,.bs-popover-bottom>.arrow{top:calc(-.5rem - 1px)}.bs-popover-auto[x-placement^=bottom]>.arrow::before,.bs-popover-bottom>.arrow::before{top:0;border-width:0 .5rem .5rem .5rem;border-bottom-color:rgba(0,0,0,.25)}.bs-popover-auto[x-placement^=bottom]>.arrow::after,.bs-popover-bottom>.arrow::after{top:1px;border-width:0 .5rem .5rem .5rem;border-bottom-color:#fff}.bs-popover-auto[x-placement^=bottom] .popover-header::before,.bs-popover-bottom .popover-header::before{position:absolute;top:0;left:50%;display:block;width:1rem;margin-left:-.5rem;content:"";border-bottom:1px solid #f7f7f7}.bs-popover-auto[x-placement^=left],.bs-popover-left{margin-right:.5rem}.bs-popover-auto[x-placement^=left]>.arrow,.bs-popover-left>.arrow{right:calc(-.5rem - 1px);width:.5rem;height:1rem;margin:.3rem 0}.bs-popover-auto[x-placement^=left]>.arrow::before,.bs-popover-left>.arrow::before{right:0;border-width:.5rem 0 .5rem .5rem;border-left-color:rgba(0,0,0,.25)}.bs-popover-auto[x-placement^=left]>.arrow::after,.bs-popover-left>.arrow::after{right:1px;border-width:.5rem 0 .5rem .5rem;border-left-color:#fff}.popover-header{padding:.5rem .75rem;margin-bottom:0;font-size:1rem;background-color:#f7f7f7;border-bottom:1px solid #ebebeb;border-top-left-radius:calc(.3rem - 1px);border-top-right-radius:calc(.3rem - 1px)}.popover-header:empty{display:none}.popover-body{padding:.5rem .75rem;color:#212529}.carousel{position:relative}.carousel.pointer-event{-ms-touch-action:pan-y;touch-action:pan-y}.carousel-inner{position:relative;width:100%;overflow:hidden}.carousel-inner::after{display:block;clear:both;content:""}.carousel-item{position:relative;display:none;float:left;width:100%;margin-right:-100%;-webkit-backface-visibility:hidden;backface-visibility:hidden;transition:-webkit-transform .6s ease-in-out;transition:transform .6s ease-in-out;transition:transform .6s ease-in-out,-webkit-transform .6s ease-in-out}@media (prefers-reduced-motion:reduce){.carousel-item{transition:none}}.carousel-item-next,.carousel-item-prev,.carousel-item.active{display:block}.active.carousel-item-right,.carousel-item-next:not(.carousel-item-left){-webkit-transform:translateX(100%);transform:translateX(100%)}.active.carousel-item-left,.carousel-item-prev:not(.carousel-item-right){-webkit-transform:translateX(-100%);transform:translateX(-100%)}.carousel-fade .carousel-item{opacity:0;transition-property:opacity;-webkit-transform:none;transform:none}.carousel-fade .carousel-item-next.carousel-item-left,.carousel-fade .carousel-item-prev.carousel-item-right,.carousel-fade .carousel-item.active{z-index:1;opacity:1}.carousel-fade .active.carousel-item-left,.carousel-fade .active.carousel-item-right{z-index:0;opacity:0;transition:opacity 0s .6s}@media (prefers-reduced-motion:reduce){.carousel-fade .active.carousel-item-left,.carousel-fade .active.carousel-item-right{transition:none}}.carousel-control-next,.carousel-control-prev{position:absolute;top:0;bottom:0;z-index:1;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:15%;color:#fff;text-align:center;opacity:.5;transition:opacity .15s ease}@media (prefers-reduced-motion:reduce){.carousel-control-next,.carousel-control-prev{transition:none}}.carousel-control-next:focus,.carousel-control-next:hover,.carousel-control-prev:focus,.carousel-control-prev:hover{color:#fff;text-decoration:none;outline:0;opacity:.9}.carousel-control-prev{left:0}.carousel-control-next{right:0}.carousel-control-next-icon,.carousel-control-prev-icon{display:inline-block;width:20px;height:20px;background:no-repeat 50%/100% 100%}.carousel-control-prev-icon{background-image:url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='%23fff' width='8' height='8' viewBox='0 0 8 8'%3e%3cpath d='M5.25 0l-4 4 4 4 1.5-1.5L4.25 4l2.5-2.5L5.25 0z'/%3e%3c/svg%3e")}.carousel-control-next-icon{background-image:url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='%23fff' width='8' height='8' viewBox='0 0 8 8'%3e%3cpath d='M2.75 0l-1.5 1.5L3.75 4l-2.5 2.5L2.75 8l4-4-4-4z'/%3e%3c/svg%3e")}.carousel-indicators{position:absolute;right:0;bottom:0;left:0;z-index:15;display:-ms-flexbox;display:flex;-ms-flex-pack:center;justify-content:center;padding-left:0;margin-right:15%;margin-left:15%;list-style:none}.carousel-indicators li{box-sizing:content-box;-ms-flex:0 1 auto;flex:0 1 auto;width:30px;height:3px;margin-right:3px;margin-left:3px;text-indent:-999px;cursor:pointer;background-color:#fff;background-clip:padding-box;border-top:10px solid transparent;border-bottom:10px solid transparent;opacity:.5;transition:opacity .6s ease}@media (prefers-reduced-motion:reduce){.carousel-indicators li{transition:none}}.carousel-indicators .active{opacity:1}.carousel-caption{position:absolute;right:15%;bottom:20px;left:15%;z-index:10;padding-top:20px;padding-bottom:20px;color:#fff;text-align:center}@-webkit-keyframes spinner-border{to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes spinner-border{to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}.spinner-border{display:inline-block;width:2rem;height:2rem;vertical-align:text-bottom;border:.25em solid currentColor;border-right-color:transparent;border-radius:50%;-webkit-animation:spinner-border .75s linear infinite;animation:spinner-border .75s linear infinite}.spinner-border-sm{width:1rem;height:1rem;border-width:.2em}@-webkit-keyframes spinner-grow{0%{-webkit-transform:scale(0);transform:scale(0)}50%{opacity:1;-webkit-transform:none;transform:none}}@keyframes spinner-grow{0%{-webkit-transform:scale(0);transform:scale(0)}50%{opacity:1;-webkit-transform:none;transform:none}}.spinner-grow{display:inline-block;width:2rem;height:2rem;vertical-align:text-bottom;background-color:currentColor;border-radius:50%;opacity:0;-webkit-animation:spinner-grow .75s linear infinite;animation:spinner-grow .75s linear infinite}.spinner-grow-sm{width:1rem;height:1rem}.align-baseline{vertical-align:baseline!important}.align-top{vertical-align:top!important}.align-middle{vertical-align:middle!important}.align-bottom{vertical-align:bottom!important}.align-text-bottom{vertical-align:text-bottom!important}.align-text-top{vertical-align:text-top!important}.bg-primary{background-color:#007bff!important}a.bg-primary:focus,a.bg-primary:hover,button.bg-primary:focus,button.bg-primary:hover{background-color:#0062cc!important}.bg-secondary{background-color:#6c757d!important}a.bg-secondary:focus,a.bg-secondary:hover,button.bg-secondary:focus,button.bg-secondary:hover{background-color:#545b62!important}.bg-success{background-color:#28a745!important}a.bg-success:focus,a.bg-success:hover,button.bg-success:focus,button.bg-success:hover{background-color:#1e7e34!important}.bg-info{background-color:#17a2b8!important}a.bg-info:focus,a.bg-info:hover,button.bg-info:focus,button.bg-info:hover{background-color:#117a8b!important}.bg-warning{background-color:#ffc107!important}a.bg-warning:focus,a.bg-warning:hover,button.bg-warning:focus,button.bg-warning:hover{background-color:#d39e00!important}.bg-danger{background-color:#dc3545!important}a.bg-danger:focus,a.bg-danger:hover,button.bg-danger:focus,button.bg-danger:hover{background-color:#bd2130!important}.bg-light{background-color:#f8f9fa!important}a.bg-light:focus,a.bg-light:hover,button.bg-light:focus,button.bg-light:hover{background-color:#dae0e5!important}.bg-dark{background-color:#343a40!important}a.bg-dark:focus,a.bg-dark:hover,button.bg-dark:focus,button.bg-dark:hover{background-color:#1d2124!important}.bg-white{background-color:#fff!important}.bg-transparent{background-color:transparent!important}.border{border:1px solid #dee2e6!important}.border-top{border-top:1px solid #dee2e6!important}.border-right{border-right:1px solid #dee2e6!important}.border-bottom{border-bottom:1px solid #dee2e6!important}.border-left{border-left:1px solid #dee2e6!important}.border-0{border:0!important}.border-top-0{border-top:0!important}.border-right-0{border-right:0!important}.border-bottom-0{border-bottom:0!important}.border-left-0{border-left:0!important}.border-primary{border-color:#007bff!important}.border-secondary{border-color:#6c757d!important}.border-success{border-color:#28a745!important}.border-info{border-color:#17a2b8!important}.border-warning{border-color:#ffc107!important}.border-danger{border-color:#dc3545!important}.border-light{border-color:#f8f9fa!important}.border-dark{border-color:#343a40!important}.border-white{border-color:#fff!important}.rounded-sm{border-radius:.2rem!important}.rounded{border-radius:.25rem!important}.rounded-top{border-top-left-radius:.25rem!important;border-top-right-radius:.25rem!important}.rounded-right{border-top-right-radius:.25rem!important;border-bottom-right-radius:.25rem!important}.rounded-bottom{border-bottom-right-radius:.25rem!important;border-bottom-left-radius:.25rem!important}.rounded-left{border-top-left-radius:.25rem!important;border-bottom-left-radius:.25rem!important}.rounded-lg{border-radius:.3rem!important}.rounded-circle{border-radius:50%!important}.rounded-pill{border-radius:50rem!important}.rounded-0{border-radius:0!important}.clearfix::after{display:block;clear:both;content:""}.d-none{display:none!important}.d-inline{display:inline!important}.d-inline-block{display:inline-block!important}.d-block{display:block!important}.d-table{display:table!important}.d-table-row{display:table-row!important}.d-table-cell{display:table-cell!important}.d-flex{display:-ms-flexbox!important;display:flex!important}.d-inline-flex{display:-ms-inline-flexbox!important;display:inline-flex!important}@media (min-width:576px){.d-sm-none{display:none!important}.d-sm-inline{display:inline!important}.d-sm-inline-block{display:inline-block!important}.d-sm-block{display:block!important}.d-sm-table{display:table!important}.d-sm-table-row{display:table-row!important}.d-sm-table-cell{display:table-cell!important}.d-sm-flex{display:-ms-flexbox!important;display:flex!important}.d-sm-inline-flex{display:-ms-inline-flexbox!important;display:inline-flex!important}}@media (min-width:768px){.d-md-none{display:none!important}.d-md-inline{display:inline!important}.d-md-inline-block{display:inline-block!important}.d-md-block{display:block!important}.d-md-table{display:table!important}.d-md-table-row{display:table-row!important}.d-md-table-cell{display:table-cell!important}.d-md-flex{display:-ms-flexbox!important;display:flex!important}.d-md-inline-flex{display:-ms-inline-flexbox!important;display:inline-flex!important}}@media (min-width:992px){.d-lg-none{display:none!important}.d-lg-inline{display:inline!important}.d-lg-inline-block{display:inline-block!important}.d-lg-block{display:block!important}.d-lg-table{display:table!important}.d-lg-table-row{display:table-row!important}.d-lg-table-cell{display:table-cell!important}.d-lg-flex{display:-ms-flexbox!important;display:flex!important}.d-lg-inline-flex{display:-ms-inline-flexbox!important;display:inline-flex!important}}@media (min-width:1200px){.d-xl-none{display:none!important}.d-xl-inline{display:inline!important}.d-xl-inline-block{display:inline-block!important}.d-xl-block{display:block!important}.d-xl-table{display:table!important}.d-xl-table-row{display:table-row!important}.d-xl-table-cell{display:table-cell!important}.d-xl-flex{display:-ms-flexbox!important;display:flex!important}.d-xl-inline-flex{display:-ms-inline-flexbox!important;display:inline-flex!important}}@media print{.d-print-none{display:none!important}.d-print-inline{display:inline!important}.d-print-inline-block{display:inline-block!important}.d-print-block{display:block!important}.d-print-table{display:table!important}.d-print-table-row{display:table-row!important}.d-print-table-cell{display:table-cell!important}.d-print-flex{display:-ms-flexbox!important;display:flex!important}.d-print-inline-flex{display:-ms-inline-flexbox!important;display:inline-flex!important}}.embed-responsive{position:relative;display:block;width:100%;padding:0;overflow:hidden}.embed-responsive::before{display:block;content:""}.embed-responsive .embed-responsive-item,.embed-responsive embed,.embed-responsive iframe,.embed-responsive object,.embed-responsive video{position:absolute;top:0;bottom:0;left:0;width:100%;height:100%;border:0}.embed-responsive-21by9::before{padding-top:42.857143%}.embed-responsive-16by9::before{padding-top:56.25%}.embed-responsive-4by3::before{padding-top:75%}.embed-responsive-1by1::before{padding-top:100%}.flex-row{-ms-flex-direction:row!important;flex-direction:row!important}.flex-column{-ms-flex-direction:column!important;flex-direction:column!important}.flex-row-reverse{-ms-flex-direction:row-reverse!important;flex-direction:row-reverse!important}.flex-column-reverse{-ms-flex-direction:column-reverse!important;flex-direction:column-reverse!important}.flex-wrap{-ms-flex-wrap:wrap!important;flex-wrap:wrap!important}.flex-nowrap{-ms-flex-wrap:nowrap!important;flex-wrap:nowrap!important}.flex-wrap-reverse{-ms-flex-wrap:wrap-reverse!important;flex-wrap:wrap-reverse!important}.flex-fill{-ms-flex:1 1 auto!important;flex:1 1 auto!important}.flex-grow-0{-ms-flex-positive:0!important;flex-grow:0!important}.flex-grow-1{-ms-flex-positive:1!important;flex-grow:1!important}.flex-shrink-0{-ms-flex-negative:0!important;flex-shrink:0!important}.flex-shrink-1{-ms-flex-negative:1!important;flex-shrink:1!important}.justify-content-start{-ms-flex-pack:start!important;justify-content:flex-start!important}.justify-content-end{-ms-flex-pack:end!important;justify-content:flex-end!important}.justify-content-center{-ms-flex-pack:center!important;justify-content:center!important}.justify-content-between{-ms-flex-pack:justify!important;justify-content:space-between!important}.justify-content-around{-ms-flex-pack:distribute!important;justify-content:space-around!important}.align-items-start{-ms-flex-align:start!important;align-items:flex-start!important}.align-items-end{-ms-flex-align:end!important;align-items:flex-end!important}.align-items-center{-ms-flex-align:center!important;align-items:center!important}.align-items-baseline{-ms-flex-align:baseline!important;align-items:baseline!important}.align-items-stretch{-ms-flex-align:stretch!important;align-items:stretch!important}.align-content-start{-ms-flex-line-pack:start!important;align-content:flex-start!important}.align-content-end{-ms-flex-line-pack:end!important;align-content:flex-end!important}.align-content-center{-ms-flex-line-pack:center!important;align-content:center!important}.align-content-between{-ms-flex-line-pack:justify!important;align-content:space-between!important}.align-content-around{-ms-flex-line-pack:distribute!important;align-content:space-around!important}.align-content-stretch{-ms-flex-line-pack:stretch!important;align-content:stretch!important}.align-self-auto{-ms-flex-item-align:auto!important;align-self:auto!important}.align-self-start{-ms-flex-item-align:start!important;align-self:flex-start!important}.align-self-end{-ms-flex-item-align:end!important;align-self:flex-end!important}.align-self-center{-ms-flex-item-align:center!important;align-self:center!important}.align-self-baseline{-ms-flex-item-align:baseline!important;align-self:baseline!important}.align-self-stretch{-ms-flex-item-align:stretch!important;align-self:stretch!important}@media (min-width:576px){.flex-sm-row{-ms-flex-direction:row!important;flex-direction:row!important}.flex-sm-column{-ms-flex-direction:column!important;flex-direction:column!important}.flex-sm-row-reverse{-ms-flex-direction:row-reverse!important;flex-direction:row-reverse!important}.flex-sm-column-reverse{-ms-flex-direction:column-reverse!important;flex-direction:column-reverse!important}.flex-sm-wrap{-ms-flex-wrap:wrap!important;flex-wrap:wrap!important}.flex-sm-nowrap{-ms-flex-wrap:nowrap!important;flex-wrap:nowrap!important}.flex-sm-wrap-reverse{-ms-flex-wrap:wrap-reverse!important;flex-wrap:wrap-reverse!important}.flex-sm-fill{-ms-flex:1 1 auto!important;flex:1 1 auto!important}.flex-sm-grow-0{-ms-flex-positive:0!important;flex-grow:0!important}.flex-sm-grow-1{-ms-flex-positive:1!important;flex-grow:1!important}.flex-sm-shrink-0{-ms-flex-negative:0!important;flex-shrink:0!important}.flex-sm-shrink-1{-ms-flex-negative:1!important;flex-shrink:1!important}.justify-content-sm-start{-ms-flex-pack:start!important;justify-content:flex-start!important}.justify-content-sm-end{-ms-flex-pack:end!important;justify-content:flex-end!important}.justify-content-sm-center{-ms-flex-pack:center!important;justify-content:center!important}.justify-content-sm-between{-ms-flex-pack:justify!important;justify-content:space-between!important}.justify-content-sm-around{-ms-flex-pack:distribute!important;justify-content:space-around!important}.align-items-sm-start{-ms-flex-align:start!important;align-items:flex-start!important}.align-items-sm-end{-ms-flex-align:end!important;align-items:flex-end!important}.align-items-sm-center{-ms-flex-align:center!important;align-items:center!important}.align-items-sm-baseline{-ms-flex-align:baseline!important;align-items:baseline!important}.align-items-sm-stretch{-ms-flex-align:stretch!important;align-items:stretch!important}.align-content-sm-start{-ms-flex-line-pack:start!important;align-content:flex-start!important}.align-content-sm-end{-ms-flex-line-pack:end!important;align-content:flex-end!important}.align-content-sm-center{-ms-flex-line-pack:center!important;align-content:center!important}.align-content-sm-between{-ms-flex-line-pack:justify!important;align-content:space-between!important}.align-content-sm-around{-ms-flex-line-pack:distribute!important;align-content:space-around!important}.align-content-sm-stretch{-ms-flex-line-pack:stretch!important;align-content:stretch!important}.align-self-sm-auto{-ms-flex-item-align:auto!important;align-self:auto!important}.align-self-sm-start{-ms-flex-item-align:start!important;align-self:flex-start!important}.align-self-sm-end{-ms-flex-item-align:end!important;align-self:flex-end!important}.align-self-sm-center{-ms-flex-item-align:center!important;align-self:center!important}.align-self-sm-baseline{-ms-flex-item-align:baseline!important;align-self:baseline!important}.align-self-sm-stretch{-ms-flex-item-align:stretch!important;align-self:stretch!important}}@media (min-width:768px){.flex-md-row{-ms-flex-direction:row!important;flex-direction:row!important}.flex-md-column{-ms-flex-direction:column!important;flex-direction:column!important}.flex-md-row-reverse{-ms-flex-direction:row-reverse!important;flex-direction:row-reverse!important}.flex-md-column-reverse{-ms-flex-direction:column-reverse!important;flex-direction:column-reverse!important}.flex-md-wrap{-ms-flex-wrap:wrap!important;flex-wrap:wrap!important}.flex-md-nowrap{-ms-flex-wrap:nowrap!important;flex-wrap:nowrap!important}.flex-md-wrap-reverse{-ms-flex-wrap:wrap-reverse!important;flex-wrap:wrap-reverse!important}.flex-md-fill{-ms-flex:1 1 auto!important;flex:1 1 auto!important}.flex-md-grow-0{-ms-flex-positive:0!important;flex-grow:0!important}.flex-md-grow-1{-ms-flex-positive:1!important;flex-grow:1!important}.flex-md-shrink-0{-ms-flex-negative:0!important;flex-shrink:0!important}.flex-md-shrink-1{-ms-flex-negative:1!important;flex-shrink:1!important}.justify-content-md-start{-ms-flex-pack:start!important;justify-content:flex-start!important}.justify-content-md-end{-ms-flex-pack:end!important;justify-content:flex-end!important}.justify-content-md-center{-ms-flex-pack:center!important;justify-content:center!important}.justify-content-md-between{-ms-flex-pack:justify!important;justify-content:space-between!important}.justify-content-md-around{-ms-flex-pack:distribute!important;justify-content:space-around!important}.align-items-md-start{-ms-flex-align:start!important;align-items:flex-start!important}.align-items-md-end{-ms-flex-align:end!important;align-items:flex-end!important}.align-items-md-center{-ms-flex-align:center!important;align-items:center!important}.align-items-md-baseline{-ms-flex-align:baseline!important;align-items:baseline!important}.align-items-md-stretch{-ms-flex-align:stretch!important;align-items:stretch!important}.align-content-md-start{-ms-flex-line-pack:start!important;align-content:flex-start!important}.align-content-md-end{-ms-flex-line-pack:end!important;align-content:flex-end!important}.align-content-md-center{-ms-flex-line-pack:center!important;align-content:center!important}.align-content-md-between{-ms-flex-line-pack:justify!important;align-content:space-between!important}.align-content-md-around{-ms-flex-line-pack:distribute!important;align-content:space-around!important}.align-content-md-stretch{-ms-flex-line-pack:stretch!important;align-content:stretch!important}.align-self-md-auto{-ms-flex-item-align:auto!important;align-self:auto!important}.align-self-md-start{-ms-flex-item-align:start!important;align-self:flex-start!important}.align-self-md-end{-ms-flex-item-align:end!important;align-self:flex-end!important}.align-self-md-center{-ms-flex-item-align:center!important;align-self:center!important}.align-self-md-baseline{-ms-flex-item-align:baseline!important;align-self:baseline!important}.align-self-md-stretch{-ms-flex-item-align:stretch!important;align-self:stretch!important}}@media (min-width:992px){.flex-lg-row{-ms-flex-direction:row!important;flex-direction:row!important}.flex-lg-column{-ms-flex-direction:column!important;flex-direction:column!important}.flex-lg-row-reverse{-ms-flex-direction:row-reverse!important;flex-direction:row-reverse!important}.flex-lg-column-reverse{-ms-flex-direction:column-reverse!important;flex-direction:column-reverse!important}.flex-lg-wrap{-ms-flex-wrap:wrap!important;flex-wrap:wrap!important}.flex-lg-nowrap{-ms-flex-wrap:nowrap!important;flex-wrap:nowrap!important}.flex-lg-wrap-reverse{-ms-flex-wrap:wrap-reverse!important;flex-wrap:wrap-reverse!important}.flex-lg-fill{-ms-flex:1 1 auto!important;flex:1 1 auto!important}.flex-lg-grow-0{-ms-flex-positive:0!important;flex-grow:0!important}.flex-lg-grow-1{-ms-flex-positive:1!important;flex-grow:1!important}.flex-lg-shrink-0{-ms-flex-negative:0!important;flex-shrink:0!important}.flex-lg-shrink-1{-ms-flex-negative:1!important;flex-shrink:1!important}.justify-content-lg-start{-ms-flex-pack:start!important;justify-content:flex-start!important}.justify-content-lg-end{-ms-flex-pack:end!important;justify-content:flex-end!important}.justify-content-lg-center{-ms-flex-pack:center!important;justify-content:center!important}.justify-content-lg-between{-ms-flex-pack:justify!important;justify-content:space-between!important}.justify-content-lg-around{-ms-flex-pack:distribute!important;justify-content:space-around!important}.align-items-lg-start{-ms-flex-align:start!important;align-items:flex-start!important}.align-items-lg-end{-ms-flex-align:end!important;align-items:flex-end!important}.align-items-lg-center{-ms-flex-align:center!important;align-items:center!important}.align-items-lg-baseline{-ms-flex-align:baseline!important;align-items:baseline!important}.align-items-lg-stretch{-ms-flex-align:stretch!important;align-items:stretch!important}.align-content-lg-start{-ms-flex-line-pack:start!important;align-content:flex-start!important}.align-content-lg-end{-ms-flex-line-pack:end!important;align-content:flex-end!important}.align-content-lg-center{-ms-flex-line-pack:center!important;align-content:center!important}.align-content-lg-between{-ms-flex-line-pack:justify!important;align-content:space-between!important}.align-content-lg-around{-ms-flex-line-pack:distribute!important;align-content:space-around!important}.align-content-lg-stretch{-ms-flex-line-pack:stretch!important;align-content:stretch!important}.align-self-lg-auto{-ms-flex-item-align:auto!important;align-self:auto!important}.align-self-lg-start{-ms-flex-item-align:start!important;align-self:flex-start!important}.align-self-lg-end{-ms-flex-item-align:end!important;align-self:flex-end!important}.align-self-lg-center{-ms-flex-item-align:center!important;align-self:center!important}.align-self-lg-baseline{-ms-flex-item-align:baseline!important;align-self:baseline!important}.align-self-lg-stretch{-ms-flex-item-align:stretch!important;align-self:stretch!important}}@media (min-width:1200px){.flex-xl-row{-ms-flex-direction:row!important;flex-direction:row!important}.flex-xl-column{-ms-flex-direction:column!important;flex-direction:column!important}.flex-xl-row-reverse{-ms-flex-direction:row-reverse!important;flex-direction:row-reverse!important}.flex-xl-column-reverse{-ms-flex-direction:column-reverse!important;flex-direction:column-reverse!important}.flex-xl-wrap{-ms-flex-wrap:wrap!important;flex-wrap:wrap!important}.flex-xl-nowrap{-ms-flex-wrap:nowrap!important;flex-wrap:nowrap!important}.flex-xl-wrap-reverse{-ms-flex-wrap:wrap-reverse!important;flex-wrap:wrap-reverse!important}.flex-xl-fill{-ms-flex:1 1 auto!important;flex:1 1 auto!important}.flex-xl-grow-0{-ms-flex-positive:0!important;flex-grow:0!important}.flex-xl-grow-1{-ms-flex-positive:1!important;flex-grow:1!important}.flex-xl-shrink-0{-ms-flex-negative:0!important;flex-shrink:0!important}.flex-xl-shrink-1{-ms-flex-negative:1!important;flex-shrink:1!important}.justify-content-xl-start{-ms-flex-pack:start!important;justify-content:flex-start!important}.justify-content-xl-end{-ms-flex-pack:end!important;justify-content:flex-end!important}.justify-content-xl-center{-ms-flex-pack:center!important;justify-content:center!important}.justify-content-xl-between{-ms-flex-pack:justify!important;justify-content:space-between!important}.justify-content-xl-around{-ms-flex-pack:distribute!important;justify-content:space-around!important}.align-items-xl-start{-ms-flex-align:start!important;align-items:flex-start!important}.align-items-xl-end{-ms-flex-align:end!important;align-items:flex-end!important}.align-items-xl-center{-ms-flex-align:center!important;align-items:center!important}.align-items-xl-baseline{-ms-flex-align:baseline!important;align-items:baseline!important}.align-items-xl-stretch{-ms-flex-align:stretch!important;align-items:stretch!important}.align-content-xl-start{-ms-flex-line-pack:start!important;align-content:flex-start!important}.align-content-xl-end{-ms-flex-line-pack:end!important;align-content:flex-end!important}.align-content-xl-center{-ms-flex-line-pack:center!important;align-content:center!important}.align-content-xl-between{-ms-flex-line-pack:justify!important;align-content:space-between!important}.align-content-xl-around{-ms-flex-line-pack:distribute!important;align-content:space-around!important}.align-content-xl-stretch{-ms-flex-line-pack:stretch!important;align-content:stretch!important}.align-self-xl-auto{-ms-flex-item-align:auto!important;align-self:auto!important}.align-self-xl-start{-ms-flex-item-align:start!important;align-self:flex-start!important}.align-self-xl-end{-ms-flex-item-align:end!important;align-self:flex-end!important}.align-self-xl-center{-ms-flex-item-align:center!important;align-self:center!important}.align-self-xl-baseline{-ms-flex-item-align:baseline!important;align-self:baseline!important}.align-self-xl-stretch{-ms-flex-item-align:stretch!important;align-self:stretch!important}}.float-left{float:left!important}.float-right{float:right!important}.float-none{float:none!important}@media (min-width:576px){.float-sm-left{float:left!important}.float-sm-right{float:right!important}.float-sm-none{float:none!important}}@media (min-width:768px){.float-md-left{float:left!important}.float-md-right{float:right!important}.float-md-none{float:none!important}}@media (min-width:992px){.float-lg-left{float:left!important}.float-lg-right{float:right!important}.float-lg-none{float:none!important}}@media (min-width:1200px){.float-xl-left{float:left!important}.float-xl-right{float:right!important}.float-xl-none{float:none!important}}.user-select-all{-webkit-user-select:all!important;-moz-user-select:all!important;-ms-user-select:all!important;user-select:all!important}.user-select-auto{-webkit-user-select:auto!important;-moz-user-select:auto!important;-ms-user-select:auto!important;user-select:auto!important}.user-select-none{-webkit-user-select:none!important;-moz-user-select:none!important;-ms-user-select:none!important;user-select:none!important}.overflow-auto{overflow:auto!important}.overflow-hidden{overflow:hidden!important}.position-static{position:static!important}.position-relative{position:relative!important}.position-absolute{position:absolute!important}.position-fixed{position:fixed!important}.position-sticky{position:-webkit-sticky!important;position:sticky!important}.fixed-top{position:fixed;top:0;right:0;left:0;z-index:1030}.fixed-bottom{position:fixed;right:0;bottom:0;left:0;z-index:1030}@supports ((position:-webkit-sticky) or (position:sticky)){.sticky-top{position:-webkit-sticky;position:sticky;top:0;z-index:1020}}.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0}.sr-only-focusable:active,.sr-only-focusable:focus{position:static;width:auto;height:auto;overflow:visible;clip:auto;white-space:normal}.shadow-sm{box-shadow:0 .125rem .25rem rgba(0,0,0,.075)!important}.shadow{box-shadow:0 .5rem 1rem rgba(0,0,0,.15)!important}.shadow-lg{box-shadow:0 1rem 3rem rgba(0,0,0,.175)!important}.shadow-none{box-shadow:none!important}.w-25{width:25%!important}.w-50{width:50%!important}.w-75{width:75%!important}.w-100{width:100%!important}.w-auto{width:auto!important}.h-25{height:25%!important}.h-50{height:50%!important}.h-75{height:75%!important}.h-100{height:100%!important}.h-auto{height:auto!important}.mw-100{max-width:100%!important}.mh-100{max-height:100%!important}.min-vw-100{min-width:100vw!important}.min-vh-100{min-height:100vh!important}.vw-100{width:100vw!important}.vh-100{height:100vh!important}.m-0{margin:0!important}.mt-0,.my-0{margin-top:0!important}.mr-0,.mx-0{margin-right:0!important}.mb-0,.my-0{margin-bottom:0!important}.ml-0,.mx-0{margin-left:0!important}.m-1{margin:.25rem!important}.mt-1,.my-1{margin-top:.25rem!important}.mr-1,.mx-1{margin-right:.25rem!important}.mb-1,.my-1{margin-bottom:.25rem!important}.ml-1,.mx-1{margin-left:.25rem!important}.m-2{margin:.5rem!important}.mt-2,.my-2{margin-top:.5rem!important}.mr-2,.mx-2{margin-right:.5rem!important}.mb-2,.my-2{margin-bottom:.5rem!important}.ml-2,.mx-2{margin-left:.5rem!important}.m-3{margin:1rem!important}.mt-3,.my-3{margin-top:1rem!important}.mr-3,.mx-3{margin-right:1rem!important}.mb-3,.my-3{margin-bottom:1rem!important}.ml-3,.mx-3{margin-left:1rem!important}.m-4{margin:1.5rem!important}.mt-4,.my-4{margin-top:1.5rem!important}.mr-4,.mx-4{margin-right:1.5rem!important}.mb-4,.my-4{margin-bottom:1.5rem!important}.ml-4,.mx-4{margin-left:1.5rem!important}.m-5{margin:3rem!important}.mt-5,.my-5{margin-top:3rem!important}.mr-5,.mx-5{margin-right:3rem!important}.mb-5,.my-5{margin-bottom:3rem!important}.ml-5,.mx-5{margin-left:3rem!important}.p-0{padding:0!important}.pt-0,.py-0{padding-top:0!important}.pr-0,.px-0{padding-right:0!important}.pb-0,.py-0{padding-bottom:0!important}.pl-0,.px-0{padding-left:0!important}.p-1{padding:.25rem!important}.pt-1,.py-1{padding-top:.25rem!important}.pr-1,.px-1{padding-right:.25rem!important}.pb-1,.py-1{padding-bottom:.25rem!important}.pl-1,.px-1{padding-left:.25rem!important}.p-2{padding:.5rem!important}.pt-2,.py-2{padding-top:.5rem!important}.pr-2,.px-2{padding-right:.5rem!important}.pb-2,.py-2{padding-bottom:.5rem!important}.pl-2,.px-2{padding-left:.5rem!important}.p-3{padding:1rem!important}.pt-3,.py-3{padding-top:1rem!important}.pr-3,.px-3{padding-right:1rem!important}.pb-3,.py-3{padding-bottom:1rem!important}.pl-3,.px-3{padding-left:1rem!important}.p-4{padding:1.5rem!important}.pt-4,.py-4{padding-top:1.5rem!important}.pr-4,.px-4{padding-right:1.5rem!important}.pb-4,.py-4{padding-bottom:1.5rem!important}.pl-4,.px-4{padding-left:1.5rem!important}.p-5{padding:3rem!important}.pt-5,.py-5{padding-top:3rem!important}.pr-5,.px-5{padding-right:3rem!important}.pb-5,.py-5{padding-bottom:3rem!important}.pl-5,.px-5{padding-left:3rem!important}.m-n1{margin:-.25rem!important}.mt-n1,.my-n1{margin-top:-.25rem!important}.mr-n1,.mx-n1{margin-right:-.25rem!important}.mb-n1,.my-n1{margin-bottom:-.25rem!important}.ml-n1,.mx-n1{margin-left:-.25rem!important}.m-n2{margin:-.5rem!important}.mt-n2,.my-n2{margin-top:-.5rem!important}.mr-n2,.mx-n2{margin-right:-.5rem!important}.mb-n2,.my-n2{margin-bottom:-.5rem!important}.ml-n2,.mx-n2{margin-left:-.5rem!important}.m-n3{margin:-1rem!important}.mt-n3,.my-n3{margin-top:-1rem!important}.mr-n3,.mx-n3{margin-right:-1rem!important}.mb-n3,.my-n3{margin-bottom:-1rem!important}.ml-n3,.mx-n3{margin-left:-1rem!important}.m-n4{margin:-1.5rem!important}.mt-n4,.my-n4{margin-top:-1.5rem!important}.mr-n4,.mx-n4{margin-right:-1.5rem!important}.mb-n4,.my-n4{margin-bottom:-1.5rem!important}.ml-n4,.mx-n4{margin-left:-1.5rem!important}.m-n5{margin:-3rem!important}.mt-n5,.my-n5{margin-top:-3rem!important}.mr-n5,.mx-n5{margin-right:-3rem!important}.mb-n5,.my-n5{margin-bottom:-3rem!important}.ml-n5,.mx-n5{margin-left:-3rem!important}.m-auto{margin:auto!important}.mt-auto,.my-auto{margin-top:auto!important}.mr-auto,.mx-auto{margin-right:auto!important}.mb-auto,.my-auto{margin-bottom:auto!important}.ml-auto,.mx-auto{margin-left:auto!important}@media (min-width:576px){.m-sm-0{margin:0!important}.mt-sm-0,.my-sm-0{margin-top:0!important}.mr-sm-0,.mx-sm-0{margin-right:0!important}.mb-sm-0,.my-sm-0{margin-bottom:0!important}.ml-sm-0,.mx-sm-0{margin-left:0!important}.m-sm-1{margin:.25rem!important}.mt-sm-1,.my-sm-1{margin-top:.25rem!important}.mr-sm-1,.mx-sm-1{margin-right:.25rem!important}.mb-sm-1,.my-sm-1{margin-bottom:.25rem!important}.ml-sm-1,.mx-sm-1{margin-left:.25rem!important}.m-sm-2{margin:.5rem!important}.mt-sm-2,.my-sm-2{margin-top:.5rem!important}.mr-sm-2,.mx-sm-2{margin-right:.5rem!important}.mb-sm-2,.my-sm-2{margin-bottom:.5rem!important}.ml-sm-2,.mx-sm-2{margin-left:.5rem!important}.m-sm-3{margin:1rem!important}.mt-sm-3,.my-sm-3{margin-top:1rem!important}.mr-sm-3,.mx-sm-3{margin-right:1rem!important}.mb-sm-3,.my-sm-3{margin-bottom:1rem!important}.ml-sm-3,.mx-sm-3{margin-left:1rem!important}.m-sm-4{margin:1.5rem!important}.mt-sm-4,.my-sm-4{margin-top:1.5rem!important}.mr-sm-4,.mx-sm-4{margin-right:1.5rem!important}.mb-sm-4,.my-sm-4{margin-bottom:1.5rem!important}.ml-sm-4,.mx-sm-4{margin-left:1.5rem!important}.m-sm-5{margin:3rem!important}.mt-sm-5,.my-sm-5{margin-top:3rem!important}.mr-sm-5,.mx-sm-5{margin-right:3rem!important}.mb-sm-5,.my-sm-5{margin-bottom:3rem!important}.ml-sm-5,.mx-sm-5{margin-left:3rem!important}.p-sm-0{padding:0!important}.pt-sm-0,.py-sm-0{padding-top:0!important}.pr-sm-0,.px-sm-0{padding-right:0!important}.pb-sm-0,.py-sm-0{padding-bottom:0!important}.pl-sm-0,.px-sm-0{padding-left:0!important}.p-sm-1{padding:.25rem!important}.pt-sm-1,.py-sm-1{padding-top:.25rem!important}.pr-sm-1,.px-sm-1{padding-right:.25rem!important}.pb-sm-1,.py-sm-1{padding-bottom:.25rem!important}.pl-sm-1,.px-sm-1{padding-left:.25rem!important}.p-sm-2{padding:.5rem!important}.pt-sm-2,.py-sm-2{padding-top:.5rem!important}.pr-sm-2,.px-sm-2{padding-right:.5rem!important}.pb-sm-2,.py-sm-2{padding-bottom:.5rem!important}.pl-sm-2,.px-sm-2{padding-left:.5rem!important}.p-sm-3{padding:1rem!important}.pt-sm-3,.py-sm-3{padding-top:1rem!important}.pr-sm-3,.px-sm-3{padding-right:1rem!important}.pb-sm-3,.py-sm-3{padding-bottom:1rem!important}.pl-sm-3,.px-sm-3{padding-left:1rem!important}.p-sm-4{padding:1.5rem!important}.pt-sm-4,.py-sm-4{padding-top:1.5rem!important}.pr-sm-4,.px-sm-4{padding-right:1.5rem!important}.pb-sm-4,.py-sm-4{padding-bottom:1.5rem!important}.pl-sm-4,.px-sm-4{padding-left:1.5rem!important}.p-sm-5{padding:3rem!important}.pt-sm-5,.py-sm-5{padding-top:3rem!important}.pr-sm-5,.px-sm-5{padding-right:3rem!important}.pb-sm-5,.py-sm-5{padding-bottom:3rem!important}.pl-sm-5,.px-sm-5{padding-left:3rem!important}.m-sm-n1{margin:-.25rem!important}.mt-sm-n1,.my-sm-n1{margin-top:-.25rem!important}.mr-sm-n1,.mx-sm-n1{margin-right:-.25rem!important}.mb-sm-n1,.my-sm-n1{margin-bottom:-.25rem!important}.ml-sm-n1,.mx-sm-n1{margin-left:-.25rem!important}.m-sm-n2{margin:-.5rem!important}.mt-sm-n2,.my-sm-n2{margin-top:-.5rem!important}.mr-sm-n2,.mx-sm-n2{margin-right:-.5rem!important}.mb-sm-n2,.my-sm-n2{margin-bottom:-.5rem!important}.ml-sm-n2,.mx-sm-n2{margin-left:-.5rem!important}.m-sm-n3{margin:-1rem!important}.mt-sm-n3,.my-sm-n3{margin-top:-1rem!important}.mr-sm-n3,.mx-sm-n3{margin-right:-1rem!important}.mb-sm-n3,.my-sm-n3{margin-bottom:-1rem!important}.ml-sm-n3,.mx-sm-n3{margin-left:-1rem!important}.m-sm-n4{margin:-1.5rem!important}.mt-sm-n4,.my-sm-n4{margin-top:-1.5rem!important}.mr-sm-n4,.mx-sm-n4{margin-right:-1.5rem!important}.mb-sm-n4,.my-sm-n4{margin-bottom:-1.5rem!important}.ml-sm-n4,.mx-sm-n4{margin-left:-1.5rem!important}.m-sm-n5{margin:-3rem!important}.mt-sm-n5,.my-sm-n5{margin-top:-3rem!important}.mr-sm-n5,.mx-sm-n5{margin-right:-3rem!important}.mb-sm-n5,.my-sm-n5{margin-bottom:-3rem!important}.ml-sm-n5,.mx-sm-n5{margin-left:-3rem!important}.m-sm-auto{margin:auto!important}.mt-sm-auto,.my-sm-auto{margin-top:auto!important}.mr-sm-auto,.mx-sm-auto{margin-right:auto!important}.mb-sm-auto,.my-sm-auto{margin-bottom:auto!important}.ml-sm-auto,.mx-sm-auto{margin-left:auto!important}}@media (min-width:768px){.m-md-0{margin:0!important}.mt-md-0,.my-md-0{margin-top:0!important}.mr-md-0,.mx-md-0{margin-right:0!important}.mb-md-0,.my-md-0{margin-bottom:0!important}.ml-md-0,.mx-md-0{margin-left:0!important}.m-md-1{margin:.25rem!important}.mt-md-1,.my-md-1{margin-top:.25rem!important}.mr-md-1,.mx-md-1{margin-right:.25rem!important}.mb-md-1,.my-md-1{margin-bottom:.25rem!important}.ml-md-1,.mx-md-1{margin-left:.25rem!important}.m-md-2{margin:.5rem!important}.mt-md-2,.my-md-2{margin-top:.5rem!important}.mr-md-2,.mx-md-2{margin-right:.5rem!important}.mb-md-2,.my-md-2{margin-bottom:.5rem!important}.ml-md-2,.mx-md-2{margin-left:.5rem!important}.m-md-3{margin:1rem!important}.mt-md-3,.my-md-3{margin-top:1rem!important}.mr-md-3,.mx-md-3{margin-right:1rem!important}.mb-md-3,.my-md-3{margin-bottom:1rem!important}.ml-md-3,.mx-md-3{margin-left:1rem!important}.m-md-4{margin:1.5rem!important}.mt-md-4,.my-md-4{margin-top:1.5rem!important}.mr-md-4,.mx-md-4{margin-right:1.5rem!important}.mb-md-4,.my-md-4{margin-bottom:1.5rem!important}.ml-md-4,.mx-md-4{margin-left:1.5rem!important}.m-md-5{margin:3rem!important}.mt-md-5,.my-md-5{margin-top:3rem!important}.mr-md-5,.mx-md-5{margin-right:3rem!important}.mb-md-5,.my-md-5{margin-bottom:3rem!important}.ml-md-5,.mx-md-5{margin-left:3rem!important}.p-md-0{padding:0!important}.pt-md-0,.py-md-0{padding-top:0!important}.pr-md-0,.px-md-0{padding-right:0!important}.pb-md-0,.py-md-0{padding-bottom:0!important}.pl-md-0,.px-md-0{padding-left:0!important}.p-md-1{padding:.25rem!important}.pt-md-1,.py-md-1{padding-top:.25rem!important}.pr-md-1,.px-md-1{padding-right:.25rem!important}.pb-md-1,.py-md-1{padding-bottom:.25rem!important}.pl-md-1,.px-md-1{padding-left:.25rem!important}.p-md-2{padding:.5rem!important}.pt-md-2,.py-md-2{padding-top:.5rem!important}.pr-md-2,.px-md-2{padding-right:.5rem!important}.pb-md-2,.py-md-2{padding-bottom:.5rem!important}.pl-md-2,.px-md-2{padding-left:.5rem!important}.p-md-3{padding:1rem!important}.pt-md-3,.py-md-3{padding-top:1rem!important}.pr-md-3,.px-md-3{padding-right:1rem!important}.pb-md-3,.py-md-3{padding-bottom:1rem!important}.pl-md-3,.px-md-3{padding-left:1rem!important}.p-md-4{padding:1.5rem!important}.pt-md-4,.py-md-4{padding-top:1.5rem!important}.pr-md-4,.px-md-4{padding-right:1.5rem!important}.pb-md-4,.py-md-4{padding-bottom:1.5rem!important}.pl-md-4,.px-md-4{padding-left:1.5rem!important}.p-md-5{padding:3rem!important}.pt-md-5,.py-md-5{padding-top:3rem!important}.pr-md-5,.px-md-5{padding-right:3rem!important}.pb-md-5,.py-md-5{padding-bottom:3rem!important}.pl-md-5,.px-md-5{padding-left:3rem!important}.m-md-n1{margin:-.25rem!important}.mt-md-n1,.my-md-n1{margin-top:-.25rem!important}.mr-md-n1,.mx-md-n1{margin-right:-.25rem!important}.mb-md-n1,.my-md-n1{margin-bottom:-.25rem!important}.ml-md-n1,.mx-md-n1{margin-left:-.25rem!important}.m-md-n2{margin:-.5rem!important}.mt-md-n2,.my-md-n2{margin-top:-.5rem!important}.mr-md-n2,.mx-md-n2{margin-right:-.5rem!important}.mb-md-n2,.my-md-n2{margin-bottom:-.5rem!important}.ml-md-n2,.mx-md-n2{margin-left:-.5rem!important}.m-md-n3{margin:-1rem!important}.mt-md-n3,.my-md-n3{margin-top:-1rem!important}.mr-md-n3,.mx-md-n3{margin-right:-1rem!important}.mb-md-n3,.my-md-n3{margin-bottom:-1rem!important}.ml-md-n3,.mx-md-n3{margin-left:-1rem!important}.m-md-n4{margin:-1.5rem!important}.mt-md-n4,.my-md-n4{margin-top:-1.5rem!important}.mr-md-n4,.mx-md-n4{margin-right:-1.5rem!important}.mb-md-n4,.my-md-n4{margin-bottom:-1.5rem!important}.ml-md-n4,.mx-md-n4{margin-left:-1.5rem!important}.m-md-n5{margin:-3rem!important}.mt-md-n5,.my-md-n5{margin-top:-3rem!important}.mr-md-n5,.mx-md-n5{margin-right:-3rem!important}.mb-md-n5,.my-md-n5{margin-bottom:-3rem!important}.ml-md-n5,.mx-md-n5{margin-left:-3rem!important}.m-md-auto{margin:auto!important}.mt-md-auto,.my-md-auto{margin-top:auto!important}.mr-md-auto,.mx-md-auto{margin-right:auto!important}.mb-md-auto,.my-md-auto{margin-bottom:auto!important}.ml-md-auto,.mx-md-auto{margin-left:auto!important}}@media (min-width:992px){.m-lg-0{margin:0!important}.mt-lg-0,.my-lg-0{margin-top:0!important}.mr-lg-0,.mx-lg-0{margin-right:0!important}.mb-lg-0,.my-lg-0{margin-bottom:0!important}.ml-lg-0,.mx-lg-0{margin-left:0!important}.m-lg-1{margin:.25rem!important}.mt-lg-1,.my-lg-1{margin-top:.25rem!important}.mr-lg-1,.mx-lg-1{margin-right:.25rem!important}.mb-lg-1,.my-lg-1{margin-bottom:.25rem!important}.ml-lg-1,.mx-lg-1{margin-left:.25rem!important}.m-lg-2{margin:.5rem!important}.mt-lg-2,.my-lg-2{margin-top:.5rem!important}.mr-lg-2,.mx-lg-2{margin-right:.5rem!important}.mb-lg-2,.my-lg-2{margin-bottom:.5rem!important}.ml-lg-2,.mx-lg-2{margin-left:.5rem!important}.m-lg-3{margin:1rem!important}.mt-lg-3,.my-lg-3{margin-top:1rem!important}.mr-lg-3,.mx-lg-3{margin-right:1rem!important}.mb-lg-3,.my-lg-3{margin-bottom:1rem!important}.ml-lg-3,.mx-lg-3{margin-left:1rem!important}.m-lg-4{margin:1.5rem!important}.mt-lg-4,.my-lg-4{margin-top:1.5rem!important}.mr-lg-4,.mx-lg-4{margin-right:1.5rem!important}.mb-lg-4,.my-lg-4{margin-bottom:1.5rem!important}.ml-lg-4,.mx-lg-4{margin-left:1.5rem!important}.m-lg-5{margin:3rem!important}.mt-lg-5,.my-lg-5{margin-top:3rem!important}.mr-lg-5,.mx-lg-5{margin-right:3rem!important}.mb-lg-5,.my-lg-5{margin-bottom:3rem!important}.ml-lg-5,.mx-lg-5{margin-left:3rem!important}.p-lg-0{padding:0!important}.pt-lg-0,.py-lg-0{padding-top:0!important}.pr-lg-0,.px-lg-0{padding-right:0!important}.pb-lg-0,.py-lg-0{padding-bottom:0!important}.pl-lg-0,.px-lg-0{padding-left:0!important}.p-lg-1{padding:.25rem!important}.pt-lg-1,.py-lg-1{padding-top:.25rem!important}.pr-lg-1,.px-lg-1{padding-right:.25rem!important}.pb-lg-1,.py-lg-1{padding-bottom:.25rem!important}.pl-lg-1,.px-lg-1{padding-left:.25rem!important}.p-lg-2{padding:.5rem!important}.pt-lg-2,.py-lg-2{padding-top:.5rem!important}.pr-lg-2,.px-lg-2{padding-right:.5rem!important}.pb-lg-2,.py-lg-2{padding-bottom:.5rem!important}.pl-lg-2,.px-lg-2{padding-left:.5rem!important}.p-lg-3{padding:1rem!important}.pt-lg-3,.py-lg-3{padding-top:1rem!important}.pr-lg-3,.px-lg-3{padding-right:1rem!important}.pb-lg-3,.py-lg-3{padding-bottom:1rem!important}.pl-lg-3,.px-lg-3{padding-left:1rem!important}.p-lg-4{padding:1.5rem!important}.pt-lg-4,.py-lg-4{padding-top:1.5rem!important}.pr-lg-4,.px-lg-4{padding-right:1.5rem!important}.pb-lg-4,.py-lg-4{padding-bottom:1.5rem!important}.pl-lg-4,.px-lg-4{padding-left:1.5rem!important}.p-lg-5{padding:3rem!important}.pt-lg-5,.py-lg-5{padding-top:3rem!important}.pr-lg-5,.px-lg-5{padding-right:3rem!important}.pb-lg-5,.py-lg-5{padding-bottom:3rem!important}.pl-lg-5,.px-lg-5{padding-left:3rem!important}.m-lg-n1{margin:-.25rem!important}.mt-lg-n1,.my-lg-n1{margin-top:-.25rem!important}.mr-lg-n1,.mx-lg-n1{margin-right:-.25rem!important}.mb-lg-n1,.my-lg-n1{margin-bottom:-.25rem!important}.ml-lg-n1,.mx-lg-n1{margin-left:-.25rem!important}.m-lg-n2{margin:-.5rem!important}.mt-lg-n2,.my-lg-n2{margin-top:-.5rem!important}.mr-lg-n2,.mx-lg-n2{margin-right:-.5rem!important}.mb-lg-n2,.my-lg-n2{margin-bottom:-.5rem!important}.ml-lg-n2,.mx-lg-n2{margin-left:-.5rem!important}.m-lg-n3{margin:-1rem!important}.mt-lg-n3,.my-lg-n3{margin-top:-1rem!important}.mr-lg-n3,.mx-lg-n3{margin-right:-1rem!important}.mb-lg-n3,.my-lg-n3{margin-bottom:-1rem!important}.ml-lg-n3,.mx-lg-n3{margin-left:-1rem!important}.m-lg-n4{margin:-1.5rem!important}.mt-lg-n4,.my-lg-n4{margin-top:-1.5rem!important}.mr-lg-n4,.mx-lg-n4{margin-right:-1.5rem!important}.mb-lg-n4,.my-lg-n4{margin-bottom:-1.5rem!important}.ml-lg-n4,.mx-lg-n4{margin-left:-1.5rem!important}.m-lg-n5{margin:-3rem!important}.mt-lg-n5,.my-lg-n5{margin-top:-3rem!important}.mr-lg-n5,.mx-lg-n5{margin-right:-3rem!important}.mb-lg-n5,.my-lg-n5{margin-bottom:-3rem!important}.ml-lg-n5,.mx-lg-n5{margin-left:-3rem!important}.m-lg-auto{margin:auto!important}.mt-lg-auto,.my-lg-auto{margin-top:auto!important}.mr-lg-auto,.mx-lg-auto{margin-right:auto!important}.mb-lg-auto,.my-lg-auto{margin-bottom:auto!important}.ml-lg-auto,.mx-lg-auto{margin-left:auto!important}}@media (min-width:1200px){.m-xl-0{margin:0!important}.mt-xl-0,.my-xl-0{margin-top:0!important}.mr-xl-0,.mx-xl-0{margin-right:0!important}.mb-xl-0,.my-xl-0{margin-bottom:0!important}.ml-xl-0,.mx-xl-0{margin-left:0!important}.m-xl-1{margin:.25rem!important}.mt-xl-1,.my-xl-1{margin-top:.25rem!important}.mr-xl-1,.mx-xl-1{margin-right:.25rem!important}.mb-xl-1,.my-xl-1{margin-bottom:.25rem!important}.ml-xl-1,.mx-xl-1{margin-left:.25rem!important}.m-xl-2{margin:.5rem!important}.mt-xl-2,.my-xl-2{margin-top:.5rem!important}.mr-xl-2,.mx-xl-2{margin-right:.5rem!important}.mb-xl-2,.my-xl-2{margin-bottom:.5rem!important}.ml-xl-2,.mx-xl-2{margin-left:.5rem!important}.m-xl-3{margin:1rem!important}.mt-xl-3,.my-xl-3{margin-top:1rem!important}.mr-xl-3,.mx-xl-3{margin-right:1rem!important}.mb-xl-3,.my-xl-3{margin-bottom:1rem!important}.ml-xl-3,.mx-xl-3{margin-left:1rem!important}.m-xl-4{margin:1.5rem!important}.mt-xl-4,.my-xl-4{margin-top:1.5rem!important}.mr-xl-4,.mx-xl-4{margin-right:1.5rem!important}.mb-xl-4,.my-xl-4{margin-bottom:1.5rem!important}.ml-xl-4,.mx-xl-4{margin-left:1.5rem!important}.m-xl-5{margin:3rem!important}.mt-xl-5,.my-xl-5{margin-top:3rem!important}.mr-xl-5,.mx-xl-5{margin-right:3rem!important}.mb-xl-5,.my-xl-5{margin-bottom:3rem!important}.ml-xl-5,.mx-xl-5{margin-left:3rem!important}.p-xl-0{padding:0!important}.pt-xl-0,.py-xl-0{padding-top:0!important}.pr-xl-0,.px-xl-0{padding-right:0!important}.pb-xl-0,.py-xl-0{padding-bottom:0!important}.pl-xl-0,.px-xl-0{padding-left:0!important}.p-xl-1{padding:.25rem!important}.pt-xl-1,.py-xl-1{padding-top:.25rem!important}.pr-xl-1,.px-xl-1{padding-right:.25rem!important}.pb-xl-1,.py-xl-1{padding-bottom:.25rem!important}.pl-xl-1,.px-xl-1{padding-left:.25rem!important}.p-xl-2{padding:.5rem!important}.pt-xl-2,.py-xl-2{padding-top:.5rem!important}.pr-xl-2,.px-xl-2{padding-right:.5rem!important}.pb-xl-2,.py-xl-2{padding-bottom:.5rem!important}.pl-xl-2,.px-xl-2{padding-left:.5rem!important}.p-xl-3{padding:1rem!important}.pt-xl-3,.py-xl-3{padding-top:1rem!important}.pr-xl-3,.px-xl-3{padding-right:1rem!important}.pb-xl-3,.py-xl-3{padding-bottom:1rem!important}.pl-xl-3,.px-xl-3{padding-left:1rem!important}.p-xl-4{padding:1.5rem!important}.pt-xl-4,.py-xl-4{padding-top:1.5rem!important}.pr-xl-4,.px-xl-4{padding-right:1.5rem!important}.pb-xl-4,.py-xl-4{padding-bottom:1.5rem!important}.pl-xl-4,.px-xl-4{padding-left:1.5rem!important}.p-xl-5{padding:3rem!important}.pt-xl-5,.py-xl-5{padding-top:3rem!important}.pr-xl-5,.px-xl-5{padding-right:3rem!important}.pb-xl-5,.py-xl-5{padding-bottom:3rem!important}.pl-xl-5,.px-xl-5{padding-left:3rem!important}.m-xl-n1{margin:-.25rem!important}.mt-xl-n1,.my-xl-n1{margin-top:-.25rem!important}.mr-xl-n1,.mx-xl-n1{margin-right:-.25rem!important}.mb-xl-n1,.my-xl-n1{margin-bottom:-.25rem!important}.ml-xl-n1,.mx-xl-n1{margin-left:-.25rem!important}.m-xl-n2{margin:-.5rem!important}.mt-xl-n2,.my-xl-n2{margin-top:-.5rem!important}.mr-xl-n2,.mx-xl-n2{margin-right:-.5rem!important}.mb-xl-n2,.my-xl-n2{margin-bottom:-.5rem!important}.ml-xl-n2,.mx-xl-n2{margin-left:-.5rem!important}.m-xl-n3{margin:-1rem!important}.mt-xl-n3,.my-xl-n3{margin-top:-1rem!important}.mr-xl-n3,.mx-xl-n3{margin-right:-1rem!important}.mb-xl-n3,.my-xl-n3{margin-bottom:-1rem!important}.ml-xl-n3,.mx-xl-n3{margin-left:-1rem!important}.m-xl-n4{margin:-1.5rem!important}.mt-xl-n4,.my-xl-n4{margin-top:-1.5rem!important}.mr-xl-n4,.mx-xl-n4{margin-right:-1.5rem!important}.mb-xl-n4,.my-xl-n4{margin-bottom:-1.5rem!important}.ml-xl-n4,.mx-xl-n4{margin-left:-1.5rem!important}.m-xl-n5{margin:-3rem!important}.mt-xl-n5,.my-xl-n5{margin-top:-3rem!important}.mr-xl-n5,.mx-xl-n5{margin-right:-3rem!important}.mb-xl-n5,.my-xl-n5{margin-bottom:-3rem!important}.ml-xl-n5,.mx-xl-n5{margin-left:-3rem!important}.m-xl-auto{margin:auto!important}.mt-xl-auto,.my-xl-auto{margin-top:auto!important}.mr-xl-auto,.mx-xl-auto{margin-right:auto!important}.mb-xl-auto,.my-xl-auto{margin-bottom:auto!important}.ml-xl-auto,.mx-xl-auto{margin-left:auto!important}}.stretched-link::after{position:absolute;top:0;right:0;bottom:0;left:0;z-index:1;pointer-events:auto;content:"";background-color:rgba(0,0,0,0)}.text-monospace{font-family:SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace!important}.text-justify{text-align:justify!important}.text-wrap{white-space:normal!important}.text-nowrap{white-space:nowrap!important}.text-truncate{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.text-left{text-align:left!important}.text-right{text-align:right!important}.text-center{text-align:center!important}@media (min-width:576px){.text-sm-left{text-align:left!important}.text-sm-right{text-align:right!important}.text-sm-center{text-align:center!important}}@media (min-width:768px){.text-md-left{text-align:left!important}.text-md-right{text-align:right!important}.text-md-center{text-align:center!important}}@media (min-width:992px){.text-lg-left{text-align:left!important}.text-lg-right{text-align:right!important}.text-lg-center{text-align:center!important}}@media (min-width:1200px){.text-xl-left{text-align:left!important}.text-xl-right{text-align:right!important}.text-xl-center{text-align:center!important}}.text-lowercase{text-transform:lowercase!important}.text-uppercase{text-transform:uppercase!important}.text-capitalize{text-transform:capitalize!important}.font-weight-light{font-weight:300!important}.font-weight-lighter{font-weight:lighter!important}.font-weight-normal{font-weight:400!important}.font-weight-bold{font-weight:700!important}.font-weight-bolder{font-weight:bolder!important}.font-italic{font-style:italic!important}.text-white{color:#fff!important}.text-primary{color:#007bff!important}a.text-primary:focus,a.text-primary:hover{color:#0056b3!important}.text-secondary{color:#6c757d!important}a.text-secondary:focus,a.text-secondary:hover{color:#494f54!important}.text-success{color:#28a745!important}a.text-success:focus,a.text-success:hover{color:#19692c!important}.text-info{color:#17a2b8!important}a.text-info:focus,a.text-info:hover{color:#0f6674!important}.text-warning{color:#ffc107!important}a.text-warning:focus,a.text-warning:hover{color:#ba8b00!important}.text-danger{color:#dc3545!important}a.text-danger:focus,a.text-danger:hover{color:#a71d2a!important}.text-light{color:#f8f9fa!important}a.text-light:focus,a.text-light:hover{color:#cbd3da!important}.text-dark{color:#343a40!important}a.text-dark:focus,a.text-dark:hover{color:#121416!important}.text-body{color:#212529!important}.text-muted{color:#6c757d!important}.text-black-50{color:rgba(0,0,0,.5)!important}.text-white-50{color:rgba(255,255,255,.5)!important}.text-hide{font:0/0 a;color:transparent;text-shadow:none;background-color:transparent;border:0}.text-decoration-none{text-decoration:none!important}.text-break{word-break:break-word!important;word-wrap:break-word!important}.text-reset{color:inherit!important}.visible{visibility:visible!important}.invisible{visibility:hidden!important}@media print{*,::after,::before{text-shadow:none!important;box-shadow:none!important}a:not(.btn){text-decoration:underline}abbr[title]::after{content:" (" attr(title) ")"}pre{white-space:pre-wrap!important}blockquote,pre{border:1px solid #adb5bd;page-break-inside:avoid}thead{display:table-header-group}img,tr{page-break-inside:avoid}h2,h3,p{orphans:3;widows:3}h2,h3{page-break-after:avoid}@page{size:a3}body{min-width:992px!important}.container{min-width:992px!important}.navbar{display:none}.badge{border:1px solid #000}.table{border-collapse:collapse!important}.table td,.table th{background-color:#fff!important}.table-bordered td,.table-bordered th{border:1px solid #dee2e6!important}.table-dark{color:inherit}.table-dark tbody+tbody,.table-dark td,.table-dark th,.table-dark thead th{border-color:#dee2e6}.table .thead-dark th{color:inherit;border-color:#dee2e6}}
 /*# sourceMappingURL=bootstrap.min.css.map */ </style>


  
  <script  integrity="sha384-ho+j7jyWK8fNQe+A12Hb8AhRq26LrZ/JpcUGGOn+Y7RsweNrtN/tE3MoK7ZeZDyx" crossorigin="anonymous"></script>


  
  <script>(function (global, factory) {
      typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :
      typeof define === 'function' && define.amd ? define(['exports'], factory) :
      (global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory(global.SandGameJS = {}));
  })(this, (function (exports) { 'use strict';

      /**
       *
       * @author Patrik Harag
       * @version 2023-07-23
       */
      class Assets {

          /**
           *
           * @param base64
           * @param maxWidth {number|undefined}
           * @param maxHeight {number|undefined}
           * @returns {Promise<ImageData>}
           */
          static asImageData(base64, maxWidth=undefined, maxHeight=undefined) {
              function countSize(imageWidth, imageHeight) {
                  let w = imageWidth;
                  let h = imageHeight;

                  if (maxWidth !== undefined && w > maxWidth) {
                      const wScale = w / maxWidth;
                      w = maxWidth;
                      h = h / wScale;
                  }
                  if (maxHeight !== undefined && h > maxHeight) {
                      const hScale = h / maxHeight;
                      h = maxHeight;
                      w = w / hScale;
                  }

                  return [Math.trunc(w), Math.trunc(h)];
              }

              return new Promise((resolve, reject) => {
                  try {
                      // http://stackoverflow.com/questions/3528299/get-pixel-color-of-base64-png-using-javascript
                      let image = new Image();
                      image.onload = () => {
                          let canvas = document.createElement('canvas');
                          let [w, h] = countSize(image.width, image.height);
                          canvas.width = w;
                          canvas.height = h;

                          let context = canvas.getContext('2d');
                          context.drawImage(image, 0, 0, canvas.width, canvas.height);

                          let imageData = context.getImageData(0, 0, canvas.width, canvas.height);
                          resolve(imageData);
                      };
                      image.src = base64;
                  } catch (e) {
                      reject(e);
                  }
              });
          }

          /**
           *
           * @param data {ArrayBuffer} ArrayBuffer
           * @param type {string} type
           */
          static asObjectUrl(data, type='image/png') {
              // https://gist.github.com/candycode/f18ae1767b2b0aba568e
              const arrayBufferView = new Uint8Array(data);
              const blob = new Blob([ arrayBufferView ], { type: type });
              const urlCreator = window.URL || window.webkitURL;
              return urlCreator.createObjectURL(blob);
          }

          static getImageTypeOrNull(filename) {
              filename = filename.toLowerCase();
              if (filename.endsWith('.png')) {
                  return 'image/png'
              }
              if (filename.endsWith('.jpg') || filename.endsWith('.jpeg')) {
                  return 'image/jpg'
              }
              if (filename.endsWith('.bmp')) {
                  return 'image/bmp'
              }
              if (filename.endsWith('.gif')) {
                  return 'image/gif'
              }
              return null;
          }
      }

      /**
       *
       * @author Patrik Harag
       * @version 2022-09-09
       */
      class Element {
          elementHead;
          elementTail;

          constructor(elementHead, elementTail) {
              this.elementHead = elementHead;
              this.elementTail = elementTail;
          }
      }

      /**
       * Tools for working with the element tail.
       *
       * The element head structure:
       * <pre>
       *     | color blue                                                    8b  |
       *     | color green                                                   8b  |
       *     | color red                                                     8b  |
       *     | blur type  2b  | burnt lvl  2b  |            2b  |            2b  |
       * </pre>
       *
       * @author Patrik Harag
       * @version 2023-08-06
       */
      class ElementTail {

          static BLUR_TYPE_NONE = 0x0;
          /** This element acts as a background = blur can be applied over this element */
          static BLUR_TYPE_BACKGROUND = 0x1;
          static BLUR_TYPE_1 = 0x2;

          static of(r, g, b, blurType=ElementTail.BLUR_TYPE_NONE) {
              let value = 0;
              value = (value | (blurType & 0x03)) << 8;
              value = (value | (r & 0xFF)) << 8;
              value = (value | (g & 0xFF)) << 8;
              value = value | (b & 0xFF);
              return value;
          }

          static getColorRed(elementTail) {
              return (elementTail >> 16) & 0x000000FF;
          }

          static getColorGreen(elementTail) {
              return (elementTail >> 8) & 0x000000FF;
          }

          static getColorBlue(elementTail) {
              return elementTail & 0x000000FF;
          }

          static getBlurType(elementTail) {
              return (elementTail >> 24) & 0x00000003;
          }

          static getBurntLevel(elementTail) {
              return (elementTail >> 26) & 0x00000003;
          }

          static setColor(elementTail, r, g, b) {
              elementTail = (elementTail & ~(0x00FF0000)) | (r << 16);
              elementTail = (elementTail & ~(0x0000FF00)) | (g << 8);
              elementTail = (elementTail & ~(0x000000FF)) | (b);
              return elementTail;
          }

          static setBurntLevel(elementTail, burntLevel) {
              return (elementTail & 0xF3FFFFFF) | (burntLevel << 26);
          }
      }

      /**
       * Tools for working with the element head.
       *
       * The element head structure: (32b)
       * <pre>
       *     | type class         3b  | type modifiers                       5b  |
       *     | behaviour                   4b  | special                     4b  |
       *     | flammable  2b  | flame heat 2b  | burnable   2b  | t. cond.   2b  |
       *     | temperature                                                   8b  |
       * </pre>
       *
       * Type modifier for powder-like types: (5b)
       * <pre>
       *     | sliding  1b |  direction  1b  | momentum  3b  |
       * </pre>
       *
       * @author Patrik Harag
       * @version 2023-08-20
       */
      class ElementHead {

          static FIELD_TYPE_CLASS_SIZE = 3;  // bits
          static TYPE_AIR = 0x0;
          static TYPE_EFFECT = 0x1;
          static TYPE_POWDER_FLOATING = 0x2;   // floating, not wet, can turn into wet
          static TYPE_FLUID = 0x3;
          static TYPE_POWDER = 0x4;  // not wet, can turn into wet
          static TYPE_POWDER_WET = 0x5;  // wet
          // reserved: 0x6 TYPE_STRUCTURE?
          static TYPE_STATIC = 0x7;

          static FIELD_TYPE_MODIFIERS_SIZE = 5;  // bits

          static FIELD_BEHAVIOUR_SIZE = 4;  // bits
          static BEHAVIOUR_NONE = 0x0;
          static BEHAVIOUR_SOIL = 0x1;
          static BEHAVIOUR_GRASS = 0x2;
          static BEHAVIOUR_FISH = 0x3;
          static BEHAVIOUR_FISH_BODY = 0x4;
          static BEHAVIOUR_TREE = 0x5;
          static BEHAVIOUR_TREE_ROOT = 0x6;
          static BEHAVIOUR_TREE_TRUNK = 0x7;
          static BEHAVIOUR_TREE_LEAF = 0x8;
          static BEHAVIOUR_FIRE = 0x9;
          static BEHAVIOUR_FIRE_SOURCE = 0xA;
          static BEHAVIOUR_METEOR = 0xB;

          static FIELD_SPECIAL_SIZE = 4;  // bits

          // how hard it is to ignite this element
          static FIELD_FLAMMABLE_TYPE_SIZE = 2;  // bits
          static FLAMMABLE_TYPE_NONE = 0x00;
          static FLAMMABLE_TYPE_SLOW = 0x01;
          static FLAMMABLE_TYPE_MEDIUM = 0x02;
          static FLAMMABLE_TYPE_FAST = 0x03;

          // how much heat this element produces while burning
          static FIELD_FLAME_HEAT_TYPE_SIZE = 2;  // bits
          static FLAME_HEAT_TYPE_NONE = 0x00;
          static FLAME_HEAT_TYPE_MEDIUM = 0x01;
          static FLAME_HEAT_TYPE_HIGH = 0x02;
          static FLAME_HEAT_TYPE_EXTREME = 0x03;

          // how hard it is to burn down this element
          static FIELD_BURNABLE_TYPE_SIZE = 2;  // bits
          static BURNABLE_TYPE_NEVER = 0x00;
          static BURNABLE_TYPE_SLOW = 0x01;
          static BURNABLE_TYPE_MEDIUM = 0x02;
          static BURNABLE_TYPE_FAST = 0x03;

          static FIELD_T_CONDUCTIVITY_TYPE_SIZE = 2;  // bits
          // TODO

          static FIELD_TEMPERATURE_SIZE = 8;  // bits


          static of(type8, behaviour8 = 0,
                  flammableType = 0, flameHeatType = 0, burnableType = 0, meltableType = 0,
                  temperature = 0) {

              let value = temperature << 2;
              value = (value | meltableType) << 2;
              value = (value | burnableType) << 2;
              value = (value | flameHeatType) << 2;
              value = (value | flammableType) << 8;
              value = (value | behaviour8) << 8;
              value = value | type8;
              return value;
          }

          static type8(typeClass, typeModifiers = 0) {
              return typeClass | (typeModifiers << 3);
          }

          static type8Powder(typeClass, momentum = 0, sliding = 0, direction = 0) {
              let value = momentum << 1;
              value = (value | direction) << 1;
              value = (value | sliding) << 3;
              value = value | typeClass;
              return value;
          }

          // TODO TYPE_FLUID: density, step size, ? viscosity, ? pressure
          static type8Fluid(typeClass) {
              return typeClass;
          }

          static behaviour8(behaviour, special = 0) {
              return behaviour | (special << 4);
          }

          // get methods

          static getType(elementHead) {
              return elementHead & 0x000000FF;
          }

          static getTypeClass(elementHead) {
              return elementHead & 0x00000007;
          }

          static getTypeModifierPowderSliding(elementHead) {
              return (elementHead >> 3) & 0x00000001;
          }

          static getTypeModifierPowderDirection(elementHead) {
              return (elementHead >> 4) & 0x00000001;
          }

          static getTypeModifierPowderMomentum(elementHead) {
              return (elementHead >> 5) & 0x00000007;
          }

          static getBehaviour(elementHead) {
              return (elementHead >> 8) & 0x0000000F;
          }

          static getSpecial(elementHead) {
              return (elementHead >> 12) & 0x0000000F;
          }

          static getFlammableType(elementHead) {
              return (elementHead >> 16) & 0x00000003;
          }

          static getFlameHeatType(elementHead) {
              return (elementHead >> 18) & 0x00000003;
          }

          static getBurnableType(elementHead) {
              return (elementHead >> 20) & 0x00000003;
          }

          static getConductivityType(elementHead) {
              return (elementHead >> 22) & 0x00000003;
          }

          static getTemperature(elementHead) {
              return (elementHead >> 24) & 0x000000FF;
          }

          // set methods

          static setType(elementHead, type) {
              return (elementHead & 0xFFFFFF00) | type;
          }

          static setTypeClass(elementHead, type) {
              return (elementHead & 0xFFFFFFF8) | type;
          }

          static setTypeModifierPowderSliding(elementHead, val) {
              return (elementHead & 0xFFFFFFF7) | (val << 3);
          }

          static setTypeModifierPowderDirection(elementHead, val) {
              return (elementHead & 0xFFFFFFEF) | (val << 4);
          }

          static setTypeModifierPowderMomentum(elementHead, val) {
              return (elementHead & 0xFFFFFF1F) | (val << 5);
          }

          static setBehaviour(elementHead, behaviour) {
              return (elementHead & 0xFFFFF0FF) | (behaviour << 8);
          }

          static setSpecial(elementHead, special) {
              return (elementHead & 0xFFFF0FFF) | (special << 12);
          }

          static setTemperature(elementHead, temperature) {
              return (elementHead & 0x00FFFFFF) | (temperature << 24);
          }
      }

      /**
       * @interface
       *
       * @author Patrik Harag
       * @version 2023-02-20
       */
      class Brush {

          /**
           *
           * @param x
           * @param y
           * @param random {DeterministicRandom}
           * @param oldElement {Element}
           * @return {Element}
           */
          apply(x, y, random = undefined, oldElement = undefined) {
              throw 'Not implemented'
          }


          // static factory methods

          /**
           *
           * @param elements {Element[]}
           * @returns {Brush}
           */
          static random(elements) {
              return new RandomBrush(elements);
          }

          static randomFromHeadAndTails(elementHead, elementTails) {
              let elements = [];
              for (let elementTail of elementTails) {
                  elements.push(new Element(elementHead, elementTail));
              }
              return new RandomBrush(elements);
          }

          static textureBrush(innerBrush, base64) {
              return new TextureBrush(innerBrush, base64);
          }

          /**
           *
           * @param func {function(x: number, y: number, random: DeterministicRandom, oldElement: Element)}
           * @returns {Brush}
           */
          static custom(func) {
              return new CustomBrush(func);
          }

          /**
           *
           * @param brush {Brush}
           * @param intensity {number} 0..1
           * @returns {Brush}
           */
          static withIntensity(brush, intensity) {
              return Brush.custom((x, y, random, oldElement) => {
                  let rnd = (random) ? random.next() : Math.random();
                  if (rnd < intensity) {
                      return brush.apply(x, y, random, oldElement);
                  }
                  return null;
              });
          }

          /**
           * Brush will not paint over other elements.
           *
           * @param brush {Brush}
           */
          static gentle(brush) {
              return Brush.custom((x, y, random, oldElement) => {
                  if (ElementHead.getTypeClass(oldElement.elementHead) === ElementHead.TYPE_AIR) {
                      return brush.apply(x, y, random, oldElement);
                  }
                  return null;
              });
          }
      }

      /**
       *
       * @author Patrik Harag
       * @version 2023-02-20
       */
      class RandomBrush extends Brush {

          /** @type Element[] */
          #elements;

          constructor(elements) {
              super();
              this.#elements = elements;
          }

          apply(x, y, random, oldElement) {
              if (this.#elements.length > 1) {
                  let i;
                  if (random) {
                      i = random.nextInt(this.#elements.length);
                  } else {
                      i = Math.trunc(Math.random() * this.#elements.length);
                  }
                  return this.#elements[i];
              } else {
                  return this.#elements[0];
              }
          }
      }

      /**
       *
       * @author Patrik Harag
       * @version 2023-02-20
       */
      class TextureBrush extends Brush {

          /** @type Brush */
          #innerBrush;

          /** @type ImageData|null */
          #imageData = null;

          constructor(innerBrush, base64) {
              super();
              this.#innerBrush = innerBrush;

              Assets.asImageData(base64).then(imageData => this.#imageData = imageData);
          }

          apply(x, y, random, oldElement) {
              const element = this.#innerBrush.apply(x, y, random);

              if (this.#imageData != null) {
                  const cx = x % this.#imageData.width;
                  const cy = y % this.#imageData.height;
                  const index = (cy * this.#imageData.width + cx) * 4;

                  const red = this.#imageData.data[index];
                  const green = this.#imageData.data[index + 1];
                  const blue = this.#imageData.data[index + 2];
                  // const alpha = this.#imageData.data[index + 3];

                  element.elementTail = ElementTail.setColor(element.elementTail, red, green, blue);
              }
              return element;
          }
      }

      /**
       *
       * @author Patrik Harag
       * @version 2023-02-20
       */
      class CustomBrush extends Brush {

          /** @type function(x: number, y: number, random: DeterministicRandom, oldElement: Element) */
          #func;

          constructor(func) {
              super();
              this.#func = func;
          }

          apply(x, y, random, oldElement) {
              return this.#func(x, y, random, oldElement);
          }
      }

      /**
       *
       * @author Patrik Harag
       * @version 2023-10-11
       */
      class ElementArea {

          /**
           * This element is used for templates etc.
           * @type {Element}
           */
          static TRANSPARENT_ELEMENT = new Element(0xFFFFFFFF, 0xFFFFFFFF);

          static LITTLE_ENDIAN = true;

          static create(width, height, defaultElement) {
              let bufferHeads = new DataView(new ArrayBuffer(width * height * 4));
              let bufferTails = new DataView(new ArrayBuffer(width * height * 4));
              let instance = new ElementArea(width, height, bufferHeads, bufferTails);

              // set default elements
              for (let y = 0; y < instance.#height; y++) {
                  for (let x = 0; x < instance.#width; x++) {
                      instance.setElement(x, y, defaultElement);
                  }
              }
              return instance;
          }

          /**
           *
           * @param width
           * @param height
           * @param dataHeads {ArrayBuffer}
           * @param dataTails {ArrayBuffer}
           * @returns {ElementArea}
           */
          static from(width, height, dataHeads, dataTails) {
              return new ElementArea(width, height, new DataView(dataHeads), new DataView(dataTails));
          }


          /** @type number */
          #width;

          /** @type number */
          #height;

          /** @type DataView */
          #bufferHeads;

          /** @type DataView */
          #bufferTails;

          constructor(width, height, bufferHeads, bufferTails) {
              this.#width = width;
              this.#height = height;
              this.#bufferHeads = bufferHeads;
              this.#bufferTails = bufferTails;
          }

          isValidPosition(x, y) {
              if (x < 0 || y < 0) {
                  return false;
              }
              if (x >= this.#width || y >= this.#height) {
                  return false;
              }
              return true;
          }

          setElement(x, y, element) {
              if (element !== null) {
                  this.setElementHeadAndTail(x, y, element.elementHead, element.elementTail);
              }
              // brushes can produce nulls
          }

          setElementHeadAndTail(x, y, elementHead, elementTail) {
              const byteOffset = (this.#width * y + x) * 4;
              this.#bufferHeads.setUint32(byteOffset, elementHead, ElementArea.LITTLE_ENDIAN);
              this.#bufferTails.setUint32(byteOffset, elementTail, ElementArea.LITTLE_ENDIAN);
          }

          setElementHead(x, y, elementHead) {
              const byteOffset = (this.#width * y + x) * 4;
              this.#bufferHeads.setUint32(byteOffset, elementHead, ElementArea.LITTLE_ENDIAN);
          }

          setElementTail(x, y, elementTail) {
              const byteOffset = (this.#width * y + x) * 4;
              this.#bufferTails.setUint32(byteOffset, elementTail, ElementArea.LITTLE_ENDIAN);
          }

          getElement(x, y) {
              const byteOffset = (this.#width * y + x) * 4;
              const elementHead = this.#bufferHeads.getUint32(byteOffset, ElementArea.LITTLE_ENDIAN);
              const elementTail = this.#bufferTails.getUint32(byteOffset, ElementArea.LITTLE_ENDIAN);
              return new Element(elementHead, elementTail);
          }

          getElementHead(x, y) {
              const byteOffset = (this.#width * y + x) * 4;
              return this.#bufferHeads.getUint32(byteOffset, ElementArea.LITTLE_ENDIAN);
          }

          getElementHeadOrNull(x, y) {
              if (this.isValidPosition(x, y)) {
                  return this.getElementHead(x, y);
              }
              return null;
          }

          getElementTail(x, y) {
              const byteOffset = (this.#width * y + x) * 4;
              return this.#bufferTails.getUint32(byteOffset, ElementArea.LITTLE_ENDIAN);
          }

          getElementTailOrNull(x, y) {
              if (this.isValidPosition(x, y)) {
                  return this.getElementTail(x, y);
              }
              return null;
          }

          swap(x, y, x2, y2) {
              const elementHead = this.getElementHead(x, y);
              const elementHead2 = this.getElementHead(x2, y2);
              this.setElementHead(x2, y2, elementHead);
              this.setElementHead(x, y, elementHead2);

              const elementTail = this.getElementTail(x, y);
              const elementTail2 = this.getElementTail(x2, y2);
              this.setElementTail(x2, y2, elementTail);
              this.setElementTail(x, y, elementTail2);
          }

          /**
           *
           * @return {ArrayBuffer}
           */
          getDataHeads() {
              return this.#bufferHeads.buffer;
          }

          /**
           *
           * @return {ArrayBuffer}
           */
          getDataTails() {
              return this.#bufferTails.buffer;
          }

          /**
           *
           * @return {number}
           */
          getWidth() {
              return this.#width;
          }

          /**
           *
           * @return {number}
           */
          getHeight() {
              return this.#height;
          }
      }

      /**
       * @interface
       *
       * @author Patrik Harag
       * @version 2023-05-04
       */
      class CursorDefinition {

          /**
           *
           * @return {number}
           */
          getWidth() {
              throw 'Not implemented';
          }

          /**
           *
           * @return {number}
           */
          getHeight() {
              throw 'Not implemented';
          }
      }

      /**
       * @author Patrik Harag
       * @version 2023-05-04
       */
      class CursorDefinitionElementArea extends CursorDefinition {

          /** @type ElementArea */
          #elementArea;

          constructor(elementArea) {
              super();
              this.#elementArea = elementArea;
          }

          getWidth() {
              return this.#elementArea.getWidth();
          }

          getHeight() {
              return this.#elementArea.getHeight();
          }

          getElementArea() {
              return this.#elementArea;
          }
      }

      /**
       *
       * @author Patrik Harag
       * @version 2023-08-18
       */
      class VisualEffects {

          static isVisualBurnApplicable(elementHead) {
              const type = ElementHead.getTypeClass(elementHead);
              return type > ElementHead.TYPE_FLUID || type === ElementHead.TYPE_POWDER_FLOATING;
          }

          static visualBurn(elementTail, force = 1, maxBurntLevel = 3) {
              const burntLevel = ElementTail.getBurntLevel(elementTail);
              if (burntLevel > 2) {
                  return elementTail;
              }

              let newTail = elementTail;

              let newBurntLevel = burntLevel + force;
              newBurntLevel = Math.min(newBurntLevel, maxBurntLevel);
              newBurntLevel = Math.max(newBurntLevel, 0);

              const appliedForce = newBurntLevel - burntLevel;
              if (appliedForce > 0) {
                  newTail = ElementTail.setBurntLevel(newTail, newBurntLevel);

                  let red = ElementTail.getColorRed(elementTail);
                  let green = ElementTail.getColorGreen(elementTail);
                  let blue = ElementTail.getColorBlue(elementTail);

                  let divisor = 1.8 - (Math.random() * 0.5);
                  if (appliedForce > 1) {
                      divisor = divisor * (1.8 - (Math.random() * 0.5));
                  }
                  if (appliedForce > 2) {
                      divisor = divisor * (1.8 - (Math.random() * 0.5));
                  }

                  red = Math.trunc(red / divisor);
                  green = Math.trunc(green / divisor);
                  blue = Math.trunc(blue / divisor);

                  newTail = ElementTail.setColor(newTail, red, green, blue);
              }

              return newTail;
          }
      }

      var img$l = "data:image/png;base64,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";

      // TODO: create some abstraction for brushes that are needed in core processing and move this into /def

      /**
       *
       * @author Patrik Harag
       * @version 2023-08-20
       */
      class Brushes {

          // TEST brushes
          // bright color for testing purposes

          static _TEST_SOLID = Brush.random([
              new Element(
                  ElementHead.of(ElementHead.TYPE_STATIC),
                  ElementTail.of(255, 0, 125))
          ]);

          static _TEST_AIR = Brush.random([
              new Element(
                  ElementHead.of(ElementHead.TYPE_AIR),
                  ElementTail.of(255, 0, 125))
          ]);

          static _TEST_FLAMMABLE_SOLID_M = Brush.random([
              new Element(
                  ElementHead.of(ElementHead.TYPE_STATIC, 0,
                      ElementHead.FLAMMABLE_TYPE_FAST, ElementHead.FLAME_HEAT_TYPE_MEDIUM, ElementHead.BURNABLE_TYPE_NEVER),
                  ElementTail.of(25, 52, 56))
          ]);

          static _TEST_FLAMMABLE_SOLID_H = Brush.random([
              new Element(
                  ElementHead.of(ElementHead.TYPE_STATIC, 0,
                      ElementHead.FLAMMABLE_TYPE_FAST, ElementHead.FLAME_HEAT_TYPE_HIGH, ElementHead.BURNABLE_TYPE_NEVER),
                  ElementTail.of(25, 56, 49))
          ]);

          static _TEST_FLAMMABLE_SOLID_E = Brush.random([
              new Element(
                  ElementHead.of(ElementHead.TYPE_STATIC, 0,
                      ElementHead.FLAMMABLE_TYPE_FAST, ElementHead.FLAME_HEAT_TYPE_EXTREME, ElementHead.BURNABLE_TYPE_NEVER),
                  ElementTail.of(25, 33, 56))
          ]);

          // ---

          static AIR = Brush.random([
              new Element(
                  ElementHead.of(ElementHead.TYPE_AIR),
                  ElementTail.of(255, 255, 255, ElementTail.BLUR_TYPE_BACKGROUND))
          ]);

          static WALL = Brush.randomFromHeadAndTails(ElementHead.of(ElementHead.TYPE_STATIC), [
              ElementTail.of(55, 55, 55),
              ElementTail.of(57, 57, 57)
          ]);

          static ROCK = Brush.textureBrush(
              Brush.random([new Element(ElementHead.of(ElementHead.TYPE_STATIC), 0)]),
              img$l);

          static SAND = Brush.custom((x, y, random) => {
              const type = random.nextInt(100) < 60 ? ElementHead.TYPE_POWDER : ElementHead.TYPE_POWDER_WET;
              const elementHead = ElementHead.of(ElementHead.type8Powder(type, 6));

              let elementTail = ElementTail.of(0, 0, 0, ElementTail.BLUR_TYPE_1);
              const colors = [
                  [214, 212, 154], [214, 212, 154], [214, 212, 154], [214, 212, 154],
                  [225, 217, 171], [225, 217, 171], [225, 217, 171], [225, 217, 171],
                  [203, 201, 142], [203, 201, 142], [203, 201, 142], [203, 201, 142],
                  [195, 194, 134], [195, 194, 134],
                  [218, 211, 165], [218, 211, 165],
                  [223, 232, 201],
                  [186, 183, 128],
              ];
              const [r, g, b] = colors[Math.trunc(random.nextInt(colors.length))];
              elementTail = ElementTail.setColor(elementTail, r, g, b);

              return new Element(elementHead, elementTail);
          });

          static SOIL = Brush.custom((x, y, random) => {
              const type = random.nextInt(100) < 40 ? ElementHead.TYPE_POWDER : ElementHead.TYPE_POWDER_WET;
              const elementHead = ElementHead.of(
                      ElementHead.type8Powder(type, 5), ElementHead.behaviour8(ElementHead.BEHAVIOUR_SOIL));

              let elementTail = ElementTail.of(0, 0, 0, ElementTail.BLUR_TYPE_1);
              const colors = [
                  [142, 104, 72], [142, 104, 72], [142, 104, 72], [142, 104, 72], [142, 104, 72], [142, 104, 72],
                  [114,  81, 58], [114,  81, 58], [114,  81, 58], [114,  81, 58], [114,  81, 58], [114,  81, 58],
                  [82,  64,  30], [82,   64, 30], [ 82,  64, 30],
                  [177, 133, 87], [177, 133, 87], [177, 133, 87],
                  [102, 102, 102],
              ];
              const [r, g, b] = colors[Math.trunc(random.nextInt(colors.length))];
              elementTail = ElementTail.setColor(elementTail, r, g, b);

              return new Element(elementHead, elementTail);
          });

          static STONE = Brush.custom((x, y, random) => {
              const type = random.nextInt(100) < 20 ? ElementHead.TYPE_POWDER : ElementHead.TYPE_POWDER_WET;
              const elementHead = ElementHead.of(ElementHead.type8Powder(type, 3));

              let elementTail = ElementTail.of(0, 0, 0, ElementTail.BLUR_TYPE_1);
              const colors = [
                  [97, 94, 88],
                  [111, 110, 106],
                  [117, 116, 112],
                  [117, 117, 113],
                  [120, 118, 115],
                  [104, 102, 97],
                  [113, 112, 107],
                  [129, 128, 125],
                  [124, 124, 121],
                  [81, 80, 75],
                  [80, 76, 69],
                  [123, 119, 111],
                  [105, 104, 99],
                  [84, 82, 78],
                  [77, 74, 69],
                  [91, 88, 82],
                  [68, 65, 60],
                  [79, 75, 69],
                  [85, 82, 77],
                  [98, 94, 88],
                  [105, 102, 96],
                  [104, 97, 86],
                  [60, 55, 47],
                  [93, 89, 81],
              ];
              const [r, g, b] = colors[Math.trunc(random.nextInt(colors.length))];
              elementTail = ElementTail.setColor(elementTail, r, g, b);

              return new Element(elementHead, elementTail);
          });

          static WATER = Brush.randomFromHeadAndTails(ElementHead.of(ElementHead.type8Fluid(ElementHead.TYPE_FLUID)), [
              ElementTail.of(4, 135, 186, ElementTail.BLUR_TYPE_1),
              ElementTail.of(5, 138, 189, ElementTail.BLUR_TYPE_1)
          ]);

          static GRASS = Brush.random([
              new Element(
                  ElementHead.of(ElementHead.type8Powder(ElementHead.TYPE_POWDER, 0),
                      ElementHead.behaviour8(ElementHead.BEHAVIOUR_GRASS, 5),
                      ElementHead.FLAMMABLE_TYPE_MEDIUM, ElementHead.FLAME_HEAT_TYPE_MEDIUM, ElementHead.BURNABLE_TYPE_FAST),
                  ElementTail.of(56, 126, 38, ElementTail.BLUR_TYPE_1)),
              new Element(
                  ElementHead.of(ElementHead.type8Powder(ElementHead.TYPE_POWDER, 0),
                      ElementHead.behaviour8(ElementHead.BEHAVIOUR_GRASS, 3),
                      ElementHead.FLAMMABLE_TYPE_MEDIUM, ElementHead.FLAME_HEAT_TYPE_MEDIUM, ElementHead.BURNABLE_TYPE_FAST),
                  ElementTail.of(46, 102, 31, ElementTail.BLUR_TYPE_1)),
              new Element(
                  ElementHead.of(ElementHead.type8Powder(ElementHead.TYPE_POWDER, 0),
                      ElementHead.behaviour8(ElementHead.BEHAVIOUR_GRASS, 4),
                      ElementHead.FLAMMABLE_TYPE_MEDIUM, ElementHead.FLAME_HEAT_TYPE_MEDIUM, ElementHead.BURNABLE_TYPE_FAST),
                  ElementTail.of(72, 130, 70, ElementTail.BLUR_TYPE_1))
          ]);

          static FISH = Brush.random([
              new Element(
                  ElementHead.of(ElementHead.TYPE_STATIC, ElementHead.behaviour8(ElementHead.BEHAVIOUR_FISH, 0)),
                  ElementTail.of(37, 53, 66)),
          ]);

          static FISH_BODY = Brush.random([
              new Element(
                  ElementHead.of(ElementHead.TYPE_STATIC, ElementHead.behaviour8(ElementHead.BEHAVIOUR_FISH_BODY, 0)),
                  ElementTail.of(37, 53, 66)),
          ]);

          static FISH_CORPSE = Brush.random([
              new Element(
                  ElementHead.of(ElementHead.type8Powder(ElementHead.TYPE_POWDER, 2)),
                  ElementTail.of(61, 68, 74)),
          ]);

          static TREE = Brush.custom((x, y, random) => {
              let treeType = random.nextInt(17);
              return new Element(
                  ElementHead.of(ElementHead.TYPE_STATIC, ElementHead.behaviour8(ElementHead.BEHAVIOUR_TREE, treeType),
                      ElementHead.FLAMMABLE_TYPE_SLOW, ElementHead.FLAME_HEAT_TYPE_MEDIUM, ElementHead.BURNABLE_TYPE_SLOW),
                  ElementTail.of(77, 41, 13));
          });

          static TREE_ROOT = Brush.random([
              new Element(
                  ElementHead.of(ElementHead.TYPE_STATIC, ElementHead.behaviour8(ElementHead.BEHAVIOUR_TREE_ROOT, 8),
                      ElementHead.FLAMMABLE_TYPE_SLOW, ElementHead.FLAME_HEAT_TYPE_MEDIUM, ElementHead.BURNABLE_TYPE_SLOW),
                  ElementTail.of(96, 50, 14)),
              new Element(
                  ElementHead.of(ElementHead.TYPE_STATIC, ElementHead.behaviour8(ElementHead.BEHAVIOUR_TREE_ROOT, 5),
                      ElementHead.FLAMMABLE_TYPE_SLOW, ElementHead.FLAME_HEAT_TYPE_MEDIUM, ElementHead.BURNABLE_TYPE_SLOW),
                  ElementTail.of(77, 41, 13))
          ]);

          static TREE_WOOD = Brush.randomFromHeadAndTails(
              ElementHead.of(ElementHead.TYPE_STATIC, ElementHead.behaviour8(ElementHead.BEHAVIOUR_TREE_TRUNK, 0),
                  ElementHead.FLAMMABLE_TYPE_SLOW, ElementHead.FLAME_HEAT_TYPE_MEDIUM, ElementHead.BURNABLE_TYPE_SLOW), [
                  ElementTail.of(96, 50, 14),
                  ElementTail.of(115, 64, 21)
          ]);

          static TREE_LEAF_LIGHTER = Brush.randomFromHeadAndTails(
              ElementHead.of(ElementHead.TYPE_STATIC, ElementHead.behaviour8(ElementHead.BEHAVIOUR_TREE_LEAF, 0),
                  ElementHead.FLAMMABLE_TYPE_MEDIUM, ElementHead.FLAME_HEAT_TYPE_MEDIUM, ElementHead.BURNABLE_TYPE_MEDIUM), [
                  ElementTail.of(0, 129, 73),
          ]);

          static TREE_LEAF_DARKER = Brush.randomFromHeadAndTails(
              ElementHead.of(ElementHead.TYPE_STATIC, ElementHead.behaviour8(ElementHead.BEHAVIOUR_TREE_LEAF, 0),
                  ElementHead.FLAMMABLE_TYPE_MEDIUM, ElementHead.FLAME_HEAT_TYPE_MEDIUM, ElementHead.BURNABLE_TYPE_MEDIUM), [
                  ElementTail.of(0, 76, 72),
          ]);

          static TREE_LEAF_DEAD = Brush.randomFromHeadAndTails(
              ElementHead.of(ElementHead.TYPE_STATIC, ElementHead.behaviour8(ElementHead.BEHAVIOUR_TREE_LEAF, 15),
                  ElementHead.FLAMMABLE_TYPE_FAST, ElementHead.FLAME_HEAT_TYPE_MEDIUM, ElementHead.BURNABLE_TYPE_MEDIUM), [
                  ElementTail.of(150, 69, 41),
                  ElementTail.of(185, 99, 75),
                  ElementTail.of(174, 97, 81),
          ]);

          static #FIRE_ELEMENT_HEAD = ElementHead.of(ElementHead.TYPE_EFFECT, ElementHead.behaviour8(ElementHead.BEHAVIOUR_FIRE, 0));
          static FIRE = Brush.random([
              new Element(ElementHead.setTemperature(Brushes.#FIRE_ELEMENT_HEAD, 255), ElementTail.of(249, 219, 30)),
              new Element(ElementHead.setTemperature(Brushes.#FIRE_ELEMENT_HEAD, 255), ElementTail.of(249, 219, 30)),
              new Element(ElementHead.setTemperature(Brushes.#FIRE_ELEMENT_HEAD, 120), ElementTail.of(249, 219, 30))
          ]);

          static ASH = Brush.custom((x, y, random) => {
              const type = random.nextInt(100) < 80 ? ElementHead.TYPE_POWDER : ElementHead.TYPE_POWDER_WET;
              const elementHead = ElementHead.of(ElementHead.type8Powder(type, 6));

              let elementTail = ElementTail.of(0, 0, 0, ElementTail.BLUR_TYPE_1);
              const colors = [
                  [131, 131, 131], [131, 131, 131], [131, 131, 131], [131, 131, 131], [131, 131, 131], [131, 131, 131],
                  [135, 135, 135], [135, 135, 135], [135, 135, 135], [135, 135, 135], [135, 135, 135], [135, 135, 135],
                  [145, 145, 145], [145, 145, 145], [145, 145, 145], [145, 145, 145], [145, 145, 145], [145, 145, 145],
                  [148, 148, 148], [148, 148, 148], [148, 148, 148], [148, 148, 148], [148, 148, 148], [148, 148, 148],
                  [160, 160, 160], [160, 160, 160], [160, 160, 160], [160, 160, 160], [160, 160, 160], [160, 160, 160],
                  [114, 114, 114],
                  [193, 193, 193],
              ];
              const [r, g, b] = colors[Math.trunc(random.nextInt(colors.length))];
              elementTail = ElementTail.setColor(elementTail, r, g, b);

              return new Element(elementHead, elementTail);
          });

          static METEOR = Brush.random([
              new Element(
                  ElementHead.of(ElementHead.TYPE_STATIC, ElementHead.behaviour8(ElementHead.BEHAVIOUR_METEOR, 0)),
                  ElementTail.of(249, 219, 30))
          ]);

          static METEOR_FROM_LEFT = Brush.random([
              new Element(
                  ElementHead.of(ElementHead.TYPE_STATIC, ElementHead.behaviour8(ElementHead.BEHAVIOUR_METEOR, 1 << 1)),
                  ElementTail.of(249, 219, 30))
          ]);

          static METEOR_FROM_RIGHT = Brush.random([
              new Element(
                  ElementHead.of(ElementHead.TYPE_STATIC, ElementHead.behaviour8(ElementHead.BEHAVIOUR_METEOR, 2 << 1)),
                  ElementTail.of(249, 219, 30))
          ]);

          static EFFECT_BURNT = Brush.custom((x, y, random, oldElement) => {
              if (VisualEffects.isVisualBurnApplicable(oldElement.elementHead)) {
                  const burntLevel = ElementTail.getBurntLevel(oldElement.elementTail);
                  if (burntLevel < 3) {
                      return new Element(oldElement.elementHead, VisualEffects.visualBurn(oldElement.elementTail, 1));
                  }
              }
              return null;
          });

          // --- SEARCH

          static LIST = [
              { codeName: 'air', brush: Brushes.AIR },
              { codeName: 'ash', brush: Brushes.ASH },
              { codeName: 'sand', brush: Brushes.SAND },
              { codeName: 'soil', brush: Brushes.SOIL },
              { codeName: 'gravel', brush: Brushes.STONE },
              { codeName: 'wall', brush: Brushes.WALL },
              { codeName: 'rock', brush: Brushes.ROCK },
              { codeName: 'wood', brush: Brushes.TREE_WOOD },
              { codeName: 'water', brush: Brushes.WATER },
              { codeName: 'fire', brush: Brushes.FIRE },
              { codeName: 'meteor', brush: Brushes.METEOR },
              { codeName: 'meteor_l', brush: Brushes.METEOR_FROM_LEFT },
              { codeName: 'meteor_r', brush: Brushes.METEOR_FROM_RIGHT },
          ]

          static byCodeName(codeName) {
              for (let brushEntry of Brushes.LIST) {
                  if (brushEntry.codeName === codeName) {
                      return brushEntry.brush;
                  }
              }
              return null;
          }
      }

      /**
       *
       * @author Patrik Harag
       * @version 2023-07-23
       */
      class Tool {

          /** @type string */
          #category;

          /** @type string */
          #codeName;

          /** @type string */
          #displayName;

          constructor(category, codeName, displayName) {
              this.#category = category;
              this.#codeName = codeName;
              this.#displayName = displayName;
          }

          /**
           *
           * @return {string}
           */
          getCategory() {
              return this.#category;
          }

          /**
           *
           * @return {string}
           */
          getDisplayName() {
              return this.#displayName;
          }

          /**
           *
           * @return {string}
           */
          getCodeName() {
              return this.#codeName;
          }

          isStrokeEnabled() {
              return false;
          }

          isSelectionEnabled() {
              return false;
          }

          /**
           * @return {CursorDefinition|null}
           */
          createCursor() {
              // default cursor
              return null;
          }

          /**
           *
           * @param x {number}
           * @param y {number}
           * @param graphics {SandGameGraphics}
           * @param altModifier {boolean}
           * @return {void}
           */
          applyPoint(x, y, graphics, altModifier) {
              throw 'Not implemented';
          }

          /**
           *
           * @param x1 {number}
           * @param y1 {number}
           * @param x2 {number}
           * @param y2 {number}
           * @param graphics {SandGameGraphics}
           * @param altModifier {boolean}
           * @return {void}
           */
          applyStroke(x1, y1, x2, y2, graphics, altModifier) {
              // no action by default
          }

          /**
           *
           * @param x1 {number}
           * @param y1 {number}
           * @param x2 {number}
           * @param y2 {number}
           * @param graphics {SandGameGraphics}
           * @param altModifier {boolean}
           * @return {void}
           */
          applyArea(x1, y1, x2, y2, graphics, altModifier) {
              // no action by default
          }

          /**
           *
           * @param x {number}
           * @param y {number}
           * @param graphics {SandGameGraphics}
           * @param altModifier {boolean}
           * @return {void}
           */
          applySpecial(x, y, graphics, altModifier) {
              // no action by default
          }


          // static factory methods

          static rectangleBrushTool(category, codeName, displayName, brush, size) {
              return new RectangleBrushTool(category, codeName, displayName, brush, size);
          }

          static pointBrushTool(category, codeName, displayName, brush) {
              return new PointBrushTool(category, codeName, displayName, brush);
          }

          static meteorTool(category, codeName, displayName) {
              return new MeteorTool(category, codeName, displayName);
          }

          static insertElementAreaTool(category, codeName, displayName, scenes, handler) {
              if (scenes.length === 1) {
                  return new InsertSceneTool(category, codeName, displayName, scenes[0], handler);
              } else {
                  return new InsertRandomSceneTool(category, codeName, displayName, scenes, handler);
              }
          }

          static actionTool(category, codeName, displayName, handler) {
              return new ActionTool(category, codeName, displayName, handler);
          }
      }

      /**
       *
       * @author Patrik Harag
       * @version 2023-07-23
       */
      class RectangleBrushTool extends Tool {

          /** @type Brush */
          #brush;

          /** @type Brush */
          #altBrush;

          /** @type number */
          #size;

          constructor(category, codeName, displayName, brush, size) {
              super(category, codeName, displayName);
              this.#brush = brush;
              this.#altBrush = Brush.gentle(brush);
              this.#size = size;
          }

          getBrush() {
              return this.#brush;
          }

          isStrokeEnabled() {
              return true;
          }

          isSelectionEnabled() {
              return true;
          }

          applyPoint(x, y, graphics, altModifier) {
              this.applyStroke(x, y, x, y, graphics, altModifier);
          }

          applyStroke(x1, y1, x2, y2, graphics, altModifier) {
              const brush = altModifier ? this.#altBrush : this.#brush;
              graphics.drawLine(x1, y1, x2, y2, this.#size, brush, true);
          }

          applyArea(x1, y1, x2, y2, graphics, altModifier) {
              const brush = altModifier ? this.#altBrush : this.#brush;
              graphics.drawRectangle(x1, y1, x2, y2, brush);
          }

          applySpecial(x, y, graphics, altModifier) {
              const brush = altModifier ? this.#altBrush : this.#brush;
              graphics.floodFill(x, y, brush, 1);
          }
      }

      /**
       *
       * @author Patrik Harag
       * @version 2023-04-15
       */
      class PointBrushTool extends Tool {

          /** @type Brush */
          #brush;

          constructor(category, codeName, displayName, brush) {
              super(category, codeName, displayName);
              this.#brush = brush;
          }

          applyPoint(x, y, graphics, aldModifier) {
              graphics.draw(x, y, this.#brush);
          }
      }

      /**
       *
       * @author Patrik Harag
       * @version 2023-08-10
       */
      class MeteorTool extends Tool {

          constructor(category, codeName, displayName) {
              super(category, codeName, displayName);
          }

          applyPoint(x, y, graphics, aldModifier) {
              const diffSlope4 = Math.trunc(y / 4);
              if (x < diffSlope4 + 10) {
                  // right only
                  graphics.draw(x + diffSlope4, 0, Brushes.METEOR_FROM_RIGHT);
                  return;
              }
              if (x > graphics.getWidth() - diffSlope4 - 10) {
                  // left only
                  graphics.draw(x - diffSlope4, 0, Brushes.METEOR_FROM_LEFT);
                  return;
              }

              if (x < graphics.getWidth() / 2) {
                  if (Math.random() < 0.8) {
                      graphics.draw(x + diffSlope4, 0, Brushes.METEOR_FROM_RIGHT);
                  } else {
                      graphics.draw(x, 0, Brushes.METEOR);
                  }
              } else {
                  if (Math.random() < 0.8) {
                      graphics.draw(x - diffSlope4, 0, Brushes.METEOR_FROM_LEFT);
                  } else {
                      graphics.draw(x, 0, Brushes.METEOR);
                  }
              }
          }
      }

      /**
       *
       * @author Patrik Harag
       * @version 2023-05-16
       */
      class InsertSceneTool extends Tool {

          static DEFAULT_W = 30;
          static DEFAULT_H = 30;

          /** @type ElementArea */
          #elementArea;
          /** @type function */
          #onInsertHandler;

          constructor(category, codeName, displayName, scene, onInsertHandler) {
              super(category, codeName, displayName);

              this.#elementArea = scene.createElementArea(
                      InsertSceneTool.DEFAULT_W, InsertSceneTool.DEFAULT_H, ElementArea.TRANSPARENT_ELEMENT);

              this.#onInsertHandler = onInsertHandler;
          }

          applyPoint(x, y, graphics, aldModifier) {
              const elementArea = this.#elementArea;
              const offsetX = x - Math.trunc(elementArea.getWidth() / 2);
              const offsetY = y - Math.trunc(elementArea.getHeight() / 2);

              let brush = Brush.custom((tx, ty) => {
                  const element = elementArea.getElement(tx - offsetX, ty - offsetY);
                  if (element.elementHead !== ElementArea.TRANSPARENT_ELEMENT.elementHead
                          && element.elementTail !== ElementArea.TRANSPARENT_ELEMENT.elementTail) {

                      return element;
                  }
                  return null;
              });
              if (aldModifier) {
                  brush = Brush.gentle(brush);
              }

              for (let i = 0; i < elementArea.getWidth() && offsetX + i < graphics.getWidth(); i++) {
                  const tx = offsetX + i;
                  if (tx < 0) {
                      continue;
                  }

                  for (let j = 0; j < elementArea.getHeight() && offsetY + j < graphics.getHeight(); j++) {
                      const ty = offsetY + j;
                      if (ty < 0) {
                          continue;
                      }

                      graphics.draw(tx, ty, brush);
                  }
              }

              if (this.#onInsertHandler !== undefined) {
                  this.#onInsertHandler();
              }
          }

          createCursor() {
              return new CursorDefinitionElementArea(this.#elementArea);
          }
      }

      /**
       *
       * @author Patrik Harag
       * @version 2023-07-23
       */
      class InsertRandomSceneTool extends Tool {

          /** @type Scene[] */
          #scenes;

          #currentTool;

          /** @type function */
          #onInsertHandler;

          constructor(category, codeName, displayName, scenes, onInsertHandler) {
              super(category, codeName, displayName);
              this.#scenes = scenes;
              this.#onInsertHandler = onInsertHandler;
              this.#initRandomTool();
          }

          #initRandomTool() {
              if (this.#scenes.length === undefined || this.#scenes.length === 0) {
                  throw 'Scenes not set';
              }

              const i = Math.trunc(Math.random() * this.#scenes.length);
              const scene = this.#scenes[i];
              this.#currentTool = new InsertSceneTool(this.getCategory(), this.getCodeName(), this.getDisplayName(),
                      scene, this.#onInsertHandler);
          }

          applyPoint(x, y, graphics, aldModifier) {
              this.#currentTool.applyPoint(x, y, graphics, aldModifier);
              this.#initRandomTool();
          }

          createCursor() {
              return this.#currentTool.createCursor();
          }
      }

      /**
       *
       * @author Patrik Harag
       * @version 2023-04-29
       */
      class ActionTool extends Tool {

          /** @type function */
          #handler;

          constructor(category, codeName, displayName, handler) {
              super(category, codeName, displayName);
              this.#handler = handler;
          }

          applyPoint(x, y, graphics, aldModifier) {
              this.#handler();
          }
      }

      /**
       *
       * @author Patrik Harag
       * @version 2023-08-20
       */
      class Tools {

          static DEFAULT_SIZE = 5;

          static CATEGORY_BRUSH = 'brush';
          static CATEGORY_TEMPLATE = 'template';

          /** @type Tool[] */
          static DEFAULT_TOOLS = [
              Tool.rectangleBrushTool(Tools.CATEGORY_BRUSH, 'air', 'Erase', Brushes.AIR, Tools.DEFAULT_SIZE),
              Tool.rectangleBrushTool(Tools.CATEGORY_BRUSH, 'sand', 'Sand', Brushes.SAND, Tools.DEFAULT_SIZE),
              Tool.rectangleBrushTool(Tools.CATEGORY_BRUSH, 'soil', 'Soil', Brushes.SOIL, Tools.DEFAULT_SIZE),
              Tool.rectangleBrushTool(Tools.CATEGORY_BRUSH, 'gravel', 'Gravel', Brushes.STONE,Tools.DEFAULT_SIZE),
              Tool.rectangleBrushTool(Tools.CATEGORY_BRUSH, 'wall', 'Rock', Brushes.ROCK, Tools.DEFAULT_SIZE),
              Tool.rectangleBrushTool(Tools.CATEGORY_BRUSH, 'water', 'Water', Brushes.WATER, Tools.DEFAULT_SIZE),
              Tool.rectangleBrushTool(Tools.CATEGORY_BRUSH, 'fire', 'Fire', Brush.gentle(Brushes.FIRE), Tools.DEFAULT_SIZE),
              Tool.meteorTool(Tools.CATEGORY_BRUSH, 'meteor', 'Meteor'),
          ];

          /** @type Tool[] */
          static TEST_TOOLS = [
              Tool.rectangleBrushTool(Tools.CATEGORY_BRUSH, 'effect_burnt', 'Burnt', Brushes.EFFECT_BURNT, Tools.DEFAULT_SIZE),
              Tool.rectangleBrushTool(Tools.CATEGORY_BRUSH, 'ash', 'Ash', Brushes.ASH, Tools.DEFAULT_SIZE),
          ];

          static byCodeName(codeName) {
              for (let tool of this.DEFAULT_TOOLS) {
                  if (tool.getCodeName() === codeName) {
                      return tool;
                  }
              }
              return null;
          }
      }

      /**
       *
       * @version 2023-07-23
       * @author Patrik Harag
       */
      class Analytics {

          static EVENT_NAME = 'app_sand_game_js';
          static FEATURE_APP_INITIALIZED = 'initialized';

          // options bar
          static FEATURE_PAUSE = 'pause';
          static FEATURE_DRAW_PRIMARY = 'draw_primary';
          static FEATURE_DRAW_SECONDARY = 'draw_secondary';
          static FEATURE_DRAW_TERTIARY = 'draw_tertiary';
          static FEATURE_DRAW_LINE = 'draw_line';
          static FEATURE_DRAW_RECT = 'draw_rect';
          static FEATURE_DRAW_FLOOD = 'draw_flood';
          static FEATURE_STATUS_DISPLAYED = 'status_displayed';
          static FEATURE_OPTIONS_DISPLAYED = 'options_displayed';
          static FEATURE_RENDERER_PIXELATED = 'renderer_pixelated';
          static FEATURE_RENDERER_SHOW_CHUNKS = 'renderer_show_chunks';
          static FEATURE_RENDERER_SHOW_HEATMAP = 'renderer_show_heatmap';
          static FEATURE_CANVAS_SIZE_CHANGE = 'canvas_size_change';
          static FEATURE_SWITCH_SCENE = 'switch_scene';
          static FEATURE_RESTART_SCENE = 'restart_scene';
          static FEATURE_SWITCH_SCALE = 'switch_scale';
          static FEATURE_IO_EXPORT = 'io_export';
          static FEATURE_IO_IMPORT = 'io_import';
          static FEATURE_IO_IMAGE_TEMPLATE = 'io_image_template';

          static #USED_FEATURES = new Set();


          static triggerToolUsed(tool) {
              const category = tool.getCategory();
              if (category === Tools.CATEGORY_BRUSH) {
                  const feature = 'brush_' + tool.getCodeName();
                  Analytics.triggerFeatureUsed(feature);
              } else if (category === Tools.CATEGORY_TEMPLATE) {
                  Analytics.triggerFeatureUsed('brush_template');
              }
          }

          static triggerFeatureUsed(feature) {
              if (!Analytics.#USED_FEATURES.has(feature)) {
                  // report only the first usage
                  Analytics.#USED_FEATURES.add(feature);
                  Analytics.#report({
                      'app_sand_game_js_feature': feature
                  });
              }
          }

          static #report(properties) {
              if (typeof gtag === 'function') {
                  gtag('event', Analytics.EVENT_NAME, properties);
              }
              // console.log('event: ' + Analytics.EVENT_NAME + ' = ' + JSON.stringify(properties));
          }
      }

      /**
       *
       * @author Patrik Harag
       * @version 2022-09-25
       */
      class Counter {

          #currentValue = 0;
          #lastValue = 0;
          #start = 0;

          tick(currentTimeMillis) {
              this.#currentValue++;
              if (currentTimeMillis - this.#start >= 1000) {
                  this.#lastValue = this.#currentValue;
                  this.#currentValue = 0;
                  this.#start = currentTimeMillis;
              }
          }

          getValue() {
              return this.#lastValue;
          }

          clear() {
              this.#lastValue = 0;
          }
      }

      /**
       *
       * @author Patrik Harag
       * @version 2022-11-04
       */
      class DeterministicRandom {
          /** @type number */
          #last;

          constructor(seed) {
              this.#last = seed;
          }

          next() {
              // Mulberry32
              // https://stackoverflow.com/questions/521295/seeding-the-random-number-generator-in-javascript/47593316#47593316
              let t = this.#last += 0x6D2B79F5;
              t = Math.imul(t ^ t >>> 15, t | 1);
              t ^= t + Math.imul(t ^ t >>> 7, t | 61);
              return ((t ^ t >>> 14) >>> 0) / 4294967296;
          }

          nextInt(max) {
              return Math.trunc(this.next() * max);
          }

          getState() {
              return this.#last;
          }
      }

      /**
       *
       * @author Patrik Harag
       * @version 2023-05-16
       */
      class ProcessorContext {

          static OPT_CYCLES_PER_SECOND = 120;
          static OPT_FRAMES_PER_SECOND = 60;


          /**
           * @returns number
           */
          getIteration() {
              throw 'Not implemented';
          }

          /**
           * @returns Element
           */
          getDefaultElement() {
              throw 'Not implemented';
          }

          trigger(x, y) {
              throw 'Not implemented';
          }
      }

      /**
       *
       * @author Patrik Harag
       * @version 2023-08-19
       */
      class ProcessorModuleFire {

          static #FIRE_MIN_TEMPERATURE = 34;

          static createFireElementHead(temperature) {
              let elementHead = ElementHead.of(ElementHead.TYPE_EFFECT, ElementHead.BEHAVIOUR_FIRE);
              elementHead = ElementHead.setTemperature(elementHead, temperature);
              return elementHead;
          }

          static createFireElementTail(temperature) {
              let elementTail = ElementTail.of(0, 0, 0);

              if (temperature > 213)
                  elementTail = ElementTail.setColor(elementTail, 249, 219, 30);
              else if (temperature > 170)
                  elementTail = ElementTail.setColor(elementTail, 248, 201,  7);
              else if (temperature > 128)
                  elementTail = ElementTail.setColor(elementTail, 250, 150,  3);
              else if (temperature > 85)
                  elementTail = ElementTail.setColor(elementTail, 255, 111,  0);
              else if (temperature > 80)
                  elementTail = ElementTail.setColor(elementTail, 255,  37,  0);
              else if (temperature > 75)
                  elementTail = ElementTail.setColor(elementTail, 250,   4,  5);
              else
                  elementTail = ElementTail.setColor(elementTail, 125,   0,  0);

              return elementTail;
          }

          static #asFlameHeat(flameHeatType) {
              return [0, 165, 220, 255][flameHeatType];  // none .. very hot
          }

          static #asBurnDownChangeTo10000(burnableType) {
              return [0, 2, 100, 1000][burnableType];  // none .. fast
          }

          static #asFlammableChangeTo10000(flammableType) {
              return [0, 100, 4500, 10000][flammableType];  // never .. quickly
          }


          /** @type ElementArea */
          #elementArea;

          /** @type DeterministicRandom */
          #random;

          /** @type Element */
          #defaultElement;

          constructor(elementArea, random, defaultElement) {
              this.#elementArea = elementArea;
              this.#random = random;
              this.#defaultElement = defaultElement;
          }

          // FIRE

          behaviourFire(elementHead, x, y) {
              if (this.#random.nextInt(4) !== 0) {
                  return;  // it would disappear too quickly...
              }

              // count new temperature
              const temperature = ElementHead.getTemperature(elementHead);
              const newTemperature = this.#countNewTemperature(x, y, temperature);
              if (newTemperature < ProcessorModuleFire.#FIRE_MIN_TEMPERATURE) {
                  // the fire will disappear
                  this.#elementArea.setElement(x, y, this.#defaultElement);
                  return;
              }

              // spread or update
              const elementHeadAbove = this.#elementArea.getElementHeadOrNull(x, y - 1);
              if (elementHeadAbove !== null && this.#couldBeReplacedByFire(elementHeadAbove)) {
                  this.#elementArea.setElementHead(x, y - 1, ProcessorModuleFire.createFireElementHead(newTemperature));
                  this.#elementArea.setElementTail(x, y - 1, ProcessorModuleFire.createFireElementTail(newTemperature));
              } else {
                  this.#elementArea.setElementHead(x, y, ElementHead.setTemperature(elementHead, newTemperature));
                  this.#elementArea.setElementTail(x, y, ProcessorModuleFire.createFireElementTail(newTemperature));
              }

              // affect near elements:
              //   # #
              //   #O#
              //    #
              this.#fireEffect(x + 1, y - 1, newTemperature);
              this.#fireEffect(x - 1, y - 1, newTemperature);
              this.#fireEffect(x + 1, y, newTemperature);
              this.#fireEffect(x - 1, y, newTemperature);
              this.#fireEffect(x, y + 1, newTemperature);
          }

          #countNewTemperature(x, y, currentTemperature) {
              let newTemperature = currentTemperature
                      + this.#getTemperatureAt(x, y + 1)          // under
                      + this.#getTemperatureAt(x + 1, y + 1)   // under right
                      + this.#getTemperatureAt(x - 1, y + 1);  // under left

              newTemperature = newTemperature / 4;

              if (newTemperature < 76) {
                  if (this.#random.nextInt(2) === 0) {
                      newTemperature -= this.#random.nextInt(10);
                  }
              } else {
                  if (this.#random.nextInt(2) === 0) {
                      newTemperature -= this.#random.nextInt(50);
                  }
              }
              if (newTemperature < 0) {
                  newTemperature = 0;
              }
              return newTemperature;
          }

          #getTemperatureAt(x, y) {
              const elementHead = this.#elementArea.getElementHeadOrNull(x, y);
              if (elementHead !== null) {
                  return ElementHead.getTemperature(elementHead);
              }
              return null;
          }

          #couldBeReplacedByFire(elementHead) {
              return ElementHead.getTypeClass(elementHead) === ElementHead.TYPE_AIR;
          }

          #fireEffect(x, y, temperature) {
              const elementHead = this.#elementArea.getElementHeadOrNull(x, y);
              if (elementHead == null) {
                  return;
              }

              if (ElementHead.getBehaviour(elementHead) === ElementHead.BEHAVIOUR_FIRE) {
                  // affect fire
                  const otherTemperature = ElementHead.getTemperature(elementHead);
                  if (otherTemperature < temperature) {
                      const newTemperature = Math.trunc((temperature - otherTemperature) / 2);
                      if (newTemperature > ProcessorModuleFire.#FIRE_MIN_TEMPERATURE) {
                          this.#elementArea.setElementHead(x, y, ProcessorModuleFire.createFireElementHead(newTemperature));
                          this.#elementArea.setElementTail(x, y, ProcessorModuleFire.createFireElementTail(newTemperature));
                      }
                  }
                  return;
              }

              // for air elements...
              if (ElementHead.getTypeClass(elementHead) === ElementHead.TYPE_AIR) {
                  // spreading
                  const newTemperature = Math.trunc(temperature * 0.7);
                  if (newTemperature > ProcessorModuleFire.#FIRE_MIN_TEMPERATURE) {
                      this.#elementArea.setElementHead(x, y, ProcessorModuleFire.createFireElementHead(newTemperature));
                      this.#elementArea.setElementTail(x, y, ProcessorModuleFire.createFireElementTail(newTemperature));
                  }
                  return;
              }

              // for flammable elements...
              const flammableType = ElementHead.getFlammableType(elementHead);
              if (flammableType !== ElementHead.FLAME_HEAT_TYPE_NONE) {
                  if (ElementHead.getBehaviour(elementHead) === ElementHead.BEHAVIOUR_FIRE_SOURCE) {
                      // already in fire
                      return;
                  }

                  const random = this.#random.nextInt(10000);
                  if (random < ProcessorModuleFire.#asFlammableChangeTo10000(flammableType)) {
                      // ignite
                      let modifiedElementHead = ElementHead.setBehaviour(elementHead, ElementHead.BEHAVIOUR_FIRE_SOURCE);
                      modifiedElementHead = ElementHead.setTemperature(modifiedElementHead,
                              ProcessorModuleFire.#asFlameHeat(ElementHead.getFlameHeatType(elementHead)));
                      this.#elementArea.setElementHead(x, y, modifiedElementHead);
                      // change visual
                      const elementTail = this.#elementArea.getElementTail(x, y);
                      this.#elementArea.setElementTail(x, y, VisualEffects.visualBurn(elementTail, 2));
                      return;
                  }
              }

              // visual change
              if (VisualEffects.isVisualBurnApplicable(elementHead)) {
                  if (this.#random.nextInt(10) === 0) {
                      const elementTail = this.#elementArea.getElementTail(x, y);
                      this.#elementArea.setElementTail(x, y, VisualEffects.visualBurn(elementTail, 1, 2));
                  }
              }
          }

          // FIRE SOURCE

          behaviourFireSource(elementHead, x, y) {
              const flameHeat = ProcessorModuleFire.#asFlameHeat(ElementHead.getFlameHeatType(elementHead));

              const burnDownChange = ProcessorModuleFire.#asBurnDownChangeTo10000(ElementHead.getBurnableType(elementHead));
              if (this.#random.nextInt(10000) < burnDownChange) {
                  // burned down
                  if (this.#random.nextInt(100) < 8) {
                      // turn into ash
                      let ashElement = Brushes.ASH.apply(x, y, this.#random);
                      this.#elementArea.setElement(x, y, ashElement);
                      // TODO: keep temperature
                  } else {
                      // turn into fire element
                      this.#elementArea.setElementHead(x, y, ProcessorModuleFire.createFireElementHead(flameHeat));
                      this.#elementArea.setElementTail(x, y, ProcessorModuleFire.createFireElementTail(flameHeat));
                  }
                  return;
              }

              // affect others
              const airFound = this.#fireSourceEffect(x, y + 1, flameHeat)
                      | this.#fireSourceEffect(x, y - 1, flameHeat)
                      | this.#fireSourceEffect(x - 1, y, flameHeat)
                      | this.#fireSourceEffect(x + 1, y, flameHeat);

              if (!airFound) {
                  // extinguish
                  this.#elementArea.setElementHead(x, y, ElementHead.setBehaviour(elementHead, ElementHead.BEHAVIOUR_NONE));
                  return;
              }

              if (ElementHead.getTypeClass(elementHead) === ElementHead.TYPE_STATIC) {
                  // occasionally a falling piece...
                  if (this.#random.nextInt(10000) < 2) {
                      const type = ElementHead.type8Powder(ElementHead.TYPE_POWDER, 5, 1, this.#random.nextInt(2));
                      this.#elementArea.setElementHead(x, y, ElementHead.setType(elementHead, type));
                      return;
                  }
              }

              // update temperature
              this.#elementArea.setElementHead(x, y, ElementHead.setTemperature(elementHead, flameHeat));
          }

          #fireSourceEffect(x, y, temperature) {
              const elementHead = this.#elementArea.getElementHeadOrNull(x, y);
              if (elementHead == null) {
                  return false;
              }

              // air => spawn fire
              if (ElementHead.getTypeClass(elementHead) <= ElementHead.TYPE_EFFECT) {
                  // air found
                  const actualTemperature = this.#random.nextInt(temperature);
                  if (actualTemperature < ProcessorModuleFire.#FIRE_MIN_TEMPERATURE) {
                      return true;
                  }

                  this.#elementArea.setElementHead(x, y, ProcessorModuleFire.createFireElementHead(actualTemperature));
                  this.#elementArea.setElementTail(x, y, ProcessorModuleFire.createFireElementTail(actualTemperature));
                  return true;
              }

              // visual change
              if (VisualEffects.isVisualBurnApplicable(elementHead)) {
                  if (this.#random.nextInt(1000) === 0) {
                      const elementTail = this.#elementArea.getElementTail(x, y);
                      this.#elementArea.setElementTail(x, y, VisualEffects.visualBurn(elementTail, 1, 2));
                  }
              }

              return false;
          }
      }

      /**
       *
       * @author Patrik Harag
       * @version 2023-07-23
       */
      class CircleIterator {

          // This may look ugly but it's all I need

          // BLUEPRINT_3 and BLUEPRINT_4 are not needed, but they are used frequently

          static BLUEPRINT_3 = [
              '  333',
              ' 32223',
              '3211123',
              '3210123',
              '3211123',
              ' 32223',
              '  333',
          ];

          static BLUEPRINT_4 = [
              '   444   ',
              '  43334',
              ' 4322234',
              '432111234',
              '432101234',
              '432111234',
              ' 4322234',
              '  43334',
              '   444'
          ];

          static BLUEPRINT_9 = [
              '       99999       ',
              '     998888899',
              '   9988777778899',
              '  998776666677899',
              '  987665555566789',
              ' 98766554445566789',
              ' 98765543334556789',
              '9876554322234556789',
              '9876543211123456789',
              '9876543210123456789',
              '9876543211123456789',
              '9876554322234556789',
              ' 98765543334556789',
              ' 98766554445566789',
              '  987665555566789',
              '  998776666677899',
              '   9988777778899',
              '     998888899',
              '       99999'
          ];

          /**
           *
           * @param blueprint {string[]}
           * @param handler {function(dx: number, dy: number, level: number)}
           */
          static iterate(blueprint, handler) {
              const w = blueprint[0].length;
              const h = blueprint.length;
              const offsetX = Math.trunc(w / 2);
              const offsetY = Math.trunc(h / 2);

              for (let i = 0; i < blueprint.length; i++) {
                  const row = blueprint[i];
                  for (let j = 0; j < row.length; j++) {
                      const char = row.charAt(j);
                      if (char !== ' ') {
                          handler(j - offsetX, i - offsetY, +char);
                      }
                  }
              }
          }
      }

      /**
       *
       * @author Patrik Harag
       * @version 2023-08-10
       */
      class ProcessorModuleMeteor {

          // TODO: radius of heat
          // TODO: leave some burning elements behind...
          // TODO: leave some metal behind...
          // TODO: when water hit?
          // TODO: add randomness to destruction

          static EXPLOSION_HEAT = 200;

          static DIRECTION_FROM_TOP = 0;
          static DIRECTION_FROM_LEFT = 1;
          static DIRECTION_FROM_RIGHT = 2;


          /** @type ElementArea */
          #elementArea;

          /** @type DeterministicRandom */
          #random;

          /** @type Element */
          #defaultElement;

          constructor(elementArea, random, defaultElement) {
              this.#elementArea = elementArea;
              this.#random = random;
              this.#defaultElement = defaultElement;
          }

          behaviourMeteor(elementHead, x, y) {
              this.#spawnFire(elementHead, x, y);

              const special = ElementHead.getSpecial(elementHead);
              const move = special & 0x1;
              let newSpecial = special ^ (!move);
              elementHead = ElementHead.setSpecial(elementHead, newSpecial);
              this.#elementArea.setElementHead(x, y, elementHead);
              if (!move) {
                  return;  // move only once per simulation iteration
              }

              // resolve direction
              const slope = 4;
              const direction = (special & (~0x1)) >> 1;
              let tx, ty;
              if (direction === ProcessorModuleMeteor.DIRECTION_FROM_TOP) {
                  ty = y + 1;
                  tx = x;
              } else if (direction === ProcessorModuleMeteor.DIRECTION_FROM_LEFT) {
                  ty = y + 1;
                  tx = x + (ty % slope === 0 ? 1 : 0);
              } else if (direction === ProcessorModuleMeteor.DIRECTION_FROM_RIGHT) {
                  ty = y + 1;
                  tx = x - (ty % slope === 0 ? 1 : 0);
              } else {
                  // unknown direction
                  ty = y + 1;
                  tx = x;
              }

              if (this.#elementArea.isValidPosition(tx, ty)) {
                  let targetElementHead = this.#elementArea.getElementHead(tx, ty);
                  if (ElementHead.getTypeClass(targetElementHead) <= ElementHead.TYPE_EFFECT) {
                      // move
                      this.#elementArea.swap(x, y, tx, ty);
                  } else {
                     this.#explode(elementHead, x, y);
                  }
              } else {
                  this.#explode(elementHead, x, y);
              }
          }

          #spawnFire(elementHead, x, y) {
              CircleIterator.iterate(CircleIterator.BLUEPRINT_4, (dx, dy, level) => {
                  if (level === 0) {
                      return;  // ignore center
                  }

                  const tx = x + dx;
                  const ty = y + dy;
                  if (this.#elementArea.isValidPosition(tx, ty)) {
                      let targetElementHead = this.#elementArea.getElementHead(tx, ty);
                      if (ElementHead.getTypeClass(targetElementHead) <= ElementHead.TYPE_EFFECT) {
                          this.#elementArea.setElement(tx, ty, Brushes.FIRE.apply(tx, ty, this.#random));
                      }
                  }
              });
          }

          #explode(elementHead, x, y) {
              CircleIterator.iterate(CircleIterator.BLUEPRINT_9, (dx, dy, level) => {
                  const tx = x + dx;
                  const ty = y + dy;
                  if (this.#elementArea.isValidPosition(tx, ty)) {
                      let targetElementHead = this.#elementArea.getElementHead(tx, ty);
                      if (level !== 0 && ElementHead.getBehaviour(targetElementHead) === ElementHead.BEHAVIOUR_METEOR) {
                          // do not destroy other meteors
                          return;
                      }

                      if (level <= 7) {
                          // destroy elements & spawn fire
                          this.#elementArea.setElement(tx, ty, Brushes.FIRE.apply(tx, ty, this.#random));
                      } else {
                          // set temperature, apply visual changes, break solid elements

                          // TODO
                          // targetElementHead = ElementHead.setTemperature(targetElementHead, ProcessorModuleMeteor.EXPLOSION_HEAT);

                          // visual burnt effect (color)
                          if (VisualEffects.isVisualBurnApplicable(targetElementHead)) {
                              let targetElementTail = this.#elementArea.getElementTail(tx, ty);
                              if (level === 8) {
                                  targetElementTail = VisualEffects.visualBurn(targetElementTail, 2);
                              } else {
                                  targetElementTail = VisualEffects.visualBurn(targetElementTail, 1);
                              }
                              this.#elementArea.setElementTail(tx, ty, targetElementTail);
                          }

                          // turn some solid elements into fragments
                          if (ElementHead.getTypeClass(targetElementHead) === ElementHead.TYPE_STATIC) {
                              if (level === 8 || (level === 9 && this.#random.nextInt(10) < 3)) {
                                  const type = ElementHead.type8Powder(ElementHead.TYPE_POWDER, 5);
                                  targetElementHead = ElementHead.setType(targetElementHead, type);
                              }
                          }

                          this.#elementArea.setElementHead(tx, ty, targetElementHead);
                      }
                  }
              });
          }
      }

      /**
       *
       * @author Patrik Harag
       * @version 2023-02-25
       */
      class ProcessorModuleGrass {

          static canGrowUpHere(elementArea, x, y) {
              if (x < 0 || y - 1 < 0) {
                  return false;
              }
              if (x >= elementArea.getWidth() || y + 1 >= elementArea.getHeight()) {
                  return false;
              }
              let e1 = elementArea.getElementHead(x, y);
              if (ElementHead.getTypeClass(e1) !== ElementHead.TYPE_AIR) {
                  return false;
              }
              let e2 = elementArea.getElementHead(x, y + 1);
              if (ElementHead.getBehaviour(e2) !== ElementHead.BEHAVIOUR_SOIL) {
                  return false;
              }
              let e3 = elementArea.getElementHead(x, y - 1);
              if (ElementHead.getTypeClass(e3) !== ElementHead.TYPE_AIR) {
                  return false;
              }
              return true;
          }

          static spawnHere(elementArea, x, y, brush, random) {
              let element = brush.apply(x, y, random);
              let offset = 0;
              for (let i = ElementHead.getSpecial(element.elementHead); i >= 0; i--) {
                  if (y - offset < 0) {
                      break;
                  }
                  elementArea.setElementHead(x, y - offset, ElementHead.setSpecial(element.elementHead, i));
                  elementArea.setElementTail(x, y - offset, element.elementTail);
                  offset++;
              }
          }


          /** @type ElementArea */
          #elementArea;

          /** @type DeterministicRandom */
          #random;

          /** @type Element */
          #defaultElement;

          constructor(elementArea, random, defaultElement) {
              this.#elementArea = elementArea;
              this.#random = random;
              this.#defaultElement = defaultElement;
          }

          behaviourGrass(elementHead, x, y) {
              let random = this.#random.nextInt(100);
              if (random < 3) {
                  // check above
                  if (y > 0) {
                      let above1 = this.#elementArea.getElementHead(x, y - 1);
                      if (ElementHead.getBehaviour(above1) !== ElementHead.BEHAVIOUR_GRASS) {
                          let typeAbove1 = ElementHead.getTypeClass(above1);
                          if (typeAbove1 > ElementHead.TYPE_FLUID
                                  || (typeAbove1 === ElementHead.TYPE_FLUID && this.#random.nextInt(100) === 0)) {
                              // note: it takes longer for water to suffocate the grass
                              // remove grass
                              this.#elementArea.setElement(x, y, this.#defaultElement);
                              return;
                          }
                      }
                  }

                  if (random === 0) {
                      // grow up
                      let growIndex = ElementHead.getSpecial(elementHead);
                      if (growIndex === 0) {
                          // maximum height
                          if (this.#random.nextInt(5) === 0) {
                              // remove top element to create some movement
                              this.#elementArea.setElement(x, y, this.#defaultElement);
                          }
                          return;
                      }
                      if (y === 0) {
                          return;
                      }
                      let above1 = this.#elementArea.getElementHead(x, y - 1);
                      if (ElementHead.getTypeClass(above1) !== ElementHead.TYPE_AIR) {
                          return;
                      }
                      if (y > 1) {
                          let above2 = this.#elementArea.getElementHead(x, y - 2);
                          if (ElementHead.getTypeClass(above2) !== ElementHead.TYPE_AIR) {
                              return;
                          }
                      }
                      this.#elementArea.setElementHead(x, y - 1, ElementHead.setSpecial(elementHead, growIndex - 1));
                      this.#elementArea.setElementTail(x, y - 1, this.#elementArea.getElementTail(x, y));
                  } else if (random === 1) {
                      // grow right
                      if (ProcessorModuleGrass.canGrowUpHere(this.#elementArea, x + 1, y + 1)) {
                          this.#elementArea.setElement(x + 1, y + 1, Brushes.GRASS.apply(x, y, this.#random));
                      }
                  } else if (random === 2) {
                      // grow left
                      if (ProcessorModuleGrass.canGrowUpHere(this.#elementArea, x - 1, y + 1)) {
                          this.#elementArea.setElement(x - 1, y + 1, Brushes.GRASS.apply(x, y, this.#random));
                      }
                  }
              }
          }
      }

      /**
       *
       * @author Patrik Harag
       * @version 2023-02-24
       */
      class ProcessorModuleFish {

          /** @type ElementArea */
          #elementArea;

          /** @type DeterministicRandom */
          #random;

          /** @type Element */
          #defaultElement;

          constructor(elementArea, random, defaultElement) {
              this.#elementArea = elementArea;
              this.#random = random;
              this.#defaultElement = defaultElement;
          }

          behaviourFish(elementHead, x, y) {
              // check has body
              if (x === this.#elementArea.getWidth() - 1
                  || ElementHead.getBehaviour(this.#elementArea.getElementHead(x + 1, y)) !== ElementHead.BEHAVIOUR_FISH_BODY) {
                  // => turn into corpse
                  this.#elementArea.setElement(x, y, Brushes.FISH_CORPSE.apply(x, y, this.#random));
              }

              // move down if flying
              if (y < this.#elementArea.getHeight() - 1) {
                  if (ElementHead.getTypeClass(this.#elementArea.getElementHead(x, y + 1)) < ElementHead.TYPE_POWDER_FLOATING
                          && ElementHead.getTypeClass(this.#elementArea.getElementHead(x + 1, y + 1)) < ElementHead.TYPE_POWDER_FLOATING) {
                      this.#elementArea.swap(x, y, x, y + 1);
                      this.#elementArea.swap(x + 1, y, x + 1, y + 1);
                      return;
                  }
              }

              // once a while check if there is a water
              // once a while move

              const action = this.#random.nextInt(ProcessorContext.OPT_CYCLES_PER_SECOND);
              if (action === 0) {
                  let w = 0;
                  w += this.#isWaterEnvironment(x - 1, y) ? 1 : 0;
                  w += this.#isWaterEnvironment(x + 2, y) ? 1 : 0;
                  w += this.#isWaterEnvironment(x, y + 1) ? 1 : 0;
                  w += this.#isWaterEnvironment(x, y - 1) ? 1 : 0;
                  if (w < 4) {
                      w += this.#isWaterEnvironment(x + 1, y + 1) ? 1 : 0;
                      w += this.#isWaterEnvironment(x + 1, y - 1) ? 1 : 0;
                  }

                  let dried = ElementHead.getSpecial(elementHead);
                  if (w >= 4) {
                      // enough water
                      if (dried > 0) {
                          // reset counter
                          this.#elementArea.setElementHead(x, y, ElementHead.setSpecial(elementHead, 0));
                      }
                  } else {
                      // not enough water
                      dried++;
                      if (dried > 5) {
                          // turn into corpse
                          this.#elementArea.setElement(x, y, Brushes.FISH_CORPSE.apply(x, y, this.#random));
                      } else {
                          this.#elementArea.setElementHead(x, y, ElementHead.setSpecial(elementHead, dried));
                      }
                  }
              } else if (action < ProcessorContext.OPT_CYCLES_PER_SECOND / 10) {
                  const rx = this.#random.nextInt(3) - 1;
                  const ry = this.#random.nextInt(3) - 1;
                  if (rx === 0 && ry === 0) {
                      return;
                  }
                  // move fish and it's body
                  if (this.#isWater(rx + x, ry + y) && this.#isWater(rx + x + 1, ry + y)) {
                      this.#elementArea.swap(x, y, rx + x, ry + y);
                      this.#elementArea.swap(x + 1, y, rx + x + 1, ry + y);
                  }
              }
          }

          behaviourFishBody(elementHead, x, y) {
              if (x === 0 || ElementHead.getBehaviour(this.#elementArea.getElementHead(x - 1, y)) !== ElementHead.BEHAVIOUR_FISH) {
                  // the fish lost it's head :(
                  // => turn into corpse
                  this.#elementArea.setElement(x, y, Brushes.FISH_CORPSE.apply(x, y, this.#random));
              }
          }

          #isWater(x, y) {
              if (!this.#elementArea.isValidPosition(x, y)) {
                  return false;
              }
              let targetElementHead = this.#elementArea.getElementHead(x, y);
              if (ElementHead.getTypeClass(targetElementHead) !== ElementHead.TYPE_FLUID) {
                  return false;
              }
              return true;
          }

          #isWaterEnvironment(x, y) {
              if (!this.#elementArea.isValidPosition(x, y)) {
                  return false;
              }
              let targetElementHead = this.#elementArea.getElementHead(x, y);
              if (ElementHead.getTypeClass(targetElementHead) === ElementHead.TYPE_FLUID) {
                  return true;
              }
              let behaviour = ElementHead.getBehaviour(targetElementHead);
              if (behaviour === ElementHead.BEHAVIOUR_FISH || behaviour === ElementHead.BEHAVIOUR_FISH_BODY) {
                  return true;
              }
              return false;
          }
      }

      /**
       *
       * @author Patrik Harag
       * @version 2023-02-25
       */
      class ProcessorModuleTree {

          static spawnHere(elementArea, x, y, type, brush, random, processorContext) {
              type = type % (1 << ElementHead.FIELD_SPECIAL_SIZE);

              const element = brush.apply(x, y, random);
              element.elementHead = ElementHead.setSpecial(element.elementHead, type);  // override tree type
              elementArea.setElement(x, y, element);

              // tree fast grow
              const template = TreeTemplates.getTemplate(type);
              const treeModule = new ProcessorModuleTree(elementArea, random, processorContext);
              treeModule.#treeGrow(element.elementHead, x, y, template, true);

              // roots fast grow
              for (let i = 1; i < 10; i++) {
                  for (let j = 0; j < 9; j++) {
                      const tx = x + j - 4;
                      const ty = y + i;

                      if (!elementArea.isValidPosition(tx, ty)) {
                          continue;
                      }
                      const targetElement = elementArea.getElementHead(tx, ty);
                      if (ElementHead.getBehaviour(targetElement) !== ElementHead.BEHAVIOUR_TREE_ROOT) {
                          continue;
                      }
                      const growIndex = ElementHead.getSpecial(targetElement);
                      if (growIndex === 0) {
                          continue;
                      }

                      const direction = random.nextInt(10);
                      treeModule.#treeRootGrow(tx, ty, targetElement, growIndex, direction);
                  }
              }
          }


          /** @type ElementArea */
          #elementArea;

          /** @type DeterministicRandom */
          #random;

          /** @type ProcessorContext */
          #processorContext;

          constructor(elementArea, random, processorContext) {
              this.#elementArea = elementArea;
              this.#random = random;
              this.#processorContext = processorContext;
          }

          behaviourTree(elementHead, x, y) {
              const random = this.#random.nextInt(ProcessorContext.OPT_CYCLES_PER_SECOND);
              if (random === 0) {
                  const template = TreeTemplates.getTemplate(ElementHead.getSpecial(elementHead));
                  const level = this.#treeGrow(elementHead, x, y, template, false);
                  this.#treeCheckStatus(x, y, level, template);
              }
          }

          #treeGrow(elementHead, x, y, template, fullGrow) {
              let level = 0;
              let stack = [];
              for (let child of template.root.children) {
                  stack.push(child);
              }

              while (stack.length > 0) {
                  let node = stack.pop();

                  let nx = x + node.x;
                  let ny = y + node.y;
                  if (this.#elementArea.isValidPosition(nx, ny)) {
                      let isHereAlready = false;
                      let canGrowHere = false;

                      const currentElementHead = this.#elementArea.getElementHead(nx, ny);
                      const currentElementBehaviour = ElementHead.getBehaviour(currentElementHead);

                      switch (node.type) {
                          case TreeTemplateNode.TYPE_TRUNK:
                          case TreeTemplateNode.TYPE_ROOT:
                              if (currentElementBehaviour === ElementHead.BEHAVIOUR_TREE_TRUNK) {
                                  isHereAlready = true;
                              } else if (currentElementBehaviour === ElementHead.BEHAVIOUR_TREE_LEAF) {
                                  canGrowHere = true;
                              } else if (ElementHead.getTypeClass(currentElementHead) === ElementHead.TYPE_AIR) {
                                  canGrowHere = true;
                              } else if (currentElementBehaviour === ElementHead.BEHAVIOUR_SOIL) {
                                  canGrowHere = true;
                              } else if (currentElementBehaviour === ElementHead.BEHAVIOUR_GRASS) {
                                  canGrowHere = true;
                              } else if (node.y > Math.min(-4, -7 + Math.abs(node.x))) {
                                  // roots & bottom trunk only...
                                  if (ElementHead.getTypeClass(currentElementHead) !== ElementHead.TYPE_STATIC) {
                                      canGrowHere = true;
                                  }
                              }
                              break;
                          case TreeTemplateNode.TYPE_LEAF:
                              if (currentElementBehaviour === ElementHead.BEHAVIOUR_TREE_LEAF) {
                                  isHereAlready = true;
                                  // update leaf vitality (if not dead already)
                                  if (ElementHead.getSpecial(currentElementHead) < 15) {
                                      this.#elementArea.setElementHead(nx, ny, ElementHead.setSpecial(currentElementHead, 0));
                                  }
                              } else if (currentElementBehaviour === ElementHead.BEHAVIOUR_TREE_TRUNK) {
                                  isHereAlready = true;
                              } else if (ElementHead.getTypeClass(currentElementHead) === ElementHead.TYPE_AIR) {
                                  canGrowHere = true;
                              }
                              break;
                          default:
                              throw 'Unknown type: ' + node.type;
                      }

                      if (canGrowHere || isHereAlready) {
                          level++;
                      }

                      if (canGrowHere) {
                          this.#elementArea.setElement(nx, ny, node.brush.apply(nx, ny, this.#random));
                          this.#processorContext.trigger(nx, ny);
                      }

                      if (fullGrow || isHereAlready) {
                          for (let child of node.children) {
                              stack.push(child);
                          }
                      }
                  }
              }
              return level;
          }

          #treeCheckStatus(x, y, level, template) {
              // check tree status
              // - last tree status is carried by tree trunk above
              if (y > 0) {
                  let carrierElementHead = this.#elementArea.getElementHead(x, y - 1);
                  if (ElementHead.getBehaviour(carrierElementHead) === ElementHead.BEHAVIOUR_TREE_TRUNK) {
                      const maxStage = 15;
                      let lastStage = ElementHead.getSpecial(carrierElementHead);
                      let currentStage = Math.trunc(level / template.nodes * maxStage);
                      if (lastStage - currentStage > 5) {
                          // too big damage taken => kill tree
                          this.#elementArea.setElementHead(x, y - 1, ElementHead.setSpecial(carrierElementHead, 0));
                          this.#elementArea.setElement(x, y, Brushes.TREE_WOOD.apply(x, y, this.#random));
                      } else {
                          // update stage
                          this.#elementArea.setElementHead(x, y - 1, ElementHead.setSpecial(carrierElementHead, currentStage));
                      }
                  }
              }
          }

          behaviourTreeRoot(elementHead, x, y) {
              let growIndex = ElementHead.getSpecial(elementHead);
              if (growIndex === 0) {
                  // maximum size
                  if (this.#processorContext.getIteration() % 1000 === 0) {
                      this.#treeRootHardenSurroundingElements(x, y);
                  }
                  return;
              }

              let random = this.#random.nextInt(ProcessorContext.OPT_CYCLES_PER_SECOND * 10);
              if (random < 10) {
                  this.#treeRootGrow(x, y, elementHead, growIndex, random);
              }
          }

          #treeRootHardenSurroundingElements(x, y) {
              const targetX = x + this.#random.nextInt(3) - 1;
              const targetY = y + this.#random.nextInt(3) - 1;

              if (this.#elementArea.isValidPosition(targetX, targetY)) {
                  let targetElementHead = this.#elementArea.getElementHead(targetX, targetY);
                  let type = ElementHead.getTypeClass(targetElementHead);
                  if (type === ElementHead.TYPE_POWDER || type === ElementHead.TYPE_POWDER_WET || type === ElementHead.TYPE_POWDER_FLOATING) {
                      let modifiedElementHead = ElementHead.setType(targetElementHead, ElementHead.TYPE_STATIC);
                      this.#elementArea.setElementHead(targetX, targetY, modifiedElementHead);
                  }
              }
          }

          #treeRootGrow(x, y, elementHead, growIndex, direction) {
              let doGrow = (nx, ny) => {
                  this.#elementArea.setElementHead(x, y, ElementHead.setSpecial(elementHead, 0));

                  let element = Brushes.TREE_ROOT.apply(nx, ny, this.#random);
                  let modifiedHead = ElementHead.setSpecial(element.elementHead, growIndex - 1);
                  this.#elementArea.setElementHead(nx, ny, modifiedHead);
                  this.#elementArea.setElementTail(nx, ny, element.elementTail);
              };

              // grow down first if there is a free space
              if (y < this.#elementArea.getHeight() - 1) {
                  let targetElementHead = this.#elementArea.getElementHead(x, y + 1);
                  if (ElementHead.getTypeClass(targetElementHead) === ElementHead.TYPE_AIR) {
                      doGrow(x, y + 1);
                      return;
                  }
              }

              // grow in random way
              let nx = x;
              let ny = y;
              if (direction === 9 || direction === 8 || direction === 7) {
                  nx += 1;
                  ny += 1;
              } else if (direction === 6 || direction === 5 || direction === 4) {
                  nx += -1;
                  ny += 1;
              } else {
                  ny += 1;
              }

              if (this.#elementArea.isValidPosition(nx, ny)) {
                  let targetElementHead = this.#elementArea.getElementHead(nx, ny);
                  if (ElementHead.getTypeClass(targetElementHead) !== ElementHead.TYPE_STATIC) {
                      doGrow(nx, ny);
                  }
              }
          }

          behaviourTreeLeaf(elementHead, x, y) {
              // decrement vitality (if not dead already)
              let vitality = ElementHead.getSpecial(elementHead);
              if (vitality < 15) {
                  if (this.#processorContext.getIteration() % 32 === 0) {
                      if (this.#random.nextInt(10) === 0) {
                          vitality++;
                          if (vitality >= 15) {
                              this.#elementArea.setElement(x, y, Brushes.TREE_LEAF_DEAD.apply(x, y, this.#random));
                              return;
                          } else {
                              elementHead = ElementHead.setSpecial(elementHead, vitality);
                              this.#elementArea.setElementHead(x, y, elementHead);
                          }
                      }
                  }
              }

              // approx one times per 5 seconds... check if it's not buried or levitating
              if (this.#processorContext.getIteration() % ProcessorContext.OPT_CYCLES_PER_SECOND === 0) {
                  const random = this.#random.nextInt(5);

                  if (random === 0) {
                      // - check if it's not buried

                      const directions = [[0, -1], [-1, -1], [1, -1], [-1, 0], [1, 0]];
                      const randomDirection = directions[this.#random.nextInt(directions.length)];
                      const targetX = x + randomDirection[0];
                      const targetY = y + randomDirection[1];

                      if (this.#elementArea.isValidPosition(targetX, targetY)) {
                          const elementHeadAbove = this.#elementArea.getElementHead(targetX, targetY);
                          if (ElementHead.getTypeClass(elementHeadAbove) !== ElementHead.TYPE_STATIC
                                  && ElementHead.getTypeClass(elementHeadAbove) >= ElementHead.TYPE_FLUID) {
                              this.#elementArea.setElement(x, y, this.#processorContext.getDefaultElement());
                          }
                      }
                  }
              }
          }
      }

      /**
       *
       * @author Patrik Harag
       * @version 2023-05-04
       */
      class TreeTemplates {
          static TEMPLATES = [];

          /**
           *
           * @param id {number} template id
           * @returns {TreeTemplate} template
           */
          static getTemplate(id) {
              let template = TreeTemplates.TEMPLATES[id];
              if (!template) {
                  let root = TreeTemplates.#generate(id);
                  let count = TreeTemplates.#countNodes(root);
                  template = new TreeTemplate(root, count);
                  TreeTemplates.TEMPLATES[id] = template;
              }
              return template;
          }

          static #generate(id) {
              let random = new DeterministicRandom(id);
              let root = new TreeTemplateNode(0, 0, TreeTemplateNode.TYPE_TRUNK, Brushes.TREE_WOOD);
              root.children.push(new TreeTemplateNode(0, 1, TreeTemplateNode.TYPE_ROOT, Brushes.TREE_ROOT));

              let size = [20, 37, 35, 42][(id & 0b1100) >> 2];
              let firstSplit = ((id & 0b0010) !== 0) ? 1 : -1;
              let firstIncrement = ((id & 0b0001) !== 0) ? 1 : -1;

              let splits = [15, 19, 22, 25, 29, 32, 35];
              if (size < 25) {
                  splits.unshift(12);  // small trees
              }
              let splitDirection = firstSplit;

              let incrementWidth = [12, 20, 28, 32];
              let incrementX = [1, -1, 2, -2, 3, -3].map(v => v * firstIncrement);
              let incrementNext = 0;

              let centerTrunkNodes = [root];

              for (let i = 1; i <= size; i++) {
                  const remainingSize = size - i;

                  // increment trunk size
                  if (incrementWidth.includes(i)) {
                      let nx = incrementX[incrementNext++];
                      let node = new TreeTemplateNode(nx, 0, TreeTemplateNode.TYPE_TRUNK, Brushes.TREE_WOOD);
                      node.children.push(new TreeTemplateNode(nx, 1, TreeTemplateNode.TYPE_ROOT, Brushes.TREE_ROOT));

                      centerTrunkNodes[0].children.push(node);
                      centerTrunkNodes.push(node);
                  }

                  // add split
                  if (splits.includes(i)) {
                      let branchLength = 12;
                      if (remainingSize < 10) {
                          branchLength = 8;
                      }
                      if (remainingSize < 6) {
                          branchLength = 5;
                      }

                      let branchRoot = this.#generateBranch(branchLength, splitDirection, i, remainingSize, random);
                      centerTrunkNodes[0].children.push(branchRoot);

                      splitDirection = splitDirection * -1;
                  }

                  // add next trunk level
                  for (let j = 0; j < centerTrunkNodes.length; j++) {
                      let last = centerTrunkNodes[j];

                      let node = (j !== 0 || remainingSize > 3)
                          ? new TreeTemplateNode(last.x, last.y - 1, TreeTemplateNode.TYPE_TRUNK, Brushes.TREE_WOOD)
                          : new TreeTemplateNode(last.x, last.y - 1, TreeTemplateNode.TYPE_LEAF, Brushes.TREE_LEAF_DARKER);

                      last.children.push(node);
                      centerTrunkNodes[j] = node;
                  }

                  // add trunk leaves
                  if (i > 20) {
                      let brush = (remainingSize > 3) ? Brushes.TREE_LEAF_DARKER : Brushes.TREE_LEAF_LIGHTER;

                      let leafR = new TreeTemplateNode(1, -i, TreeTemplateNode.TYPE_LEAF, brush);
                      centerTrunkNodes[0].children.push(leafR);
                      let leafL = new TreeTemplateNode(-1, -i, TreeTemplateNode.TYPE_LEAF, brush);
                      centerTrunkNodes[0].children.push(leafL);

                      if (remainingSize > 1) {
                          leafR.children.push(new TreeTemplateNode(2, -i, TreeTemplateNode.TYPE_LEAF, Brushes.TREE_LEAF_LIGHTER));
                          leafL.children.push(new TreeTemplateNode(-2, -i, TreeTemplateNode.TYPE_LEAF, Brushes.TREE_LEAF_LIGHTER));
                      }
                  }
              }
              return root;
          }

          static #generateBranch(branchLength, splitDirection, i, remainingSize, random) {
              let shift = 0;
              let branchRoot = null;
              let branchLast = null;

              for (let j = 1; j <= branchLength; j++) {
                  const remainingBranchSize = branchLength - j;

                  if (j > 3 && random.next() < 0.2) {
                      shift++;
                  }
                  let nx = splitDirection * j;
                  let ny = -i - shift;

                  let next = (remainingSize > 3 && remainingBranchSize > 1)
                      ? new TreeTemplateNode(nx, ny, TreeTemplateNode.TYPE_TRUNK, Brushes.TREE_WOOD)
                      : new TreeTemplateNode(nx, ny, TreeTemplateNode.TYPE_LEAF, Brushes.TREE_LEAF_LIGHTER);

                  if (branchRoot === null) {
                      branchRoot = next;
                  }

                  if (branchLast !== null) {
                      branchLast.children.push(next);
                  }
                  branchLast = next;

                  // generate branch leaves

                  let leafAbove = new TreeTemplateNode(nx, ny - 1, TreeTemplateNode.TYPE_LEAF, Brushes.TREE_LEAF_LIGHTER);
                  let leafBelow = new TreeTemplateNode(nx, ny + 1, TreeTemplateNode.TYPE_LEAF,
                      (remainingBranchSize > 3) ? Brushes.TREE_LEAF_DARKER : Brushes.TREE_LEAF_LIGHTER);

                  if (remainingBranchSize > 3) {
                      leafAbove.children.push(new TreeTemplateNode(nx, ny - 2, TreeTemplateNode.TYPE_LEAF, Brushes.TREE_LEAF_LIGHTER));
                      leafBelow.children.push(new TreeTemplateNode(nx, ny + 2, TreeTemplateNode.TYPE_LEAF, Brushes.TREE_LEAF_LIGHTER));
                  }

                  next.children.push(leafAbove);
                  next.children.push(leafBelow);
              }
              return branchRoot;
          }

          static #countNodes(root) {
              let count = 0;

              let stack = [root];
              while (stack.length > 0) {
                  let node = stack.pop();
                  count++;
                  for (let child of node.children) {
                      stack.push(child);
                  }
              }
              return count;
          }
      }

      /**
       *
       * @author Patrik Harag
       * @version 2022-10-01
       */
      class TreeTemplate {

          /** @type TreeTemplateNode */
          root;

          /** @type number */
          nodes;

          constructor(root, nodes) {
              this.root = root;
              this.nodes = nodes;
          }
      }

      /**
       *
       * @author Patrik Harag
       * @version 2022-09-29
       */
      class TreeTemplateNode {
          static TYPE_TRUNK = 1;
          static TYPE_LEAF = 2;
          static TYPE_ROOT = 3;


          /** @type number */
          x;

          /** @type number */
          y;

          /** @type number */
          type;

          /** @type Brush */
          brush;

          /** @type TreeTemplateNode[] */
          children = [];

          constructor(x, y, type, brush) {
              this.x = x;
              this.y = y;
              this.type = type;
              this.brush = brush;
          }
      }

      /**
       *
       * @author Patrik Harag
       * @version 2023-08-19
       */
      class Processor extends ProcessorContext {

          /** @type ElementArea */
          #elementArea;

          /** @type number */
          #width;
          /** @type number */
          #height;

          /** @type number */
          #chunkSize;
          /** @type number */
          #horChunkCount;
          /** @type number */
          #verChunkCount;

          /** @type boolean[] */
          #activeChunks
          /** @type boolean[] */
          #changedChunks
          /** @type number[] */
          #chunkLastFullTest;

          /** @type number */
          #iteration = 0;

          /** @type DeterministicRandom */
          #random;

          /** @type boolean */
          #fallThroughEnabled = false;
          /** @type boolean */
          #erasingEnabled = false;

          /** @type Element */
          #defaultElement;

          static RANDOM_DATA_COUNT = 32;

          /** @type Uint32Array[] */
          #rndChunkOrder = [];
          /** @type Uint32Array[] */
          #rndChunkXRnd = [];
          /** @type Uint32Array[] */
          #rndChunkXOrder = [];

          /** @type ProcessorModuleFire */
          #moduleFire;
          /** @type ProcessorModuleMeteor */
          #moduleMeteor;
          /** @type ProcessorModuleGrass */
          #moduleGrass;
          /** @type ProcessorModuleFish */
          #moduleFish;
          /** @type ProcessorModuleTree */
          #moduleTree;

          constructor(elementArea, chunkSize, random, defaultElement, sceneMetadata) {
              super();
              this.#elementArea = elementArea;
              this.#width = elementArea.getWidth();
              this.#height = elementArea.getHeight();

              this.#chunkSize = chunkSize;
              if (this.#chunkSize > 255) {
                  throw 'Chunk size limit: 255';
              }
              this.#horChunkCount = Math.ceil(this.#width / this.#chunkSize);
              this.#verChunkCount = Math.ceil(this.#height / this.#chunkSize);
              this.#activeChunks = new Array(this.#horChunkCount * this.#verChunkCount).fill(true);
              this.#changedChunks = new Array(this.#horChunkCount * this.#verChunkCount).fill(true);
              this.#chunkLastFullTest = new Array(this.#horChunkCount * this.#verChunkCount).fill(-1);

              let rndDataRandom = new DeterministicRandom(0);
              this.#rndChunkOrder = Processor.#generateArrayOfOrderData(
                  Processor.RANDOM_DATA_COUNT, this.#horChunkCount, rndDataRandom);
              this.#rndChunkXRnd = Processor.#generateArrayOfRandomData(
                  Processor.RANDOM_DATA_COUNT, this.#chunkSize, this.#chunkSize, rndDataRandom);
              this.#rndChunkXOrder = Processor.#generateArrayOfOrderData(
                  Processor.RANDOM_DATA_COUNT, this.#chunkSize, rndDataRandom);

              this.#random = random;
              this.#defaultElement = defaultElement;

              this.#moduleFire = new ProcessorModuleFire(elementArea, random, defaultElement);
              this.#moduleMeteor = new ProcessorModuleMeteor(elementArea, random, defaultElement);
              this.#moduleGrass = new ProcessorModuleGrass(elementArea, random, defaultElement);
              this.#moduleFish = new ProcessorModuleFish(elementArea, random, defaultElement);
              this.#moduleTree = new ProcessorModuleTree(elementArea, random, this);

              if (sceneMetadata) {
                  this.#iteration = sceneMetadata.iteration;
                  this.#fallThroughEnabled = sceneMetadata.fallThroughEnabled;
                  this.#erasingEnabled = sceneMetadata.erasingEnabled;
              }
          }

          static #shuffle(array, iterations, random) {
              for (let i = 0; i < iterations; i++) {
                  let a = random.nextInt(array.length);
                  let b = random.nextInt(array.length);
                  [array[a], array[b]] = [array[b], array[a]];
              }
          }

          static #generateArrayOfOrderData(arrayLength, count, random) {
              let data = Processor.#generateOrderData(count);
              Processor.#shuffle(data, arrayLength, random);

              let array = Array(arrayLength);
              for (let i = 0; i < arrayLength; i++) {
                  Processor.#shuffle(data, Math.ceil(arrayLength / 4), random);
                  array[i] = new Uint8Array(data);
              }
              return array;
          }

          static #generateOrderData(count) {
              let array = new Uint8Array(count);
              for (let i = 0; i < count; i++) {
                  array[i] = i;
              }
              return array;
          }

          static #generateArrayOfRandomData(arrayLength, count, max, random) {
              let array = Array(arrayLength);
              for (let i = 0; i < arrayLength; i++) {
                  array[i] = Processor.#generateRandomData(count, max, random);
              }
              return array;
          }

          static #generateRandomData(count, max, random) {
              let array = new Uint8Array(count);
              for (let i = 0; i < count; i++) {
                  array[i] = random.nextInt(max);
              }
              return array;
          }

          getIteration() {
              return this.#iteration;
          }

          getDefaultElement() {
              return this.#defaultElement;
          }

          setFallThroughEnabled(enabled) {
              this.#fallThroughEnabled = enabled;
          }

          setErasingEnabled(enabled) {
              this.#erasingEnabled = enabled;
          }

          isFallThroughEnabled() {
              return this.#fallThroughEnabled;
          }

          isErasingEnabled() {
              return this.#erasingEnabled;
          }

          trigger(x, y) {
              const cx = Math.floor(x / this.#chunkSize);
              const cy = Math.floor(y / this.#chunkSize);
              const chunkIndex = cy * this.#horChunkCount + cx;
              this.#activeChunks[chunkIndex] = true;
              // this.#changedChunks[chunkIndex] = true;
          }

          getActiveChunks() {
              return this.#activeChunks;
          }

          getChangedChunks() {
              return this.#changedChunks;
          }

          cleanChangedChunks() {
              this.#changedChunks.fill(false);
          }

          next() {
              const activeChunks = Array.from(this.#activeChunks);
              this.#activeChunks.fill(false);

              for (let cy = this.#verChunkCount - 1; cy >= 0; cy--) {
                  const cyTop = cy * this.#chunkSize;
                  const cyBottom = Math.min((cy + 1) * this.#chunkSize - 1, this.#height - 1);

                  const chunkOrder = this.#rndChunkOrder[this.#random.nextInt(Processor.RANDOM_DATA_COUNT)];
                  const fullChunkLoop = this.#random.nextInt(2) === 0;

                  const chunkActiveElements = new Uint16Array(this.#horChunkCount);

                  for (let y = cyBottom; y >= cyTop; y--) {
                      for (let i = 0; i < this.#horChunkCount; i++) {
                          const cx = chunkOrder[i];
                          const chunkIndex = cy * this.#horChunkCount + cx;

                          const idx = this.#random.nextInt(Processor.RANDOM_DATA_COUNT);
                          const chunkXOder = (fullChunkLoop) ? this.#rndChunkXOrder[idx] : this.#rndChunkXRnd[idx];

                          if (activeChunks[chunkIndex]) {
                              // standard iteration
                              let activeElements = chunkActiveElements[cx];
                              for (let j = 0; j < this.#chunkSize; j++) {
                                  let x = cx * this.#chunkSize + chunkXOder[j];
                                  if (x < this.#width) {
                                      let activeElement = this.#nextPoint(x, y);
                                      if (activeElement) {
                                          activeElements++;
                                      }
                                  }
                              }
                              chunkActiveElements[cx] = activeElements;
                          }
                      }
                  }

                  // fast check deactivated chunks (borders only - if they have active neighbours)
                  for (let cx = 0; cx < this.#horChunkCount; cx++) {
                      const chunkIndex = cy * this.#horChunkCount + cx;
                      if (!activeChunks[chunkIndex]) {
                          if (this.#fastTest(cx, cy, activeChunks)) {
                              // wake up chunk
                              activeChunks[chunkIndex] = true;
                              chunkActiveElements[cx] = 1;
                          }
                      }
                  }

                  // deactivate chunks if possible
                  if (fullChunkLoop) {
                      for (let cx = 0; cx < this.#horChunkCount; cx++) {
                          const chunkIndex = cy * this.#horChunkCount + cx;
                          if (activeChunks[chunkIndex] && chunkActiveElements[cx] === 0) {
                              // full test before deactivation

                              // this test is quite expensive, so we don't want to perform it every time
                              const lastFullTest = this.#chunkLastFullTest[chunkIndex];
                              if (lastFullTest === -1 || this.#iteration - lastFullTest >= 10) {
                                  if (!this.#fullTest(cx, cy)) {
                                      activeChunks[chunkIndex] = false;
                                      this.#changedChunks[chunkIndex] = true;  // last repaint
                                      this.#chunkLastFullTest[chunkIndex] = this.#iteration;
                                  }
                              }
                          }
                      }
                  }
              }

              // erasing mode
              if (this.#erasingEnabled) {
                  for (let x = 0; x < this.#width; x++) {
                      this.#elementArea.setElement(x, 0, this.#defaultElement);
                      this.#elementArea.setElement(x, this.#height - 1, this.#defaultElement);
                  }
                  for (let y = 1; y < this.#height - 1; y++) {
                      this.#elementArea.setElement(0, y, this.#defaultElement);
                      this.#elementArea.setElement(this.#width - 1, y, this.#defaultElement);
                  }
              }

              // merge active chunks
              for (let i = 0; i < this.#horChunkCount * this.#verChunkCount; i++) {
                  let active = activeChunks[i];
                  if (active) {
                      this.#activeChunks[i] = true;
                      this.#changedChunks[i] = true;
                  }
              }

              this.#iteration++;
          }

          #fastTest(cx, cy, activeChunks) {
              // left
              if (cx > 0 && activeChunks[(cy * this.#horChunkCount) + cx - 1]) {
                  const x = cx * this.#chunkSize;
                  const my = Math.min((cy + 1) * this.#chunkSize, this.#height);
                  for (let y = cy * this.#chunkSize; y < my; y++) {
                      if (this.#testPoint(x, y)) {
                          return true;
                      }
                  }
              }

              // right
              if (cx < (this.#horChunkCount - 1) && activeChunks[(cy * this.#horChunkCount) + cx + 1]) {
                  const x = Math.min(((cx + 1) * this.#chunkSize) - 1, this.#width - 1);
                  const my = Math.min((cy + 1) * this.#chunkSize, this.#height);
                  for (let y = cy * this.#chunkSize; y < my; y++) {
                      if (this.#testPoint(x, y)) {
                          return true;
                      }
                  }
              }

              // top
              if ((cy > 0) && activeChunks[((cy - 1) * this.#horChunkCount) + cx]
                  || (this.#fallThroughEnabled
                      && cy === 0
                      && activeChunks[((this.#verChunkCount - 1) * this.#horChunkCount) + cx])) {

                  const y = cy * this.#chunkSize;
                  const mx = Math.min((cx + 1) * this.#chunkSize, this.#width);
                  for (let x = cx * this.#chunkSize; x < mx; x++) {
                      if (this.#testPoint(x, y)) {
                          return true;
                      }
                  }
              }

              // bottom
              if (cy < (this.#verChunkCount - 1) && activeChunks[((cy + 1) * this.#horChunkCount) + cx]) {
                  const y = (cy + 1) * this.#chunkSize - 1;
                  const mx = Math.min((cx + 1) * this.#chunkSize, this.#width);
                  for (let x = cx * this.#chunkSize; x < mx; x++) {
                      if (this.#testPoint(x, y)) {
                          return true;
                      }
                  }
              }
          }

          #fullTest(cx, cy) {
              const mx = Math.min((cx + 1) * this.#chunkSize, this.#width);
              const my = Math.min((cy + 1) * this.#chunkSize, this.#height);
              for (let y = cy * this.#chunkSize; y < my; y++) {
                  for (let x = cx * this.#chunkSize; x < mx; x++) {
                      if (this.#testPoint(x, y)) {
                          return true;
                      }
                  }
              }
              return false;
          }

          #testPoint(x, y) {
              const elementHead = this.#elementArea.getElementHead(x, y);

              if (this.#testMovingBehaviour(elementHead, x, y)) {
                  return true;
              }

              const behaviour = ElementHead.getBehaviour(elementHead);
              switch (behaviour) {
                  case ElementHead.BEHAVIOUR_NONE:
                  case ElementHead.BEHAVIOUR_SOIL:
                  case ElementHead.BEHAVIOUR_TREE_TRUNK:
                      break;
                  default:
                      return true;
              }
              return false;
          }

          /**
           *
           * @param elementHead
           * @param x {number}
           * @param y {number}
           * @returns {boolean}
           */
          #testMovingBehaviour(elementHead, x, y) {
              const type = ElementHead.getTypeClass(elementHead);
              switch (type) {
                  case ElementHead.TYPE_AIR:
                  case ElementHead.TYPE_STATIC:
                      // no action
                      return false;

                  case ElementHead.TYPE_POWDER:
                  case ElementHead.TYPE_POWDER_FLOATING:
                  case ElementHead.TYPE_POWDER_WET:
                      if (ElementHead.getTypeModifierPowderSliding(elementHead)) {
                          return true;
                      } else {
                          return this.#testMove(elementHead, x, y, x, y + 1);
                      }

                  case ElementHead.TYPE_FLUID:
                      return this.#testMove(elementHead, x, y, x, y + 1)
                              || this.#testMove(elementHead, x, y, x + 1, y)
                              || this.#testMove(elementHead, x, y, x - 1, y);
                  default:
                      return true;
              }
              throw "Unknown element type: " + type;
          }

          #testMove(elementHead, x, y, x2, y2) {
              if (!this.#elementArea.isValidPosition(x2, y2)) {
                  if (this.#fallThroughEnabled && y === this.#height - 1) {
                      // try fall through
                      y2 = 0;
                      if (!this.#elementArea.isValidPosition(x2, y2)) {
                          return false;
                      }
                      // continue move...
                  } else {
                      return false;
                  }
              }

              let elementHead2 = this.#elementArea.getElementHead(x2, y2);
              return this.#canMove(elementHead, elementHead2);
          }

          /**
           *
           * @param x {number}
           * @param y {number}
           * @return {boolean} active
           */
          #nextPoint(x, y) {
              const elementHead = this.#elementArea.getElementHead(x, y);
              const moved = this.#performMovingBehaviour(elementHead, x, y);

              if (moved) {
                  return true;
              }

              const behaviour = ElementHead.getBehaviour(elementHead);
              let activeBehaviour = false;
              switch (behaviour) {
                  case ElementHead.BEHAVIOUR_NONE:
                  case ElementHead.BEHAVIOUR_SOIL:
                      break;
                  case ElementHead.BEHAVIOUR_FIRE:
                      this.#moduleFire.behaviourFire(elementHead, x, y);
                      activeBehaviour = true;
                      break;
                  case ElementHead.BEHAVIOUR_GRASS:
                      this.#moduleGrass.behaviourGrass(elementHead, x, y);
                      activeBehaviour = true;
                      break;
                  case ElementHead.BEHAVIOUR_TREE:
                      this.#moduleTree.behaviourTree(elementHead, x, y);
                      activeBehaviour = true;
                      break;
                  case ElementHead.BEHAVIOUR_TREE_LEAF:
                      this.#moduleTree.behaviourTreeLeaf(elementHead, x, y);
                      activeBehaviour = true;
                      break;
                  case ElementHead.BEHAVIOUR_TREE_TRUNK:
                      break;
                  case ElementHead.BEHAVIOUR_TREE_ROOT:
                      this.#moduleTree.behaviourTreeRoot(elementHead, x, y);
                      activeBehaviour = true;
                      break;
                  case ElementHead.BEHAVIOUR_FIRE_SOURCE:
                      this.#moduleFire.behaviourFireSource(elementHead, x, y);
                      activeBehaviour = true;
                      break;
                  case ElementHead.BEHAVIOUR_METEOR:
                      this.#moduleMeteor.behaviourMeteor(elementHead, x, y);
                      activeBehaviour = true;
                      break;
                  case ElementHead.BEHAVIOUR_FISH:
                      this.#moduleFish.behaviourFish(elementHead, x, y);
                      activeBehaviour = true;
                      break;
                  case ElementHead.BEHAVIOUR_FISH_BODY:
                      this.#moduleFish.behaviourFishBody(elementHead, x, y);
                      activeBehaviour = true;
                      break;
                  default:
                      throw "Unknown element behaviour: " + behaviour;
              }

              return activeBehaviour;
          }

          /**
           *
           * @param elementHead
           * @param x {number}
           * @param y {number}
           * @returns {boolean}
           */
          #performMovingBehaviour(elementHead, x, y) {
              const type = ElementHead.getTypeClass(elementHead);
              switch (type) {
                  case ElementHead.TYPE_AIR:
                      // no action
                      return false;

                  case ElementHead.TYPE_POWDER:
                  case ElementHead.TYPE_POWDER_WET:
                  case ElementHead.TYPE_POWDER_FLOATING:
                      if (this.#move(elementHead, x, y, x, y + 1)) {
                          // moved down

                          if (y % 2 === 0) {
                              this.#wake(x - 1, y + 1, 0);
                          } else {
                              this.#wake(x + 1, y + 1, 1);
                          }

                          this.#wake(x, y + 1, y % 2);

                          if (y % 2 === 0) {
                              this.#wake(x + 1, y, 0);
                          } else {
                              this.#wake(x - 1, y, 1);
                          }

                          return true;
                      } else {
                          if (ElementHead.getTypeModifierPowderSliding(elementHead) === 1) {
                              const momentum = ElementHead.getTypeModifierPowderMomentum(elementHead);

                              const r = this.#random.nextInt(1000000);
                              if (r > Processor.#asMomentumMoveInMillion(momentum)) {
                                  // stop - lost momentum
                                  this.#elementArea.setElementHead(x, y, ElementHead.setTypeModifierPowderSliding(elementHead, 0));
                                  return false;
                              }

                              const direction = ElementHead.getTypeModifierPowderDirection(elementHead);
                              this.#wake(x, y + 1, direction);

                              const directionX = (direction === 0) ? -1 : 1;
                              if (this.#move(elementHead, x, y, x + directionX, y)) {
                                  // moved horizontally
                                  this.#wake(x + directionX, y + 1, direction);
                                  this.#wake(x - directionX, y, direction);
                                  return true;
                              } else {
                                  // stop - nowhere to go
                                  this.#wake(x + directionX, y + 1, direction);
                                  this.#elementArea.setElementHead(x, y, ElementHead.setTypeModifierPowderSliding(elementHead, 0));
                                  return false;
                              }
                          }
                          return false;
                      }

                  case ElementHead.TYPE_FLUID:
                      // slow moving fluid
                      // if (!this.#move(elementHead, x, y, x, y + 1)) {
                      //     let rnd = this.#random.nextInt(2);
                      //     if (rnd === 0) {
                      //         return this.#move(elementHead, x, y, x + 1, y)
                      //     } else {
                      //         return this.#move(elementHead, x, y, x - 1, y)
                      //     }
                      // }
                      // return true;

                      // fast moving fluid (it can move by 3)
                      if (!this.#move(elementHead, x, y, x, y + 1)) {
                          let rnd = this.#random.nextInt(2);
                          if (rnd === 0) {
                              if (this.#move(elementHead, x, y, x + 1, y)) {
                                  this.#wake(x + 1, y + 1, 1);
                                  if (this.#move(elementHead, x + 1, y, x + 2, y)) {
                                      if (this.#move(elementHead, x + 2, y, x + 3, y)) {
                                          this.trigger(x + 3, y);
                                      } else {
                                          this.trigger(x + 2, y);
                                      }
                                  }
                                  return true;
                              }
                              return false;
                          } else {
                              if (this.#move(elementHead, x, y, x - 1, y)) {
                                  this.#wake(x - 1, y + 1, 0);
                                  if (this.#move(elementHead, x - 1, y, x - 2, y)) {
                                      if (this.#move(elementHead, x - 2, y, x - 3, y)) {
                                          this.trigger(x - 3, y);
                                      } else {
                                          this.trigger(x - 2, y);
                                      }
                                  }
                                  return true;
                              }
                              return false;
                          }
                      }
                      return true;

                  case ElementHead.TYPE_STATIC:
                  case ElementHead.TYPE_EFFECT:
                      // no action
                      return false;
              }
              throw "Unknown element type: " + type;
          }

          #move(elementHead, x, y, x2, y2) {
              if (!this.#elementArea.isValidPosition(x2, y2)) {
                  if (this.#fallThroughEnabled && y === this.#height - 1) {
                      // try fall through
                      y2 = 0;
                      if (!this.#elementArea.isValidPosition(x2, y2)) {
                          return false;
                      }
                      // continue move...
                  } else {
                      return false;
                  }
              }

              const elementHead2 = this.#elementArea.getElementHead(x2, y2);
              const elementType2 = ElementHead.getTypeClass(elementHead2);
              if (elementType2 === ElementHead.TYPE_POWDER_FLOATING || elementType2 === ElementHead.TYPE_POWDER) {
                  return false;
              }

              const elementType1 = ElementHead.getTypeClass(elementHead);
              if (elementType1 > elementType2) {
                  // move

                  if (elementType1 === ElementHead.TYPE_POWDER && elementType2 === ElementHead.TYPE_FLUID) {
                      // element may cover element2

                      const elementHeadWithAbsorbedFluid = ElementHead.setTypeClass(elementHead, ElementHead.TYPE_POWDER_WET);
                      const elementTail = this.#elementArea.getElementTail(x, y);

                      // sometimes element2 will not be covered - it looks better
                      if (this.#random.nextInt(100) > 9) {
                          this.#elementArea.setElement(x, y, this.#defaultElement);
                      } else {
                          const elementTail2 = this.#elementArea.getElementTail(x2, y2);
                          this.#elementArea.setElementHead(x, y, elementHead2);
                          this.#elementArea.setElementTail(x, y, elementTail2);
                      }
                      this.#elementArea.setElementHead(x2, y2, elementHeadWithAbsorbedFluid);
                      this.#elementArea.setElementTail(x2, y2, elementTail);

                  } else {
                      // swap

                      const elementTail = this.#elementArea.getElementTail(x, y);
                      const elementTail2 = this.#elementArea.getElementTail(x2, y2);

                      this.#elementArea.setElementHead(x2, y2, elementHead);
                      this.#elementArea.setElementHead(x, y, elementHead2);
                      this.#elementArea.setElementTail(x2, y2, elementTail);
                      this.#elementArea.setElementTail(x, y, elementTail2);
                  }
                  return true;
              }
              return false;
          }

          #canMove(elementHead1, elementHead2) {
              const elementType2 = ElementHead.getTypeClass(elementHead2);
              if (elementType2 === ElementHead.TYPE_POWDER_FLOATING || elementType2 === ElementHead.TYPE_POWDER) {
                  return false;
              }

              const elementType1 = ElementHead.getTypeClass(elementHead1);
              return elementType1 > elementType2;
          }

          #wake(x, y, direction) {
              if (this.#elementArea.isValidPosition(x, y)) {
                  let elementHead = this.#elementArea.getElementHead(x, y);
                  const type = ElementHead.getTypeClass(elementHead);
                  if (type === ElementHead.TYPE_POWDER
                          || type === ElementHead.TYPE_POWDER_WET
                          || type === ElementHead.TYPE_POWDER_FLOATING) {

                      const momentum = ElementHead.getTypeModifierPowderMomentum(elementHead);
                      if (momentum === 0) {
                          return;  // never wake up
                      }

                      const directionX = (direction === 0) ? -1 : 1;
                      if (this.#elementArea.isValidPosition(x + directionX, y)) {
                          const nextElementHead = this.#elementArea.getElementHead(x + directionX, y);
                          if (!this.#canMove(elementHead, nextElementHead)) {
                              return;  // target element has no space to move
                          }
                      }

                      const r = this.#random.nextInt(1000000);
                      if (r > Processor.#asMomentumWakeupInMillion(momentum)) {
                          return;  // not this time
                      }

                      elementHead = ElementHead.setTypeModifierPowderSliding(elementHead, 1);
                      elementHead = ElementHead.setTypeModifierPowderDirection(elementHead, direction);
                      this.#elementArea.setElementHead(x, y, elementHead);
                  }
              }
          }


          static #asMomentumMoveInMillion(momentum) {
              return [0, 400000, 600000, 700000, 700000, 800000, 950000, 950000][momentum];  // none .. almost always
          }

          static #asMomentumWakeupInMillion(momentum) {
              return [0, 400000, 400000, 400000, 600000, 600000, 850000, 900000][momentum];  // never .. almost always
          }
      }

      /**
       * @interface
       *
       * @author Patrik Harag
       * @version 2023-08-27
       */
      class Renderer {

          trigger(x, y) {
              throw 'Not implemented';
          }

          /**
           *
           * @param changedChunks {boolean[]}
           * @return {void}
           */
          render(changedChunks) {
              throw 'Not implemented';
          }
      }

      /**
       * @author Patrik Harag
       * @version 2023-02-18
       */
      class RenderingMode {

          /**
           * Element rendering function.
           *
           * Default implementation:
           * <pre>
           *     data[dataIndex] = ElementTail.getColorRed(elementTail);
           *     data[dataIndex + 1] = ElementTail.getColorGreen(elementTail);
           *     data[dataIndex + 2] = ElementTail.getColorBlue(elementTail);
           * </pre>
           *
           * @param data
           * @param dataIndex
           * @param elementHead
           * @param elementTail
           */
          apply(data, dataIndex, elementHead, elementTail) {
              throw 'Not implemented'
          }
      }

      /**
       * Double buffered renderer. With motion blur.
       *
       * @author Patrik Harag
       * @version 2023-08-27
       */
      class Renderer2D extends Renderer {

          /**
           *
           * @param elementArea {ElementArea}
           * @param context {CanvasRenderingContext2D}
           * @param alpha 0x00 = fully transparent, 0xFF = fully opaque
           */
          static renderPreview(elementArea, context, alpha=0xFF) {
              const w = elementArea.getWidth();
              const h = elementArea.getHeight();

              const buffer = context.createImageData(w, h);
              const data = buffer.data;

              for (let x = 0; x < w; x++) {
                  for (let y = 0; y < h; y++) {
                      const pixelIndex = w * y + x;
                      const dataIndex = pixelIndex * 4;

                      const elementTail = elementArea.getElementTail(x, y);

                      if (elementTail === ElementArea.TRANSPARENT_ELEMENT.elementTail
                              && elementArea.getElementHead(x, y) === ElementArea.TRANSPARENT_ELEMENT.elementHead) {

                          // transparent
                          data[dataIndex + 3] = 0;
                      } else {
                          data[dataIndex] = ElementTail.getColorRed(elementTail);
                          data[dataIndex + 1] = ElementTail.getColorGreen(elementTail);
                          data[dataIndex + 2] = ElementTail.getColorBlue(elementTail);
                          data[dataIndex + 3] = alpha;
                      }
                  }
              }

              context.putImageData(buffer, 0, 0, 0, 0, w, h);
          }


          /** @type CanvasRenderingContext2D */
          #context;

          /** @type RenderingMode|null */
          #mode = null;

          /** @type ElementArea */
          #elementArea;

          /** @type number */
          #width;
          /** @type number */
          #height;

          /** @type number */
          #chunkSize;
          /** @type number */
          #horChunkCount;
          /** @type number */
          #verChunkCount;

          /** @type boolean[] */
          #triggeredChunks

          /** @type ImageData */
          #buffer;

          /** @type boolean[] */
          #blur;

          /** @type boolean[] */
          #canBeBlurred;

          constructor(elementArea, chunkSize, context) {
              super();
              this.#context = context;
              this.#elementArea = elementArea;
              this.#width = elementArea.getWidth();
              this.#height = elementArea.getHeight();

              this.#chunkSize = chunkSize;
              this.#horChunkCount = Math.ceil(this.#width / this.#chunkSize);
              this.#verChunkCount = Math.ceil(this.#height / this.#chunkSize);
              this.#triggeredChunks = new Array(this.#horChunkCount * this.#verChunkCount).fill(true);

              this.#buffer = this.#context.createImageData(this.#width, this.#height);
              // set up alpha color component
              const data = this.#buffer.data;
              for (let y = 0; y < this.#height; y++) {
                  for (let x = 0; x < this.#width; x++) {
                      let index = 4 * (this.#width * y + x);
                      data[index + 3] = 0xFF;
                  }
              }

              this.#blur = new Array(this.#width * this.#height).fill(false);
              this.#canBeBlurred = new Array(this.#width * this.#height).fill(false);
          }

          trigger(x, y) {
              const cx = Math.trunc(x / this.#chunkSize);
              const cy = Math.trunc(y / this.#chunkSize);
              const chunkIndex = cy * this.#horChunkCount + cx;
              this.#triggeredChunks[chunkIndex] = true;
          }

          triggerChunk(cx, cy) {
              const chunkIndex = cy * this.#horChunkCount + cx;
              this.#triggeredChunks[chunkIndex] = true;
          }

          triggerChunks(activeChunks) {
              if (activeChunks.length !== this.#triggeredChunks.length) {
                  throw 'Array must be of the same size';
              }
              for (let i = 0; i < activeChunks.length; i++) {
                  const active = activeChunks[i];
                  if (active) {
                      this.#triggeredChunks[i] = active;
                  }
              }
          }

          setMode(mode) {
              this.#mode = mode;
              // ensure repaint
              this.#triggeredChunks.fill(true);
              this.#blur.fill(false);
              this.#canBeBlurred.fill(false);
          }

          /**
           *
           * @param changedChunks {boolean[]}
           * @return {void}
           */
          render(changedChunks) {
              for (let cy = 0; cy < this.#verChunkCount; cy++) {
                  for (let cx = 0; cx < this.#horChunkCount; cx++) {
                      const chunkIndex = cy * this.#horChunkCount + cx;

                      const triggered = this.#triggeredChunks[chunkIndex];
                      if (triggered) {
                          // unset
                          this.#triggeredChunks[chunkIndex] = false;
                      }

                      const changed = changedChunks[chunkIndex];
                      if (changed) {
                          // repaint at least once
                          this.#triggeredChunks[chunkIndex] = true;
                      }

                      if (triggered || changed) {

                          // neighbours can be changed without triggering
                          let includeRowUnder = false;
                          if (cy + 1 < this.#horChunkCount) {
                              const chunkIndexUnder = (cy + 1) * this.#horChunkCount + cx;
                              if (!this.#triggeredChunks[chunkIndexUnder] && !changedChunks[chunkIndexUnder]) {
                                  includeRowUnder = true;
                              }
                          }

                          this.#renderChunk(cx, cy, includeRowUnder);
                      }
                  }
              }

              // TODO: ? multiple partial putImageData
              this.#context.putImageData(this.#buffer, 0, 0, 0, 0, this.#width, this.#height);
          }

          #renderChunk(cx, cy, includeRowUnder) {
              const mx = Math.min((cx + 1) * this.#chunkSize, this.#width);
              const my = Math.min((cy + 1) * this.#chunkSize + (includeRowUnder ? 1 : 0), this.#height);
              for (let y = cy * this.#chunkSize; y < my; y++) {
                  for (let x = cx * this.#chunkSize; x < mx; x++) {
                      this.#renderPixel(x, y, this.#buffer.data);
                  }
              }
          }

          #renderPixel(x, y, data) {
              const elementTail = this.#elementArea.getElementTail(x, y);

              const pixelIndex = this.#width * y + x;
              const dataIndex = pixelIndex * 4;

              const blurBehaviour = ElementTail.getBlurType(elementTail);

              if (blurBehaviour === ElementTail.BLUR_TYPE_BACKGROUND) {
                  // motion blur

                  if (this.#canBeBlurred[pixelIndex] && Renderer2D.#isWhite(elementTail)) {
                      // init fading here

                      this.#blur[pixelIndex] = true;
                      this.#canBeBlurred[pixelIndex] = false;
                  }

                  if (this.#blur[pixelIndex]) {
                      // paint - continue fading

                      const r = data[dataIndex];
                      const g = data[dataIndex + 1];
                      const b = data[dataIndex + 2];

                      const alpha = 0.875 + (Math.random() * 0.1 - 0.05);
                      const whiteBackground = 255 * (1.0 - alpha);

                      const nr = Math.trunc((r * alpha) + whiteBackground);
                      const ng = Math.trunc((g * alpha) + whiteBackground);
                      const nb = Math.trunc((b * alpha) + whiteBackground);

                      if (r === nr && g === ng && b === nb) {
                          // no change => fading completed
                          this.#blur[pixelIndex] = false;
                          data[dataIndex] = 0xFF;
                          data[dataIndex + 1] = 0xFF;
                          data[dataIndex + 2] = 0xFF;
                      } else {
                          data[dataIndex] = nr;
                          data[dataIndex + 1] = ng;
                          data[dataIndex + 2] = nb;
                          this.trigger(x, y);  // request next repaint
                      }
                      return;
                  }
              }

              // paint - no blur
              if (this.#mode === null) {
                  data[dataIndex] = ElementTail.getColorRed(elementTail);
                  data[dataIndex + 1] = ElementTail.getColorGreen(elementTail);
                  data[dataIndex + 2] = ElementTail.getColorBlue(elementTail);
                  this.#canBeBlurred[pixelIndex] = (blurBehaviour === ElementTail.BLUR_TYPE_1);
                  this.#blur[pixelIndex] = false;
              } else {
                  // custom rendering mode
                  let elementHead = this.#elementArea.getElementHead(x, y);
                  this.#mode.apply(data, dataIndex, elementHead, elementTail);
              }
          }

          static #isWhite(element) {
              return ElementTail.getColorRed(element) === 255
                  && ElementTail.getColorGreen(element) === 255
                  && ElementTail.getColorBlue(element) === 255;
          }
      }

      var img$k = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAfQAAAABCAIAAACnnMvDAAAACXBIWXMAAAsTAAALEwEAmpwYAAABTUlEQVQ4T22QUZIjMQhDHzhH32PHYj/UZoiTLlcXloQQfsE/AF6QsM6/i4CABa9T5Kj5RPqfkL9s29y2l6e75lBff33Nx2h6AcfGxxP6ykjU+Exkw5m3YxqfbnPRucfPSFev1+p64rbqrm9NAif2xfYiPc5UCz5sixRLZLF2poDMylSmcilcLxkBMhShpBIlCirZiwoEGDz4U/tqxPqg1oMrqcEqkak2sW2g9WlrK2DiBsfQJ1JQi90ZAuLIEnmdwbrwXg+42ImggvpK8mQ+UTvMh//Fdh6D/Xrt1uITqc77/C2SUlRFKaVUpSpFbFKECAEgEGwo2CCog3Bwawy6qNNrZOJumV3XiIu98I4xRztMt7Smz1zkW3YtcmnMXtTPqK35yZ4RJd4bQELiLarYG4m9nwltsMe61/COY6rgfWa+x8xmO1FbWd91P5Lr/2afRpQBYZvbAAAAAElFTkSuQmCC";

      /**
       * @author Patrik Harag
       * @version 2023-08-14
       */
      class RenderingModeHeatmap extends RenderingMode {

          /** @type ImageData */
          #gradientImageData = null;

          constructor() {
              super();
              Assets.asImageData(img$k).then(d => this.#gradientImageData = d);
          }

          apply(data, dataIndex, elementHead, elementTail) {
              if (this.#gradientImageData === null) {
                  // not loaded yet
                  return;
              }

              if (elementHead === 0x00) {
                  // background
                  data[dataIndex] = 0x00;
                  data[dataIndex + 1] = 0x00;
                  data[dataIndex + 2] = 0x00;
              } else {
                  const temperature = ElementHead.getTemperature(elementHead);
                  const x = Math.trunc(temperature / (1 << ElementHead.FIELD_TEMPERATURE_SIZE) * this.#gradientImageData.width);
                  const gradIndex = x * 4;
                  data[dataIndex] = this.#gradientImageData.data[gradIndex];
                  data[dataIndex + 1] = this.#gradientImageData.data[gradIndex + 1];
                  data[dataIndex + 2] = this.#gradientImageData.data[gradIndex + 2];
              }
          }
      }

      /**
       * @author Patrik Harag
       * @version 2023-08-18
       */
      class RenderingModeElementType extends RenderingMode {

          constructor() {
              super();
          }

          #asColor(elementHead) {
              switch (ElementHead.getTypeClass(elementHead)) {
                  case ElementHead.TYPE_AIR: return [255, 255, 255];
                  case ElementHead.TYPE_STATIC: return [0, 0, 0];
                  case ElementHead.TYPE_FLUID: return [0, 0, 255];
                  case ElementHead.TYPE_POWDER:
                  case ElementHead.TYPE_POWDER_WET:
                  case ElementHead.TYPE_POWDER_FLOATING:
                      if (ElementHead.getTypeModifierPowderSliding(elementHead) === 1) {
                          if (ElementHead.getTypeModifierPowderDirection(elementHead) === 1) {
                              return [232, 137, 70];
                          } else {
                              return [255, 0, 0];
                          }
                      }
                      switch (ElementHead.getTypeClass(elementHead)) {
                          case ElementHead.TYPE_POWDER: return [36, 163, 57];
                          case ElementHead.TYPE_POWDER_WET: return [44, 122, 57];
                          case ElementHead.TYPE_POWDER_FLOATING: return [16, 194, 45];
                      }
                      // fallthrough
                  default: return [255, 0, 125];
              }
          }

          apply(data, dataIndex, elementHead, elementTail) {
              const [r, g, b] = this.#asColor(elementHead);

              data[dataIndex] = r;
              data[dataIndex + 1] = g;
              data[dataIndex + 2] = b;

              return false;
          }
      }

      // TODO: Currently element tail bytes are stored as floats (0..1) in texture and then transformed back to integers
      //       My attempts to use integer texture with texelFetch has failed
      //       But at least current solution does not require WebGL 2

      /**
       * WebGL renderer.
       *
       * @author Patrik Harag
       * @version 2023-10-14
       */
      class RendererWebGL extends Renderer {

          /** @type WebGLRenderingContext */
          #context;

          /** @type ElementArea */
          #elementArea;

          /** @type number */
          #width;
          /** @type number */
          #height;

          #doRendering;

          constructor(elementArea, chunkSize, context) {
              super();
              this.#context = context;
              this.#elementArea = elementArea;
              this.#width = elementArea.getWidth();
              this.#height = elementArea.getHeight();

              const gl = this.#context;

              // --- build programs

              const vertexShaderBlur = `
              attribute vec4 a_position;

              varying vec2 v_texcoord;

              void main() {
                gl_Position = a_position;
                v_texcoord = a_position.xy * vec2(0.5, 0.5) + 0.5;
              }
          `;

              const fragmentShaderBlur = `
              precision mediump float;

              varying vec2 v_texcoord;

              uniform sampler2D u_element_tails;
              uniform sampler2D u_blur;

              float rand(vec2 co) {
                  return fract(sin(dot(co.xy, vec2(12.9898,78.233))) * 43758.5453);
              }

              void main() {
                  vec4 elementTail = texture2D(u_element_tails, v_texcoord);
                  int flags = int(floor(elementTail[3] * 255.0 + 0.5));

                  if (flags == 0x00) {  // == BLUR_TYPE_NONE
                      // do not render non-blurrable elements
                      gl_FragColor = vec4(1.0, 1.0, 1.0, 1.0);

                  } else if (flags == 0x01) {  // == BLUR_TYPE_BACKGROUND
                      // fade out...

                      vec4 blurElementTail = texture2D(u_blur, v_texcoord);
                      float r = blurElementTail[0];  // 0..1
                      float g = blurElementTail[1];
                      float b = blurElementTail[2];

                      float alpha;  // dynamic alpha
                      float m = max(r, max(g, b));
                      if (m > 0.9) {
                          alpha = 0.875 + (rand(v_texcoord.xy) * 0.1 - 0.05);
                      } else {
                          alpha = 0.775 + (rand(v_texcoord.xy) * 0.04 - 0.02);
                      }
                      float whiteBackground = 1.0 - alpha;

                      float nr = (r * alpha) + whiteBackground;
                      float ng = (g * alpha) + whiteBackground;
                      float nb = (b * alpha) + whiteBackground;

                      if (int(nr * 255.0) == int(r * 255.0)
                              && int(ng * 255.0) == int(g * 255.0)
                              && int(nb * 255.0) == int(b * 255.0)) {

                          // no change - delete blur (otherwise there could be visible remains)
                          gl_FragColor = vec4(1.0, 1.0, 1.0, 1.0);

                      } else {
                          gl_FragColor = vec4(nr, ng, nb, 1.0);
                      }

                  } else {  // == BLUR_TYPE_1
                      // render element
                      float r = elementTail[2];  // 0..1
                      float g = elementTail[1];
                      float b = elementTail[0];
                      gl_FragColor = vec4(r, g, b, 1.0);
                  }
              }
          `;

              const blurProgram = this.#loadProgram(gl, vertexShaderBlur, fragmentShaderBlur);
              const blurProgramLocationElementTails = gl.getUniformLocation(blurProgram, "u_element_tails");
              const blurProgramLocationBlur = gl.getUniformLocation(blurProgram, "u_blur");

              const vertexShaderMerging = `
              attribute vec4 a_position;

              varying vec2 v_texcoord;

              void main() {
                gl_Position = a_position;

                // Flip Y though so we get the top at 0
                v_texcoord = a_position.xy * vec2(0.5, -0.5) + 0.5;
              }
          `;

              const fragmentShaderMerging = `
              precision mediump float;

              varying vec2 v_texcoord;

              uniform sampler2D u_element_tails;
              uniform sampler2D u_blur;

              void main() {
                  vec4 elementTail = texture2D(u_element_tails, v_texcoord);
                  int flags = int(floor(elementTail[3] * 255.0 + 0.5));

                  if (flags == 0x00) {  // == BLUR_TYPE_NONE
                      // render element
                      float r = elementTail[2];  // 0..1
                      float g = elementTail[1];
                      float b = elementTail[0];
                      gl_FragColor = vec4(r, g, b, 1.0);

                  } else {
                      gl_FragColor = texture2D(u_blur, v_texcoord);
                  }
              }
          `;

              const mergeProgram = this.#loadProgram(gl, vertexShaderMerging, fragmentShaderMerging);
              const mergeProgramLocationElementTails = gl.getUniformLocation(mergeProgram, "u_element_tails");
              const mergeProgramLocationBlur = gl.getUniformLocation(mergeProgram, "u_blur");

              // --- setup a unit quad

              const positions = [
                  1,  1,
                  -1,  1,
                  -1, -1,
                  1,  1,
                  -1, -1,
                  1, -1,
              ];
              const vertBuffer = gl.createBuffer();
              gl.bindBuffer(gl.ARRAY_BUFFER, vertBuffer);
              gl.bufferData(gl.ARRAY_BUFFER, new Float32Array(positions), gl.STATIC_DRAW);
              gl.enableVertexAttribArray(0);
              gl.vertexAttribPointer(0, 2, gl.FLOAT, false, 0, 0);

              // --- prepare texture and associated frame buffer for motion blur
              // it is not possible to sample a texture and render to that same texture at the same time
              // two textures needs to be used - "ping-pong" approach

              const createTextureAndFrameBuffer = (textureId) => {
                  const motionBlurData = new Uint8Array(this.#elementArea.getDataTails().byteLength).fill(0xFF);
                  const motionBlurTexture = gl.createTexture();
                  gl.activeTexture(textureId);
                  gl.bindTexture(gl.TEXTURE_2D, motionBlurTexture);
                  gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);
                  gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);
                  gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.NEAREST);
                  gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.NEAREST);
                  gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, this.#width, this.#height, 0, gl.RGBA, gl.UNSIGNED_BYTE, motionBlurData);

                  const motionBlurFrameBuffer = gl.createFramebuffer();
                  gl.bindFramebuffer(gl.FRAMEBUFFER, motionBlurFrameBuffer);
                  gl.framebufferTexture2D(gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT0, gl.TEXTURE_2D, motionBlurTexture, 0);

                  return motionBlurFrameBuffer;
              };

              const motionBlurFrameBuffer1 = createTextureAndFrameBuffer(gl.TEXTURE1);
              const motionBlurFrameBuffer2 = createTextureAndFrameBuffer(gl.TEXTURE2);

              // --- prepare element tails texture - TEXTURE0
              // move the texture definition into rendering loop to create a memory leak - to test WebGL failure recovery

              const elementTailsTexture = gl.createTexture();
              gl.activeTexture(gl.TEXTURE0);
              gl.bindTexture(gl.TEXTURE_2D, elementTailsTexture);
              gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);
              gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);
              gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.NEAREST);
              gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.NEAREST);

              // ---

              let blurTexture = 1;  // "ping-pong" approach - see above
              this.#doRendering = () => {

                  // update element tails texture
                  const elementTails = new Uint8Array(this.#elementArea.getDataTails());
                  gl.bindTexture(gl.TEXTURE_2D, elementTailsTexture);
                  gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, this.#width, this.#height, 0, gl.RGBA, gl.UNSIGNED_BYTE, elementTails);

                  // render blurrable elements and blur into a texture
                  // - reduce blur from previous iterations (fading out) and render blurrable elements over
                  gl.bindFramebuffer(gl.FRAMEBUFFER, blurTexture === 1 ? motionBlurFrameBuffer1 : motionBlurFrameBuffer2);

                  gl.useProgram(blurProgram);
                  gl.uniform1i(blurProgramLocationElementTails, 0);  // texture 0
                  gl.uniform1i(blurProgramLocationBlur, (blurTexture === 1) ? 2 : 1);  // texture 2 or 1

                  gl.drawArrays(gl.TRIANGLES, 0, positions.length / 2);

                  // render to canvas
                  // - blurrable elements and blur will be merged with elements that cannot be blurred
                  gl.bindFramebuffer(gl.FRAMEBUFFER, null);

                  gl.useProgram(mergeProgram);
                  gl.uniform1i(mergeProgramLocationElementTails, 0);  // texture 0
                  gl.uniform1i(mergeProgramLocationBlur, blurTexture);  // texture 1 or 2

                  gl.drawArrays(gl.TRIANGLES, 0, positions.length / 2);

                  blurTexture = (blurTexture === 1) ? 2 : 1;
              };
          }

          trigger(x, y) {
              // ignore
          }

          /**
           *
           * @param changedChunks {boolean[]}
           * @return {void}
           */
          render(changedChunks) {
              this.#doRendering();
          }

          /**
           *
           * @param gl {WebGLRenderingContext} The WebGLRenderingContext to use.
           * @param vertexShader {string} vertex shader code
           * @param fragmentShader {string} fragment shader code
           * @return {WebGLProgram}
           */
          #loadProgram(gl, vertexShader, fragmentShader) {
              const program = gl.createProgram();

              gl.attachShader(program, this.#loadShader(gl, vertexShader, gl.VERTEX_SHADER));
              gl.bindAttribLocation(program, 0, "a_position");

              gl.attachShader(program, this.#loadShader(gl, fragmentShader, gl.FRAGMENT_SHADER));

              gl.linkProgram(program);
              this.#checkLinkStatus(gl, program);

              return program;
          }

          /**
           *
           * @param gl {WebGLRenderingContext} The WebGLRenderingContext to use.
           * @param shaderSource {string} The shader source.
           * @param shaderType {number} The type of shader.
           * @return {WebGLShader}
           */
          #loadShader(gl, shaderSource, shaderType) {
              // Create the shader object
              const shader = gl.createShader(shaderType);

              // Load the shader source
              gl.shaderSource(shader, shaderSource);

              // Compile the shader
              gl.compileShader(shader);

              // Check the compile status
              const compiled = gl.getShaderParameter(shader, gl.COMPILE_STATUS);
              if (!compiled) {
                  // Something went wrong during compilation; get the error
                  const lastError = gl.getShaderInfoLog(shader);
                  throw `Error compiling shader: ${lastError}`;
              }

              return shader;
          }

          #checkLinkStatus(gl, program) {
              const linked = gl.getProgramParameter(program, gl.LINK_STATUS);
              if (!linked) {
                  // something went wrong with the link
                  const lastError = gl.getProgramInfoLog(program);
                  throw `Error in program linking: ${lastError}`;
              }
          }
      }

      /**
       * Null renderer. For testing purposes - to measure effects of rendering...
       *
       * @author Patrik Harag
       * @version 2023-10-11
       */
      class RendererNull extends Renderer {

          constructor() {
              super();
          }

          trigger(x, y) {
              // ignore
          }

          render(changedChunks) {
              // ignore
          }
      }

      /**
       * @interface
       *
       * @author Patrik Harag
       * @version 2023-10-11
       */
      class RendererInitializer {

          getContextType() {
              throw 'Not implemented'
          }

          /**
           *
           * @param elementArea
           * @param chunkSize
           * @param context
           * @return {Renderer}
           */
          initialize(elementArea, chunkSize, context) {
              throw 'Not implemented'
          }

          // static factory methods

          static canvas2d() {
              return new RendererInitializer2D(null);
          }

          static canvas2dHeatmap() {
              return new RendererInitializer2D(new RenderingModeHeatmap());
          }

          static canvas2dElementType() {
              return new RendererInitializer2D(new RenderingModeElementType())
          }

          static canvasWebGL() {
              return new RendererInitializerWebGL();
          }

          static nullRenderer() {
              return new RendererInitializerNull();
          }
      }

      class RendererInitializer2D extends RendererInitializer {

          #mode;

          constructor(mode) {
              super();
              this.#mode = mode;
          }

          getContextType() {
              return '2d';
          }

          initialize(elementArea, chunkSize, context) {
              let renderer = new Renderer2D(elementArea, chunkSize, context);
              if (this.#mode !== null) {
                  renderer.setMode(this.#mode);
              }
              return renderer;
          }
      }

      class RendererInitializerWebGL extends RendererInitializer {

          getContextType() {
              return 'webgl';
          }

          initialize(elementArea, chunkSize, context) {
              return new RendererWebGL(elementArea, chunkSize, context);
          }
      }

      class RendererInitializerNull extends RendererInitializer {

          constructor() {
              super();
          }

          getContextType() {
              return '2d';
          }

          initialize(elementArea, chunkSize, context) {
              return new RendererNull();
          }
      }

      /**
       *
       * @author Patrik Harag
       * @version 2023-08-20
       */
      class FloodFillPainter {

          static NEIGHBOURHOOD_VON_NEUMANN = 0;
          static NEIGHBOURHOOD_MOORE = 1;


          /** @type ElementArea */
          #elementArea;

          /** @type SandGameGraphics */
          #graphics;

          #neighbourhood;

          /**
           *
           * @param elementArea {ElementArea}
           * @param neighbourhood
           * @param graphics {SandGameGraphics}
           */
          constructor(elementArea, neighbourhood = FloodFillPainter.NEIGHBOURHOOD_VON_NEUMANN, graphics) {
              this.#elementArea = elementArea;
              this.#neighbourhood = neighbourhood;
              this.#graphics = graphics;
          }

          /**
           *
           * @param x {number}
           * @param y {number}
           * @param brush {Brush}
           */
          paint(x, y, brush) {
              const pattern = 0b1111_11100111;  // TODO: different for fluid, powder-like...
              const matcher = this.#normalize(this.#elementArea.getElementHead(x, y)) & pattern;

              const w = this.#elementArea.getWidth();

              const pointSet = new Set();
              const queue = [];

              let point = x + y * w;
              do {
                  let x = point % w;
                  let y = Math.trunc(point / w);

                  if (pointSet.has(point)) {
                      continue;  // already completed
                  }

                  this.#graphics.draw(x, y, brush);
                  pointSet.add(point);

                  // add neighbours
                  this.#tryAdd(x, y - 1, pattern, matcher, pointSet, queue);
                  this.#tryAdd(x + 1, y, pattern, matcher, pointSet, queue);
                  this.#tryAdd(x, y + 1, pattern, matcher, pointSet, queue);
                  this.#tryAdd(x - 1, y, pattern, matcher, pointSet, queue);

                  if (this.#neighbourhood === FloodFillPainter.NEIGHBOURHOOD_MOORE) {
                      this.#tryAdd(x + 1, y + 1, pattern, matcher, pointSet, queue);
                      this.#tryAdd(x + 1, y - 1, pattern, matcher, pointSet, queue);
                      this.#tryAdd(x - 1, y + 1, pattern, matcher, pointSet, queue);
                      this.#tryAdd(x - 1, y - 1, pattern, matcher, pointSet, queue);
                  }

              } while ((point = queue.pop()) != null);
          }

          #tryAdd(x, y, pattern, matcher, pointSet, queue) {
              const w = this.#elementArea.getWidth();
              const h = this.#elementArea.getHeight();

              if (x < 0 || y < 0) {
                  return;
              }
              if (x >= w || y >= h) {
                  return;
              }

              if (!this.#equals(x, y, pattern, matcher)) {
                  return;
              }

              const point = x + y * w;
              if (pointSet.has(point)) {
                  return;
              }

              queue.push(point);
          }

          #equals(x, y, pattern, matcher) {
              let elementHead = this.#elementArea.getElementHead(x, y);
              elementHead = this.#normalize(elementHead);
              return (elementHead & pattern) === matcher;
          }

          #normalize(elementHead) {
              // wetness is ignored
              if (ElementHead.getTypeClass(elementHead) === ElementHead.TYPE_POWDER_WET) {
                  elementHead = ElementHead.setTypeClass(elementHead, ElementHead.TYPE_POWDER);
              }
              return elementHead;
          }
      }

      /**
       *
       * @author Patrik Harag
       * @version 2023-07-23
       */
      class SandGameGraphics {

          /** @type ElementArea */
          #elementArea;

          /** @type DeterministicRandom */
          #random;

          /** @type function(number, number) */
          #triggerFunction;

          constructor(elementArea, random, triggerFunction) {
              this.#elementArea = elementArea;
              this.#random = random;
              this.#triggerFunction = triggerFunction;
          }

          /**
           *
           * @param aX {number}
           * @param aY {number}
           * @param bX {number}
           * @param bY {number}
           */
          swap(aX, aY, bX, bY) {
              if (this.#elementArea.isValidPosition(aX, aY) && this.#elementArea.isValidPosition(bX, bY)) {
                  this.#elementArea.swap(aX, aY, bX, bY);
              }
          }

          /**
           *
           * @param x {number}
           * @param y {number}
           * @param brushOrElement {Brush|Element}
           */
          draw(x, y, brushOrElement) {
              if (this.#elementArea.isValidPosition(x, y)) {
                  if (brushOrElement instanceof Element) {
                      this.#elementArea.setElement(x, y, brushOrElement);
                      this.#triggerFunction(x, y);
                  } else if (brushOrElement instanceof Brush) {
                      let oldElement = this.#elementArea.getElement(x, y);
                      let newElement = brushOrElement.apply(x, y, this.#random, oldElement);
                      this.#elementArea.setElement(x, y, newElement);
                      this.#triggerFunction(x, y);
                  } else {
                      throw 'Brush or Element expected';
                  }
              }
          }

          drawRectangle(x1, y1, x2, y2, brush, supportNegativeCoordinates = false) {
              if (supportNegativeCoordinates) {
                  x1 = (x1 >= 0) ? x1 : this.getWidth() + x1 + 1;
                  x2 = (x2 >= 0) ? x2 : this.getWidth() + x2 + 1;
                  y1 = (y1 >= 0) ? y1 : this.getHeight() + y1 + 1;
                  y2 = (y2 >= 0) ? y2 : this.getHeight() + y2 + 1;
              }

              x1 = Math.max(Math.min(x1, this.getWidth() - 1), 0);
              x2 = Math.max(Math.min(x2, this.getWidth() - 1), 0);
              y1 = Math.max(Math.min(y1, this.getHeight() - 1), 0);
              y2 = Math.max(Math.min(y2, this.getHeight() - 1), 0);

              for (let y = y1; y <= y2; y++) {
                  for (let x = x1; x <= x2; x++) {
                      this.draw(x, y, brush);
                  }
              }
          }

          drawLine(x1, y1, x2, y2, size, brush, round=false) {
              const d = Math.ceil(size / 2);

              let consumer;
              if (round) {
                  consumer = (x, y) => {
                      CircleIterator.iterate(CircleIterator.BLUEPRINT_3, (dx, dy, level) => {
                          this.draw(x + dx, y + dy, brush);
                      });
                  };
              } else {
                  consumer = (x, y) => {
                      this.drawRectangle(x - d, y - d, x + d, y + d, brush);
                  };
              }

              SandGameGraphics.#lineAlgorithm(x1, y1, x2, y2, consumer);
          }

          static #lineAlgorithm(x1, y1, x2, y2, consumer) {
              consumer(x1, y1);

              if ((x1 !== x2) || (y1 !== y2)) {
                  const moveX = x1 < x2 ? 1 : -1;
                  const moveY = y1 < y2 ? 1 : -1;

                  const dx = Math.abs(x2 - x1);
                  const dy = Math.abs(y2 - y1);
                  let diff = dx - dy;

                  while ((x1 !== x2) || (y1 !== y2)) {
                      const p = 2 * diff;

                      if (p > -dy) {
                          diff = diff - dy;
                          x1 = x1 + moveX;
                      }
                      if (p < dx) {
                          diff = diff + dx;
                          y1 = y1 + moveY;
                      }
                      consumer(x1, y1);
                  }
              }
          }

          fill(brush) {
              this.drawRectangle(0, 0, this.#elementArea.getWidth() - 1, this.#elementArea.getHeight() - 1, brush);
          }

          floodFill(x, y, brush, neighbourhood) {
              let floodFillPainter = new FloodFillPainter(this.#elementArea, neighbourhood, this);
              floodFillPainter.paint(x, y, brush);
          }

          replace(elementTarget, elementReplacement) {
              const width = this.getWidth();
              const height = this.getHeight();
              for (let y = 0; y < height; y++) {
                  for (let x = 0; x < width; x++) {
                      const next = this.#elementArea.getElement(x, y);
                      if (next.elementHead === elementTarget.elementHead && next.elementTail === elementTarget.elementTail) {
                          this.#elementArea.setElement(x, y, elementReplacement);
                      }
                  }
              }
          }

          getWidth() {
              return this.#elementArea.getWidth();
          }

          getHeight() {
              return this.#elementArea.getHeight();
          }
      }

      /**
       *
       * @author Patrik Harag
       * @version 2023-10-11
       */
      class Snapshot {

          /** @type SceneMetadata */
          metadata;

          /** @type ArrayBuffer */
          dataHeads;

          /** @type ArrayBuffer */
          dataTails;
      }

      /**
       *
       * @author Patrik Harag
       * @version 2023-08-20
       */
      class SceneMetadata {

          static CURRENT_FORMAT_VERSION = 3;


          /** @type number */
          formatVersion;

          /** @type number|undefined */
          created;

          /** @type number|undefined */
          width;

          /** @type number|undefined */
          height;

          /** @type number|undefined */
          scale;

          /** @type number|undefined */
          random;

          /** @type number|undefined */
          iteration;

          /** @type boolean|undefined */
          fallThroughEnabled;

          /** @type boolean|undefined */
          erasingEnabled;
      }

      /**
       *
       * @author Patrik Harag
       * @version 2023-05-16
       */
      class SpawningExtensionFish {

          #elementArea;
          #random;
          #processorContext;
          #brushHead = Brushes.FISH;
          #brushBody = Brushes.FISH_BODY;

          #counterStartValue = 2;
          #counter = 2;

          constructor(elementArea, random, processorContext) {
              this.#elementArea = elementArea;
              this.#random = random;
              this.#processorContext = processorContext;
          }

          run() {
              if (this.#counter-- === 0) {
                  this.#counter = this.#counterStartValue;

                  const x = this.#random.nextInt(this.#elementArea.getWidth() - 2) + 1;
                  const y = this.#random.nextInt(this.#elementArea.getHeight() - 2) + 1;

                  if (this.#couldSpawnHere(this.#elementArea, x, y)) {
                      this.#elementArea.setElement(x, y, this.#brushHead.apply(x, y, this.#random));
                      this.#processorContext.trigger(x, y);
                      this.#elementArea.setElement(x + 1, y, this.#brushBody.apply(x + 1, y, this.#random));
                      this.#processorContext.trigger(x + 1, y);

                      // increase difficulty of spawning fish again
                      this.#counterStartValue = this.#counterStartValue << 2;
                  }
              }
          }

          #couldSpawnHere(elementArea, x, y) {
              // space around
              if (x < 1 || y < 1) {
                  return false;
              }
              if (x + 1 >= elementArea.getWidth() || y + 1 >= elementArea.getHeight()) {
                  return false;
              }

              // water around
              if (!this.#isWater(elementArea, x, y) || !this.#isWater(elementArea, x - 1, y)
                  || !this.#isWater(elementArea, x + 1, y) || !this.#isWater(elementArea, x + 2, y)
                  || !this.#isWater(elementArea, x + 1, y + 1) || !this.#isWater(elementArea, x + 2, y + 1)
                  || !this.#isWater(elementArea, x + 1, y - 1) || !this.#isWater(elementArea, x + 2, y - 1)) {
                  return false;
              }

              // sand around
              return this.#isSand(elementArea, x, y + 2)
                  || this.#isSand(elementArea, x + 1, y + 2);
          }

          #isWater(elementArea, x, y) {
              if (!elementArea.isValidPosition(x, y)) {
                  return false;
              }
              const targetElementHead = elementArea.getElementHead(x, y);
              const type = ElementHead.getTypeClass(targetElementHead);
              return type === ElementHead.TYPE_FLUID;
          }

          #isSand(elementArea, x, y) {
              if (!elementArea.isValidPosition(x, y)) {
                  return false;
              }
              const targetElementHead = elementArea.getElementHead(x, y);
              const type = ElementHead.getTypeClass(targetElementHead);
              return type === ElementHead.TYPE_POWDER || type === ElementHead.TYPE_POWDER_WET;
          }
      }

      /**
       *
       * @author Patrik Harag
       * @version 2023-05-16
       */
      class SpawningExtensionGrass {
          static MAX_COUNTER_VALUE = 2;

          #elementArea;
          #random;
          #processorContext;
          #brush = Brushes.GRASS;

          #counter = SpawningExtensionGrass.MAX_COUNTER_VALUE;

          constructor(elementArea, random, processorContext) {
              this.#elementArea = elementArea;
              this.#random = random;
              this.#processorContext = processorContext;
          }

          run() {
              if (this.#counter-- === 0) {
                  this.#counter = SpawningExtensionGrass.MAX_COUNTER_VALUE;

                  const x = this.#random.nextInt(this.#elementArea.getWidth());
                  const y = this.#random.nextInt(this.#elementArea.getHeight() - 3) + 2;

                  if (ProcessorModuleGrass.canGrowUpHere(this.#elementArea, x, y)) {
                      this.#elementArea.setElement(x, y, this.#brush.apply(x, y, this.#random));
                      this.#processorContext.trigger(x, y);
                  }
              }
          }
      }

      /**
       *
       * @author Patrik Harag
       * @version 2023-05-16
       */
      class SpawningExtensionTree {
          static STARTING_COUNTER_VALUE = 1000;
          static MAX_COUNTER_VALUE = 4;

          #elementArea;
          #random;
          #processorContext;
          #brush = Brushes.TREE;

          #counter = SpawningExtensionTree.STARTING_COUNTER_VALUE;

          constructor(elementArea, random, processorContext) {
              this.#elementArea = elementArea;
              this.#random = random;
              this.#processorContext = processorContext;
          }

          run() {
              if (this.#counter-- === 0) {
                  this.#counter = SpawningExtensionTree.MAX_COUNTER_VALUE;

                  const x = this.#random.nextInt(this.#elementArea.getWidth() - 12) + 6;
                  const y = this.#random.nextInt(this.#elementArea.getHeight() - 16) + 15;

                  if (SpawningExtensionTree.couldGrowUpHere(this.#elementArea, x, y)) {
                      this.#elementArea.setElement(x, y, this.#brush.apply(x, y, this.#random));
                      this.#processorContext.trigger(x, y);
                  }
              }
          }

          static couldGrowUpHere(elementArea, x, y) {
              if (x < 0 || y < 12) {
                  return false;
              }
              if (x > elementArea.getWidth() - 5 || y > elementArea.getHeight() - 2) {
                  return false;
              }
              let e1 = elementArea.getElementHead(x, y);
              if (ElementHead.getBehaviour(e1) !== ElementHead.BEHAVIOUR_GRASS) {
                  return false;
              }
              let e2 = elementArea.getElementHead(x, y + 1);
              if (ElementHead.getBehaviour(e2) !== ElementHead.BEHAVIOUR_SOIL) {
                  return false;
              }

              // check space directly above
              for (let dy = 1; dy < 18; dy++) {
                  if (!SpawningExtensionTree.#isSpaceHere(elementArea, x, y - dy)) {
                      return false;
                  }
              }

              // check trees around
              for (let dx = -8; dx < 8; dx++) {
                  if (SpawningExtensionTree.#isOtherThreeThere(elementArea, x + dx, y - 4)) {
                      return false;
                  }
              }

              // check space above - left & right
              for (let dy = 10; dy < 15; dy++) {
                  if (!SpawningExtensionTree.#isSpaceHere(elementArea, x - 8, y - dy)) {
                      return false;
                  }
                  if (!SpawningExtensionTree.#isSpaceHere(elementArea, x + 8, y - dy)) {
                      return false;
                  }
              }

              return true;
          }

          static #isSpaceHere(elementArea, tx, ty) {
              let targetElementHead = elementArea.getElementHead(tx, ty);
              if (ElementHead.getTypeClass(targetElementHead) === ElementHead.TYPE_AIR) {
                  return true;
              }
              if (ElementHead.getBehaviour(targetElementHead) === ElementHead.BEHAVIOUR_GRASS) {
                  return true;
              }
              return false;
          }

          static #isOtherThreeThere(elementArea, tx, ty) {
              let targetElementHead = elementArea.getElementHead(tx, ty);
              let behaviour = ElementHead.getBehaviour(targetElementHead);
              if (behaviour === ElementHead.BEHAVIOUR_TREE_TRUNK || behaviour === ElementHead.BEHAVIOUR_TREE) {
                  return true;
              }
              return false;
          }
      }

      /**
       *
       * @author Patrik Harag
       * @version 2022-09-21
       */
      class TemplateBlockPainter {

          /** @type SandGameGraphics */
          #graphics;

          /** @type string|string[]|null */
          #blueprint = null;
          /** @type object|null */
          #brushes = null;

          /** @type number */
          #maxHeight = Number.MAX_SAFE_INTEGER;

          /** @type string */
          #verticalAlign = 'bottom';

          /**
           *
           * @param graphics {SandGameGraphics}
           */
          constructor(graphics) {
              this.#graphics = graphics;
          }

          /**
           *
           * @param blueprint {string|string[]}
           * @returns {TemplateBlockPainter}
           */
          withBlueprint(blueprint) {
              this.#blueprint = blueprint;
              return this;
          }

          /**
           *
           * @param brushes
           * @returns {TemplateBlockPainter}
           */
          withBrushes(brushes) {
              this.#brushes = brushes;
              return this;
          }

          /**
           *
           * @param maxHeight max template height
           * @param align {string} bottom|top
           * @returns {TemplateBlockPainter}
           */
          withMaxHeight(maxHeight, align = 'bottom') {
              this.#maxHeight = maxHeight;
              this.#verticalAlign = align;
              return this;
          }

          paint() {
              if (this.#blueprint === null || this.#blueprint.length === 0) {
                  throw 'Blueprint not set';
              }
              if (this.#brushes === null) {
                  throw 'Brushes not set';
              }

              const blueprint = (typeof this.#blueprint === 'string')
                  ? this.#blueprint.split('\n')
                  : this.#blueprint;

              const w = blueprint[0].length;
              const h = blueprint.length;

              const ww = Math.ceil(this.#graphics.getWidth() / w);
              const hh = Math.ceil(Math.min(this.#graphics.getHeight(), this.#maxHeight) / h);
              // note: rounding up is intentional - we don't want gaps, drawRectangle can handle drawing out of canvas

              const verticalOffset = (this.#verticalAlign === 'bottom' ? this.#graphics.getHeight() - (hh * h) : 0);

              for (let y = 0; y < h; y++) {
                  const line = blueprint[y];
                  for (let x = 0; x < Math.min(w, line.length); x++) {
                      const char = line.charAt(x);
                      let brush = this.#brushes[char];
                      if (brush === undefined) {
                          if (char === ' ') {
                              // let this cell empty
                              continue;
                          }
                          throw 'Brush not found: ' + char;
                      }
                      this.#graphics.drawRectangle(
                          x * ww, verticalOffset + (y * hh),
                          x * ww + ww, verticalOffset + (y * hh) + hh, brush);
                  }
              }
          }
      }

      var commonjsGlobal = typeof globalThis !== 'undefined' ? globalThis : typeof window !== 'undefined' ? window : typeof global !== 'undefined' ? global : typeof self !== 'undefined' ? self : {};

      var cubicSpline = class Spline {
        constructor(xs, ys) {
          this.xs = xs;
          this.ys = ys;
          this.ks = this.getNaturalKs(new Float64Array(this.xs.length));
        }

        getNaturalKs(ks) {
          const n = this.xs.length - 1;
          const A = zerosMat(n + 1, n + 2);

          for (
            let i = 1;
            i < n;
            i++ // rows
          ) {
            A[i][i - 1] = 1 / (this.xs[i] - this.xs[i - 1]);
            A[i][i] =
              2 *
              (1 / (this.xs[i] - this.xs[i - 1]) + 1 / (this.xs[i + 1] - this.xs[i]));
            A[i][i + 1] = 1 / (this.xs[i + 1] - this.xs[i]);
            A[i][n + 1] =
              3 *
              ((this.ys[i] - this.ys[i - 1]) /
                ((this.xs[i] - this.xs[i - 1]) * (this.xs[i] - this.xs[i - 1])) +
                (this.ys[i + 1] - this.ys[i]) /
                  ((this.xs[i + 1] - this.xs[i]) * (this.xs[i + 1] - this.xs[i])));
          }

          A[0][0] = 2 / (this.xs[1] - this.xs[0]);
          A[0][1] = 1 / (this.xs[1] - this.xs[0]);
          A[0][n + 1] =
            (3 * (this.ys[1] - this.ys[0])) /
            ((this.xs[1] - this.xs[0]) * (this.xs[1] - this.xs[0]));

          A[n][n - 1] = 1 / (this.xs[n] - this.xs[n - 1]);
          A[n][n] = 2 / (this.xs[n] - this.xs[n - 1]);
          A[n][n + 1] =
            (3 * (this.ys[n] - this.ys[n - 1])) /
            ((this.xs[n] - this.xs[n - 1]) * (this.xs[n] - this.xs[n - 1]));

          return solve(A, ks);
        }

        /**
         * inspired by https://stackoverflow.com/a/40850313/4417327
         */
        getIndexBefore(target) {
          let low = 0;
          let high = this.xs.length;
          let mid = 0;
          while (low < high) {
            mid = Math.floor((low + high) / 2);
            if (this.xs[mid] < target && mid !== low) {
              low = mid;
            } else if (this.xs[mid] >= target && mid !== high) {
              high = mid;
            } else {
              high = low;
            }
          }
          return low + 1;
        }

        at(x) {
          let i = this.getIndexBefore(x);
          const t = (x - this.xs[i - 1]) / (this.xs[i] - this.xs[i - 1]);
          const a =
            this.ks[i - 1] * (this.xs[i] - this.xs[i - 1]) -
            (this.ys[i] - this.ys[i - 1]);
          const b =
            -this.ks[i] * (this.xs[i] - this.xs[i - 1]) +
            (this.ys[i] - this.ys[i - 1]);
          const q =
            (1 - t) * this.ys[i - 1] +
            t * this.ys[i] +
            t * (1 - t) * (a * (1 - t) + b * t);
          return q;
        }
      };

      function solve(A, ks) {
        const m = A.length;
        let h = 0;
        let k = 0;
        while (h < m && k <= m) {
          let i_max = 0;
          let max = -Infinity;
          for (let i = h; i < m; i++) {
            const v = Math.abs(A[i][k]);
            if (v > max) {
              i_max = i;
              max = v;
            }
          }

          if (A[i_max][k] === 0) {
            k++;
          } else {
            swapRows(A, h, i_max);
            for (let i = h + 1; i < m; i++) {
              const f = A[i][k] / A[h][k];
              A[i][k] = 0;
              for (let j = k + 1; j <= m; j++) A[i][j] -= A[h][j] * f;
            }
            h++;
            k++;
          }
        }

        for (
          let i = m - 1;
          i >= 0;
          i-- // rows = columns
        ) {
          var v = 0;
          if (A[i][i]) {
            v = A[i][m] / A[i][i];
          }
          ks[i] = v;
          for (
            let j = i - 1;
            j >= 0;
            j-- // rows
          ) {
            A[j][m] -= A[j][i] * v;
            A[j][i] = 0;
          }
        }
        return ks;
      }

      function zerosMat(r, c) {
        const A = [];
        for (let i = 0; i < r; i++) A.push(new Float64Array(c));
        return A;
      }

      function swapRows(m, k, l) {
        let p = m[k];
        m[k] = m[l];
        m[l] = p;
      }

      /**
       *
       * @author Patrik Harag
       * @version 2023-02-25
       */
      class TemplateLayeredPainter {

          static #spline(points) {
              const xs = new Array(points.length);
              const ys = new Array(points.length);
              for (let i = 0; i < points.length; i++) {
                  xs[i] = points[i][0];
                  ys[i] = points[i][1];
              }
              const spline = new cubicSpline(xs, ys);
              return function (x) {
                  return Math.max(Math.trunc(spline.at(x)), 0);
              };
          }

          static #constant(height) {
              return function(x) {
                  return Math.trunc(height);
              };
          }


          /** @type ElementArea */
          #elementArea;

          /** @type SandGameGraphics */
          #graphics;

          /** @type DeterministicRandom */
          #random;

          /** @type ProcessorContext */
          #processorContext;

          #lastLevel;

          /**
           *
           * @param elementArea {ElementArea}
           * @param graphics {SandGameGraphics}
           * @param random {DeterministicRandom}
           * @param processorContext {ProcessorContext}
           */
          constructor(elementArea, graphics, random, processorContext) {
              this.#elementArea = elementArea;
              this.#graphics = graphics;
              this.#random = random;
              this.#processorContext = processorContext;
              this.#lastLevel = new Array(elementArea.getWidth()).fill(0);
          }

          layer(layer, relative, brush, shuffleWithLevelBelow = 0) {
              const f = (typeof layer === 'number')
                      ? TemplateLayeredPainter.#constant(layer)
                      : TemplateLayeredPainter.#spline(layer);

              for (let x = 0; x < this.#elementArea.getWidth(); x++) {
                  const lastLevel = this.#lastLevel[x];

                  const level = (relative)
                          ? lastLevel + f(x)
                          : f(x);

                  if (lastLevel < level) {
                      let count = 0;
                      for (let i = lastLevel; i < level && i < this.#elementArea.getHeight(); i++) {
                          let y = this.#elementArea.getHeight() - 1 - i;
                          this.#graphics.draw(x, y, brush);
                          count++;
                      }

                      // shuffle
                      if (shuffleWithLevelBelow > 0 && count > 0) {
                          for (let i = 0; i < shuffleWithLevelBelow; i++) {
                              const max = Math.min(Math.trunc(count / 2), 10);
                              if (max > 1) {
                                  const r = this.#random.nextInt(Math.ceil(max)) - Math.trunc(max / 2);
                                  const y1 = this.#elementArea.getHeight() - 1 - lastLevel + r;
                                  const y2 = this.#elementArea.getHeight() - 1 - lastLevel + r + 1;
                                  if (y1 < this.#elementArea.getHeight() && y2 < this.#elementArea.getHeight()) {
                                      this.#elementArea.swap(x, y1, x, y2);
                                  }
                              }
                          }
                      }

                      this.#lastLevel[x] = level;
                  }
              }
              return this;
          }

          grass() {
              for (let x = 0; x < this.#elementArea.getWidth(); x++) {
                  const lastLevel = this.#lastLevel[x];
                  const y = this.#elementArea.getHeight() - 1 - lastLevel;

                  if (ProcessorModuleGrass.canGrowUpHere(this.#elementArea, x, y)) {
                      ProcessorModuleGrass.spawnHere(this.#elementArea, x, y, Brushes.GRASS, this.#random);
                  }
              }
              return this;
          }

          tree(x, type = 0) {
              if (x <= 5 || x >= this.#elementArea.getWidth() - 5) {
                  return this;  // out of bounds
              }

              const lastLevel = this.#lastLevel[x];
              const y = this.#elementArea.getHeight() - 1 - lastLevel;

              ProcessorModuleTree.spawnHere(this.#elementArea, x, y, type, Brushes.TREE, this.#random, this.#processorContext);
              return this;
          }
      }

      /**
       *
       * @author Patrik Harag
       * @version 2023-08-27
       */
      class SandGame {

          /** @type ElementArea */
          #elementArea;

          /** @type number */
          #width;

          /** @type number */
          #height;

          /** @type DeterministicRandom */
          #random;

          /** @type Counter */
          #framesCounter;

          /** @type Counter */
          #iterationsCounter;

          /** @type Processor */
          #processor;

          /** @type Renderer */
          #renderer;

          /** @type number|null */
          #processorIntervalHandle = null;

          /** @type number|null */
          #rendererIntervalHandle = null;

          /** @type function[] */
          #onRendered = [];

          /** @type function[] */
          #onProcessed = [];

          /**
           *
           * @param elementArea {ElementArea}
           * @param sceneMetadata {SceneMetadata|null}
           * @param defaultElement {Element}
           * @param context {CanvasRenderingContext2D|WebGL2RenderingContext}
           * @param rendererInitializer {RendererInitializer}
           */
          constructor(elementArea, sceneMetadata, defaultElement, context, rendererInitializer) {
              this.#elementArea = elementArea;
              this.#random = new DeterministicRandom((sceneMetadata) ? sceneMetadata.random : 0);
              this.#framesCounter = new Counter();
              this.#iterationsCounter = new Counter();
              this.#processor = new Processor(this.#elementArea, 16, this.#random, defaultElement, sceneMetadata);
              this.#renderer = rendererInitializer.initialize(this.#elementArea, 16, context);
              this.#width = elementArea.getWidth();
              this.#height = elementArea.getHeight();

              let grassSpawningExt = new SpawningExtensionGrass(this.#elementArea, this.#random, this.#processor);
              this.#onProcessed.push(() => grassSpawningExt.run());
              let treeSpawningExt = new SpawningExtensionTree(this.#elementArea, this.#random, this.#processor);
              this.#onProcessed.push(() => treeSpawningExt.run());
              let fishSpawningExt = new SpawningExtensionFish(this.#elementArea, this.#random, this.#processor);
              this.#onProcessed.push(() => fishSpawningExt.run());
          }

          startProcessing() {
              if (this.#processorIntervalHandle === null) {
                  const interval = Math.trunc(1000 / Processor.OPT_CYCLES_PER_SECOND);  // ms
                  this.#processorIntervalHandle = setInterval(() => this.doProcessing(), interval);
              }
          }

          startRendering() {
              if (this.#rendererIntervalHandle === null) {
                  const interval = Math.trunc(1000 / Processor.OPT_FRAMES_PER_SECOND);  // ms
                  this.#rendererIntervalHandle = setInterval(() => this.doRendering(), interval);
              }
          }

          stopProcessing() {
              if (this.#processorIntervalHandle !== null) {
                  clearInterval(this.#processorIntervalHandle);
                  this.#processorIntervalHandle = null;
              }
              this.#iterationsCounter.clear();
          }

          stopRendering() {
              if (this.#rendererIntervalHandle !== null) {
                  clearInterval(this.#rendererIntervalHandle);
                  this.#rendererIntervalHandle = null;
              }
              this.#framesCounter.clear();
          }

          doProcessing() {
              this.#processor.next();
              const t = Date.now();
              this.#iterationsCounter.tick(t);
              for (let func of this.#onProcessed) {
                  func();
              }
          }

          doRendering() {
              const changedChunks = this.#processor.getChangedChunks();
              this.#renderer.render(changedChunks);
              const t = Date.now();
              this.#framesCounter.tick(t);
              for (let func of this.#onRendered) {
                  func(changedChunks);
              }
              this.#processor.cleanChangedChunks();
          }

          graphics() {
              return new SandGameGraphics(this.#elementArea, this.#random, (x, y) => {
                  this.#processor.trigger(x, y);
                  this.#renderer.trigger(x, y);
              });
          }

          blockTemplate() {
              return new TemplateBlockPainter(this.graphics());
          }

          layeredTemplate() {
              return new TemplateLayeredPainter(this.#elementArea, this.graphics(), this.#random, this.#processor);
          }

          setBoxedMode() {
              this.#processor.setFallThroughEnabled(false);
              this.#processor.setErasingEnabled(false);
          }

          setFallThroughMode() {
              this.#processor.setFallThroughEnabled(true);
              this.#processor.setErasingEnabled(false);
          }

          setErasingMode() {
              this.#processor.setFallThroughEnabled(false);
              this.#processor.setErasingEnabled(true);
          }

          addOnProcessed(handler) {
              this.#onProcessed.push(handler);
          }

          addOnRendered(handler) {
              this.#onRendered.push(handler);
          }

          getFramesPerSecond() {
              return this.#framesCounter.getValue();
          }

          getIterationsPerSecond() {
              return this.#iterationsCounter.getValue();
          }

          getWidth() {
              return this.#width;
          }

          getHeight() {
              return this.#height;
          }

          getChunkSize() {
              return 16;
          }

          copyStateTo(targetSandGame) {
              let sourceY0;
              let targetY0;
              if (targetSandGame.#height >= this.#height) {
                  sourceY0 = 0;
                  targetY0 = targetSandGame.#height - this.#height;
              } else {
                  sourceY0 = this.#height - targetSandGame.#height;
                  targetY0 = 0;
              }

              for (let y = 0; y < Math.min(this.#height, targetSandGame.#height); y++) {
                  for (let x = 0; x < Math.min(this.#width, targetSandGame.#width); x++) {
                      let elementHead = this.#elementArea.getElementHead(x, y + sourceY0);
                      let elementTail = this.#elementArea.getElementTail(x, y + sourceY0);
                      targetSandGame.#elementArea.setElementHead(x, targetY0 + y, elementHead);
                      targetSandGame.#elementArea.setElementTail(x, targetY0 + y, elementTail);
                  }
              }
              targetSandGame.#processor.setFallThroughEnabled(this.#processor.isFallThroughEnabled());
              targetSandGame.#processor.setErasingEnabled(this.#processor.isErasingEnabled());
          }

          /**
           * @returns {Snapshot}
           */
          createSnapshot() {
              let metadata = new SceneMetadata();
              metadata.formatVersion = SceneMetadata.CURRENT_FORMAT_VERSION;
              metadata.created = new Date().getTime();
              metadata.width = this.#width;
              metadata.height = this.#height;
              metadata.random = this.#random.getState();
              metadata.iteration = this.#processor.getIteration();
              metadata.fallThroughEnabled = this.#processor.isFallThroughEnabled();
              metadata.erasingEnabled = this.#processor.isErasingEnabled();

              let snapshot = new Snapshot();
              snapshot.metadata = metadata;
              snapshot.dataHeads = this.#elementArea.getDataHeads();
              snapshot.dataTails = this.#elementArea.getDataTails();
              return snapshot;
          }

          debugElementAt(x, y) {
              if (!this.#elementArea.isValidPosition(x, y)) {
                  return 'Out of bounds';
              }

              const elementHead = this.#elementArea.getElementHead(x, y);
              const elementTail = this.#elementArea.getElementTail(x, y);
              const json = {
                  type: {
                      'class': ElementHead.getTypeClass(elementHead)
                  },
                  behaviour: ElementHead.getBehaviour(elementHead),
                  special: ElementHead.getSpecial(elementHead),
                  flammableType: ElementHead.getFlammableType(elementHead),
                  flameHeatType: ElementHead.getFlameHeatType(elementHead),
                  burnableType: ElementHead.getBurnableType(elementHead),
                  temperature: ElementHead.getTemperature(elementHead),
                  color: [
                      ElementTail.getColorRed(elementTail),
                      ElementTail.getColorGreen(elementTail),
                      ElementTail.getColorBlue(elementTail)
                  ],
                  blurType: ElementTail.getBlurType(elementTail),
                  burntLevel: ElementTail.getBurntLevel(elementTail)
              };

              let result = JSON.stringify(json)
                      .replaceAll('"', '')
                      .replaceAll(',', ', ')
                      .replaceAll(':', '=');
              return result.substring(1, result.length - 1);  // remove {}
          }
      }

      /**
       * @interface
       *
       * @author Patrik Harag
       * @version 2023-08-27
       */
      class Scene {

          /**
           * @returns [width: number, height: number]
           */
          countSize(prefWidth, prefHeight) {
              throw 'Not implemented';
          }

          /**
           * @param prefWidth {number}
           * @param prefHeight {number}
           * @param defaultElement {Element}
           * @param context {CanvasRenderingContext2D|WebGL2RenderingContext}
           * @param rendererInitializer {RendererInitializer}
           * @returns SandGame
           */
          createSandGame(prefWidth, prefHeight, defaultElement, context, rendererInitializer) {
              throw 'Not implemented';
          }

          /**
           * @param prefWidth
           * @param prefHeight
           * @param defaultElement
           * @returns ElementArea
           */
          createElementArea(prefWidth, prefHeight, defaultElement) {
              throw 'Not implemented';
          }
      }

      /**
       *
       * @author Patrik Harag
       * @version 2023-04-29
       */
      class SceneImplHardcoded extends Scene {

          name;
          description;

          #apply;

          constructor({name, description, apply}) {
              super();
              this.#apply = apply;
              this.name = name;
              this.description = description;
          }

          countSize(prefWidth, prefHeight) {
              return [prefWidth, prefHeight];
          }

          createSandGame(prefWidth, prefHeight, defaultElement, context, rendererInitializer) {
              let elementArea = this.createElementArea(prefWidth, prefHeight, defaultElement);
              let sandGame = new SandGame(elementArea, null, defaultElement, context, rendererInitializer);
              this.#apply(sandGame);
              return sandGame;
          }

          createElementArea(prefWidth, prefHeight, defaultElement) {
              return ElementArea.create(prefWidth, prefHeight, defaultElement);
          }
      }

      /**
       *
       * @author Patrik Harag
       * @version 2023-08-20
       */
      class Scenes {

          /** @type Scene */
          static SCENE_EMPTY = new SceneImplHardcoded({
              name: 'Empty',
              description: 'Boxed mode',
              apply: function (sandGame) {
                  sandGame.setBoxedMode();
                  // empty
              }
          });

          /** @type Scene */
          static SCENE_LANDSCAPE_1 = new SceneImplHardcoded({
              name: 'Landscape 1',
              description: 'Boxed mode',
              apply: function (sandGame) {
                  sandGame.setBoxedMode();
                  sandGame.blockTemplate()
                      .withMaxHeight(120)
                      .withBlueprint([
                          '          ',
                          '     ww   ',
                          '          ',
                          '   11     ',
                          ' 2 11111 2',
                          ' 222    22',
                          '222    222',
                          '2222222222',
                          '          ',
                      ])
                      .withBrushes({
                          w: Brush.withIntensity(Brushes.WATER, 0.95),
                          1: Brushes.SAND,
                          2: Brushes.SOIL,
                          3: Brushes.STONE
                      })
                      .paint();
              }
          });

          static SCENE_LANDSCAPE_2 = new SceneImplHardcoded({
              name: 'Landscape 2',
              description: 'Boxed mode',
              apply: function (sandGame) {
                  sandGame.setBoxedMode();
                  sandGame.layeredTemplate()
                      .layer([[0, 20], [50, 15], [100, 10], [150, 10], [200, 10], [250, 10], [1250, 10]],
                          true, Brushes.STONE)
                      .layer([[0, 30], [25, 31], [50, 27], [100, 15], [150, 0], [200, 5], [220, 15], [300, 35], [330, 37],
                              [370, 50], [400, 45], [500, 40], [1250, 40]],
                          true, Brushes.SOIL, 30)
                      .layer([[0, 0], [50, 0], [100, 10], [150, 10], [200, 9], [275, 0], [1250, 0]],
                          true, Brushes.SAND, 5)
                      .layer(35, false, Brushes.WATER)
                      .layer(36, false, Brush.withIntensity(Brushes.WATER, 0.33))
                      .grass()
                      .tree(16, 4)
                      .tree(28, 6)
                      .tree(45, 3)
                      .tree(309, 1)
                      .tree(336, 5)
                      .tree(361, 7);
              }
          });

          /** @type Scene */
          static SCENE_FALLTHROUGH = new SceneImplHardcoded({
              name: 'Fall-through',
              description: 'Fall-through mode',
              apply: function (sandGame) {
                  sandGame.setFallThroughMode();
                  const graphics = sandGame.graphics();
                  const xo = Math.trunc((sandGame.getWidth() - 150) / 2 - 15);
                  const yo = Math.trunc((sandGame.getHeight() - 150) / 2);
                  graphics.drawRectangle(40 + xo, 20 + yo, 60 + xo, 40 + yo, Brushes.WATER);
                  graphics.drawLine(30 + xo, 30 + yo, 30 + xo, 50 + yo, 5, Brushes.WALL, true);
                  graphics.drawLine(30 + xo, 50 + yo, 70 + xo, 80 + yo, 5, Brushes.WALL, true);
                  graphics.drawLine(65 + xo, 90 + yo, 100 + xo, 100 + yo, 5, Brushes.WALL, true);
                  graphics.drawLine(55 + xo, 140 + yo, 125 + xo, 140 + yo, 10, Brushes.WALL, false);
                  graphics.drawLine(55 + xo, 130 + yo, 55 + xo, 140 + yo, 10, Brushes.WALL, false);
                  graphics.drawLine(70 + xo, 125 + yo, 90 + xo, 125 + yo, 10, Brushes.SAND, false);
                  graphics.draw(120 + xo, 130 + yo, Brushes.SAND);
                  graphics.drawLine(150 + xo, 10 + yo, 80 + xo, 35 + yo, 5, Brushes.WALL, true);
                  graphics.drawLine(80 + xo, 35 + yo, 80 + xo, 15 + yo, 5, Brushes.WALL, true);
              }
          });

          /** @type Scene */
          static SCENE_PLATFORM = new SceneImplHardcoded({
              name: 'Platform',
              description: 'Erasing mode',
              apply: function (sandGame) {
                  sandGame.setErasingMode();
                  sandGame.blockTemplate()
                      .withBlueprint([
                          '          ',
                          '          ',
                          '        w ',
                          '        w ',
                          '          ',
                          '          ',
                          ' ssssssss ',
                          '          ',
                          '          ',
                      ])
                      .withBrushes({
                          w: Brushes.SAND,
                          s: Brushes.WALL
                      })
                      .paint();
              }
          });

          static SCENES = {
              empty: Scenes.SCENE_EMPTY,
              landscape_1: Scenes.SCENE_LANDSCAPE_1,
              landscape_2: Scenes.SCENE_LANDSCAPE_2,
              fallthrough: Scenes.SCENE_FALLTHROUGH,
              platform: Scenes.SCENE_PLATFORM
          };
      }

      /**
       *
       * @author Patrik Harag
       * @version 2023-04-29
       */
      class SceneImplTmpResize extends Scene {

          /**
           * @type SandGame
           */
          #sandGame;

          constructor(sandGame) {
              super();
              this.#sandGame = sandGame;
          }

          countSize(prefWidth, prefHeight) {
              return [prefWidth, prefHeight];
          }

          createSandGame(prefWidth, prefHeight, defaultElement, context, rendererInitializer) {
              let elementArea = this.createElementArea(prefWidth, prefHeight, defaultElement);
              let sandGame = new SandGame(elementArea, null, defaultElement, context, rendererInitializer);
              this.#sandGame.copyStateTo(sandGame);
              return sandGame;
          }

          createElementArea(prefWidth, prefHeight, defaultElement) {
              return ElementArea.create(prefWidth, prefHeight, defaultElement);
          }
      }

      /**
       *
       * @author Patrik Harag
       * @version 2023-07-23
       */
      class ServiceToolManager {

          #primaryTool = Tools.byCodeName('sand');
          #secondaryTool = Tools.byCodeName('air');
          #tertiaryTool = Tools.byCodeName('meteor');

          /** @type function(Tool)[] */
          #onPrimaryToolChanged = [];

          /**
           *
           * @param tool {Tool}
           * @returns void
           */
          setPrimaryTool(tool) {
              this.#primaryTool = tool;
              for (let handler of this.#onPrimaryToolChanged) {
                  handler(tool);
              }
          }

          /**
           *
           * @param tool {Tool}
           * @returns void
           */
          setSecondaryTool(tool) {
              this.#secondaryTool = tool;
          }

          /**
           *
           * @param tool {Tool}
           * @returns void
           */
          setTertiaryTool(tool) {
              this.#tertiaryTool = tool;
          }

          /**
           * @returns {Tool}
           */
          getPrimaryTool() {
              return this.#primaryTool;
          }

          /**
           * @returns {Tool}
           */
          getSecondaryTool() {
              return this.#secondaryTool;
          }

          /**
           * @returns {Tool}
           */
          getTertiaryTool() {
              return this.#tertiaryTool;
          }

          /**
           *
           * @param handler {function(Tool)}
           */
          addOnPrimaryToolChanged(handler) {
              this.#onPrimaryToolChanged.push(handler);
          }

          createRevertAction() {
              const oldPrimary = this.getPrimaryTool();
              const oldSecondary = this.getSecondaryTool();
              const oldTertiary = this.getTertiaryTool();
              return () => {
                  this.setPrimaryTool(oldPrimary);
                  this.setSecondaryTool(oldSecondary);
                  this.setTertiaryTool(oldTertiary);
              };
          }
      }

      /**
       *
       * @version 2023-04-28
       * @author Patrik Harag
       */
      class DomBuilder {

          /**
           *
           * @param html {string}
           * @return {jQuery<HTMLElement>}
           */
          static create(html) {
              return $(html);
          }

          /**
           *
           * @param name {string}
           * @param attributes {object|null}
           * @param content {null|string|jQuery<HTMLElement>|jQuery<HTMLElement>[]}
           * @return {jQuery<HTMLElement>}
           */
          static element(name, attributes = null, content = null) {
              let element = $(`<${name}>`);
              if (attributes !== null) {
                  for (let key in attributes) {
                      element.attr(key, attributes[key]);
                  }
              }
              if (content === null) ; else if (typeof content === 'string') {
                  element.text(content);
              } else {
                  element.append(content);
              }
              return element;
          }

          /**
           *
           * @param attributes {object|null}
           * @param content {null|jQuery<HTMLElement>|jQuery<HTMLElement>[]}
           * @return {jQuery<HTMLElement>}
           */
          static div(attributes = null, content = null) {
              return DomBuilder.element('div', attributes, content);
          }

          /**
           *
           * @param attributes {object|null}
           * @param content {null|string|jQuery<HTMLElement>|jQuery<HTMLElement>[]}
           * @return {jQuery<HTMLElement>}
           */
          static par(attributes = null, content = null) {
              return DomBuilder.element('p', attributes, content);
          }

          /**
           *
           * @param text {string|null}
           * @param attributes {object|null}
           * @return {jQuery<HTMLElement>}
           */
          static span(text = null, attributes = null) {
              return DomBuilder.element('span', attributes, text);
          }

          /**
           *
           * @param text {string}
           * @param attributes {object|null}
           * @param handler {function(e)}
           * @return {jQuery<HTMLElement>}
           */
          static link(text, attributes = null, handler = null) {
              let link = DomBuilder.element('a', attributes, text);
              if (handler !== null) {
                  link.attr('href', 'javascript:void(0)');
                  link.on("click", handler);
              }
              return link;
          }

          /**
           *
           * @param label {string|jQuery<HTMLElement>|jQuery<HTMLElement>[]}
           * @param attributes {object|null}
           * @param handler {function(e)}
           * @return {jQuery<HTMLElement>}
           */
          static button(label, attributes = null, handler = null) {
              if (attributes === null) {
                  attributes = {};
              }
              attributes['type'] = 'button';

              let button = DomBuilder.element('button', attributes, label);
              if (handler !== null) {
                  button.on("click", handler);
              }
              return button;
          }
      }

      /**
       *
       * @version 2022-10-02
       * @author Patrik Harag
       */
      DomBuilder.Bootstrap = class {

          /**
           *
           * @param headerContent {string|jQuery<HTMLElement>|jQuery<HTMLElement>[]}
           * @param bodyContent {string|jQuery<HTMLElement>|jQuery<HTMLElement>[]}
           * @param attributes {object|null}
           * @return {jQuery<HTMLElement>}
           */
          static card(headerContent, bodyContent, attributes = null) {
              if (attributes === null) {
                  attributes = {};
              }
              if (attributes.class === undefined) {
                  attributes.class = 'card';
              }

              let card = DomBuilder.div(attributes);

              if (headerContent) {
                  card.append(DomBuilder.div({ class: 'card-header' }, headerContent));
              }

              card.append(DomBuilder.div({ class: 'card-body' }, bodyContent));
              return card;
          }

          /**
           *
           * @param title {string}
           * @param collapsed {boolean}
           * @param bodyContent {string|jQuery<HTMLElement>|jQuery<HTMLElement>[]}
           * @return {jQuery<HTMLElement>}
           */
          static cardCollapsable(title, collapsed, bodyContent) {
              let id = 'collapsable_' + Math.floor(Math.random() * 999_999_999);

              return DomBuilder.div({ class: 'card' }, [
                  DomBuilder.div({ class: 'card-header' }, [
                      DomBuilder.element('a', { class: 'card-link', 'data-toggle': 'collapse', href: '#' + id}, title)
                  ]),
                  DomBuilder.div({ id: id, class: (collapsed ? 'collapse' : 'collapse show') }, [
                      DomBuilder.div({ class: 'card-body' }, bodyContent)
                  ])
              ]);
          }

          /**
           *
           * @param node {jQuery<HTMLElement>}
           * @param content {string|jQuery<HTMLElement>}
           * @return {jQuery<HTMLElement>}
           */
          static initTooltip(content, node) {
              node.tooltip('dispose');  // remove old one if present

              node.attr('data-toggle', 'tooltip');
              node.attr('data-placement', 'top');
              if (typeof content === 'object') {
                  node.attr('data-html', 'true');
                  node.attr('title', content.html());
              } else {
                  node.attr('title', content);
              }
              node.tooltip();
              return node;
          }

          /**
           *
           * @param text {string}
           * @param checked {boolean}
           * @param handler {function(boolean)}
           * @return {jQuery<HTMLElement>}
           */
          static switchButton(text, checked, handler = null) {
              let id = 'switch-button_' + Math.floor(Math.random() * 999_999_999);

              let switchInput = DomBuilder.element('input', {
                  type: 'checkbox',
                  id: id,
                  class: 'custom-control-input',
                  style: 'width: min-content;'
              });
              if (checked) {
                  switchInput.attr('checked', 'true');
              }

              let control = DomBuilder.div({ class: 'custom-control custom-switch' }, [
                  switchInput,
                  DomBuilder.element('label', { class: 'custom-control-label', for: id }, text)
              ]);

              if (handler !== null) {
                  switchInput.on('click', () => {
                      let checked = switchInput.prop('checked');
                      handler(checked);
                  });
              }
              return control;
          }
      };

      /**
       *
       * @version 2022-03-18
       * @author Patrik Harag
       */
      DomBuilder.BootstrapTable = class {

          #tableBody = DomBuilder.element('tbody');

          addRow(row) {
              this.#tableBody.append(row);
          }

          createNode() {
              return DomBuilder.div({ class: 'table-responsive' })
                  .append(DomBuilder.element('table', { class: 'table table-striped' })
                      .append(this.#tableBody))
          }
      };

      /**
       *
       * @version 2023-02-20
       * @author Patrik Harag
       */
      DomBuilder.BootstrapDialog = class {

          // will be removed after close
          #persistent = false;

          #headerNode = null;
          #bodyNode = null;
          #footerNodeChildren = [];

          #dialog = null;


          setPersistent(persistent) {
              this.#persistent = persistent;
          }

          setHeaderContent(headerNode) {
              if (typeof headerNode === 'string') {
                  this.#headerNode = DomBuilder.element('strong', null, headerNode);
              } else {
                  this.#headerNode = headerNode;
              }
          }

          setBodyContent(bodyNode) {
              this.#bodyNode = bodyNode;
          }

          addCloseButton(buttonText) {
              let button = $(`<button type="button" class="btn btn-secondary" data-dismiss="modal"></button>`)
                  .text(buttonText);
              this.#footerNodeChildren.push(button);
          }

          addSubmitButton(buttonText, handler) {
              let button = $(`<button type="button" class="btn btn-primary" data-dismiss="modal"></button>`)
                  .text(buttonText)
                  .on("click", handler);

              this.#footerNodeChildren.push(button);
          }

          addButton(button) {
              this.#footerNodeChildren.push(button);
          }

          show(dialogAnchor) {
              if (this.#dialog === null) {
                  this.#dialog = $(`<div class="modal fade" tabindex="-1" role="dialog" aria-hidden="true"></div>`)
                      .append($(`<div class="modal-dialog modal-dialog-centered"></div>`)
                          .append($(`<div class="modal-content"></div>`)
                              .append($(`<div class="modal-header"></div>`).append(this.#headerNode))
                              .append($(`<div class="modal-body"></div>`).append(this.#bodyNode))
                              .append($(`<div class="modal-footer"></div>`).append(this.#footerNodeChildren))
                          )
                      );

                  // add into DOM
                  dialogAnchor.append(this.#dialog);
              }

              if (!this.#persistent) {
                  // remove from DOM after hide
                  this.#dialog.on('hidden.bs.modal', () => {
                      this.#dialog.remove();
                  });
              }

              this.#dialog.modal('show');
          }

          hide() {
              if (this.#dialog !== null) {
                  this.#dialog.modal('hide');
              }
          }
      };

      /**
       *
       * @version 2023-10-15
       * @author Patrik Harag
       */
      DomBuilder.BootstrapToast = class {

          #headerNode = null;
          #bodyNode = null;

          #toast = null;

          #dataDelay = 20000;  // ms

          setHeaderContent(headerNode) {
              if (typeof headerNode === 'string') {
                  headerNode = DomBuilder.element('strong', headerNode);
              }
              this.#headerNode = DomBuilder.span(headerNode, { class: 'mr-auto' });
          }

          setBodyContent(bodyNode) {
              this.#bodyNode = bodyNode;
          }

          setDelay(milliseconds) {
              this.#dataDelay = milliseconds;
          }

          show(dialogAnchor) {
              const wrapper = $(`<div class="position-fixed bottom-0 right-0 p-3" style="z-index: 5; right: 0; bottom: 0;"></div>`)
                  .append(this.#toast = $(`<div class="toast hide" role="alert" aria-live="assertive" aria-atomic="true" data-delay="${this.#dataDelay}">`)
                      .append($(`<div class="toast-header"></div>`)
                          .append(this.#headerNode)
                          .append($(`<button type="button" class="ml-2 mb-1 close" data-dismiss="toast" aria-label="Close"></button>`)
                              .append($(`<span aria-hidden="true">&times;</span>`))
                          )
                      )
                      .append($(`<div class="toast-body"></div>`)
                          .append(this.#bodyNode)
                      )
                  );

              // add into DOM
              dialogAnchor.append(wrapper);

              // remove from DOM after hide
              this.#toast.on('hidden.bs.toast', () => {
                  wrapper.remove();
              });

              this.#toast.toast('show');
          }

          hide() {
              if (this.#toast !== null) {
                  this.#toast.toast('hide');
              }
          }
      };

      /**
       *
       * @version 2022-09-24
       * @author Patrik Harag
       */
      DomBuilder.BootstrapSimpleForm = class {

          #formFields = [];
          #submitButton = null;

          addTextArea(label, key, initialValue = '', rows = 8) {
              let input = DomBuilder.element('textarea', { class: 'form-control', rows: rows }, initialValue);
              this.#formFields.push({
                  key: key,
                  label: label,
                  input: input
              });
              return input;
          }

          addInput(label, key, initialValue = '') {
              let input = DomBuilder.element('input', { class: 'form-control' });
              if (initialValue) {
                  input.val(initialValue);
              }
              this.#formFields.push({
                  key: key,
                  label: label,
                  input: input
              });
              return input;
          }

          addSubmitButton(text, handler) {
              this.#submitButton = DomBuilder.button(text, { class: 'btn btn-primary' }, e => {
                  handler(this.getData());
              });
          }

          createNode() {
              let form = DomBuilder.element('form', { action: 'javascript:void(0);' });

              for (let formField of this.#formFields) {
                  form.append(DomBuilder.div({ class: 'form-group' }, [
                      DomBuilder.element('label', null, formField.label),
                      formField.input
                  ]));
              }

              if (this.#submitButton) {
                  form.append(this.#submitButton);
              }

              return form;
          }

          getData() {
              let data = {};
              for (let formField of this.#formFields) {
                  data[formField.key] = formField.input.val();
              }
              return data;
          }
      };

      /**
       *
       * @author Patrik Harag
       * @version 2023-04-28
       */
      class SceneImplSnapshot extends Scene {

          /**
           * @type Snapshot
           */
          #snapshot;

          /**
           *
           * @param snapshot {Snapshot}
           */
          constructor(snapshot) {
              super();
              this.#snapshot = snapshot;
          }

          countSize(prefWidth, prefHeight) {
              return [this.#snapshot.metadata.width, this.#snapshot.metadata.height];
          }

          createSandGame(prefWidth, prefHeight, defaultElement, context, rendererInitializer) {
              let elementArea = this.createElementArea(prefWidth, prefHeight, defaultElement);
              return new SandGame(elementArea, this.#snapshot.metadata, defaultElement, context, rendererInitializer);
          }

          createElementArea(prefWidth, prefHeight, defaultElement) {
              return ElementArea.from(
                      this.#snapshot.metadata.width,
                      this.#snapshot.metadata.height,
                      this.#snapshot.dataHeads,
                      this.#snapshot.dataTails);
          }
      }

      /**
       *
       * @author Patrik Harag
       * @version 2023-05-16
       */
      class SceneImplTemplate extends Scene {

          /**
           * @type ElementArea
           */
          #elementArea;

          /**
           *
           * @param elementArea {ElementArea}
           */
          constructor(elementArea) {
              super();
              this.#elementArea = elementArea;
          }

          countSize(prefWidth, prefHeight) {
              return [this.#elementArea.getWidth(), this.#elementArea.getHeight()];
          }

          createSandGame(prefWidth, prefHeight, defaultElement, context, rendererInitializer) {
              let elementArea = this.createElementArea(prefWidth, prefHeight, defaultElement);
              return new SandGame(elementArea, null, defaultElement, context, rendererInitializer);
          }

          createElementArea(prefWidth, prefHeight, defaultElement) {
              return ElementArea.from(
                      this.#elementArea.getWidth(),
                      this.#elementArea.getHeight(),
                      this.#elementArea.getDataHeads(),
                      this.#elementArea.getDataTails());
          }
      }

      /**
       * Create flipped scene using object composition.
       *
       * @author Patrik Harag
       * @version 2023-07-23
       */
      class SceneImplModFlip extends Scene {

          /**
           * @type Scene
           */
          #original;

          #flipHorizontally;
          #flipVertically;

          constructor(scene, flipHorizontally, flipVertically) {
              super();
              this.#original = scene;
              this.#flipHorizontally = flipHorizontally;
              this.#flipVertically = flipVertically;
          }

          countSize(prefWidth, prefHeight) {
              this.#original.countSize(prefWidth, prefHeight);
          }

          createSandGame(prefWidth, prefHeight, defaultElement, context, rendererInitializer) {
              let elementArea = this.createElementArea(prefWidth, prefHeight, defaultElement);
              return new SandGame(elementArea, null, defaultElement, context, rendererInitializer);
              // TODO: sceneMetadata not set
          }

          createElementArea(prefWidth, prefHeight, defaultElement) {
              const elementArea = this.#original.createElementArea(prefWidth, prefHeight, defaultElement);

              const width = elementArea.getWidth();
              const height = elementArea.getHeight();

              if (this.#flipHorizontally) {
                  for (let y = 0; y < height; y++) {
                      for (let x = 0; x < Math.trunc(width / 2); x++) {
                          elementArea.swap(x, y, width - 1 - x, y);
                      }
                  }
              }

              if (this.#flipVertically) {
                  for (let y = 0; y < Math.trunc(height / 2); y++) {
                      for (let x = 0; x < width; x++) {
                          elementArea.swap(x, y, x, height - 1 - y);
                      }
                  }
              }

              return elementArea;
          }
      }

      // DEFLATE is a complex format; to read this code, you should probably check the RFC first:

      // aliases for shorter compressed code (most minifers don't do this)
      var u8 = Uint8Array, u16 = Uint16Array, u32 = Uint32Array;
      // fixed length extra bits
      var fleb = new u8([0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 2, 2, 2, 2, 3, 3, 3, 3, 4, 4, 4, 4, 5, 5, 5, 5, 0, /* unused */ 0, 0, /* impossible */ 0]);
      // fixed distance extra bits
      // see fleb note
      var fdeb = new u8([0, 0, 0, 0, 1, 1, 2, 2, 3, 3, 4, 4, 5, 5, 6, 6, 7, 7, 8, 8, 9, 9, 10, 10, 11, 11, 12, 12, 13, 13, /* unused */ 0, 0]);
      // code length index map
      var clim = new u8([16, 17, 18, 0, 8, 7, 9, 6, 10, 5, 11, 4, 12, 3, 13, 2, 14, 1, 15]);
      // get base, reverse index map from extra bits
      var freb = function (eb, start) {
          var b = new u16(31);
          for (var i = 0; i < 31; ++i) {
              b[i] = start += 1 << eb[i - 1];
          }
          // numbers here are at max 18 bits
          var r = new u32(b[30]);
          for (var i = 1; i < 30; ++i) {
              for (var j = b[i]; j < b[i + 1]; ++j) {
                  r[j] = ((j - b[i]) << 5) | i;
              }
          }
          return [b, r];
      };
      var _a = freb(fleb, 2), fl = _a[0], revfl = _a[1];
      // we can ignore the fact that the other numbers are wrong; they never happen anyway
      fl[28] = 258, revfl[258] = 28;
      var _b = freb(fdeb, 0), fd = _b[0], revfd = _b[1];
      // map of value to reverse (assuming 16 bits)
      var rev = new u16(32768);
      for (var i = 0; i < 32768; ++i) {
          // reverse table algorithm from SO
          var x = ((i & 0xAAAA) >>> 1) | ((i & 0x5555) << 1);
          x = ((x & 0xCCCC) >>> 2) | ((x & 0x3333) << 2);
          x = ((x & 0xF0F0) >>> 4) | ((x & 0x0F0F) << 4);
          rev[i] = (((x & 0xFF00) >>> 8) | ((x & 0x00FF) << 8)) >>> 1;
      }
      // create huffman tree from u8 "map": index -> code length for code index
      // mb (max bits) must be at most 15
      // TODO: optimize/split up?
      var hMap = (function (cd, mb, r) {
          var s = cd.length;
          // index
          var i = 0;
          // u16 "map": index -> # of codes with bit length = index
          var l = new u16(mb);
          // length of cd must be 288 (total # of codes)
          for (; i < s; ++i) {
              if (cd[i])
                  ++l[cd[i] - 1];
          }
          // u16 "map": index -> minimum code for bit length = index
          var le = new u16(mb);
          for (i = 0; i < mb; ++i) {
              le[i] = (le[i - 1] + l[i - 1]) << 1;
          }
          var co;
          if (r) {
              // u16 "map": index -> number of actual bits, symbol for code
              co = new u16(1 << mb);
              // bits to remove for reverser
              var rvb = 15 - mb;
              for (i = 0; i < s; ++i) {
                  // ignore 0 lengths
                  if (cd[i]) {
                      // num encoding both symbol and bits read
                      var sv = (i << 4) | cd[i];
                      // free bits
                      var r_1 = mb - cd[i];
                      // start value
                      var v = le[cd[i] - 1]++ << r_1;
                      // m is end value
                      for (var m = v | ((1 << r_1) - 1); v <= m; ++v) {
                          // every 16 bit value starting with the code yields the same result
                          co[rev[v] >>> rvb] = sv;
                      }
                  }
              }
          }
          else {
              co = new u16(s);
              for (i = 0; i < s; ++i) {
                  if (cd[i]) {
                      co[i] = rev[le[cd[i] - 1]++] >>> (15 - cd[i]);
                  }
              }
          }
          return co;
      });
      // fixed length tree
      var flt = new u8(288);
      for (var i = 0; i < 144; ++i)
          flt[i] = 8;
      for (var i = 144; i < 256; ++i)
          flt[i] = 9;
      for (var i = 256; i < 280; ++i)
          flt[i] = 7;
      for (var i = 280; i < 288; ++i)
          flt[i] = 8;
      // fixed distance tree
      var fdt = new u8(32);
      for (var i = 0; i < 32; ++i)
          fdt[i] = 5;
      // fixed length map
      var flm = /*#__PURE__*/ hMap(flt, 9, 0), flrm = /*#__PURE__*/ hMap(flt, 9, 1);
      // fixed distance map
      var fdm = /*#__PURE__*/ hMap(fdt, 5, 0), fdrm = /*#__PURE__*/ hMap(fdt, 5, 1);
      // find max of array
      var max = function (a) {
          var m = a[0];
          for (var i = 1; i < a.length; ++i) {
              if (a[i] > m)
                  m = a[i];
          }
          return m;
      };
      // read d, starting at bit p and mask with m
      var bits = function (d, p, m) {
          var o = (p / 8) | 0;
          return ((d[o] | (d[o + 1] << 8)) >> (p & 7)) & m;
      };
      // read d, starting at bit p continuing for at least 16 bits
      var bits16 = function (d, p) {
          var o = (p / 8) | 0;
          return ((d[o] | (d[o + 1] << 8) | (d[o + 2] << 16)) >> (p & 7));
      };
      // get end of byte
      var shft = function (p) { return ((p + 7) / 8) | 0; };
      // typed array slice - allows garbage collector to free original reference,
      // while being more compatible than .slice
      var slc = function (v, s, e) {
          if (s == null || s < 0)
              s = 0;
          if (e == null || e > v.length)
              e = v.length;
          // can't use .constructor in case user-supplied
          var n = new (v.BYTES_PER_ELEMENT == 2 ? u16 : v.BYTES_PER_ELEMENT == 4 ? u32 : u8)(e - s);
          n.set(v.subarray(s, e));
          return n;
      };
      // error codes
      var ec = [
          'unexpected EOF',
          'invalid block type',
          'invalid length/literal',
          'invalid distance',
          'stream finished',
          'no stream handler',
          ,
          'no callback',
          'invalid UTF-8 data',
          'extra field too long',
          'date not in range 1980-2099',
          'filename too long',
          'stream finishing',
          'invalid zip data'
          // determined by unknown compression method
      ];
      var err = function (ind, msg, nt) {
          var e = new Error(msg || ec[ind]);
          e.code = ind;
          if (Error.captureStackTrace)
              Error.captureStackTrace(e, err);
          if (!nt)
              throw e;
          return e;
      };
      // expands raw DEFLATE data
      var inflt = function (dat, buf, st) {
          // source length
          var sl = dat.length;
          if (!sl || (st && st.f && !st.l))
              return buf || new u8(0);
          // have to estimate size
          var noBuf = !buf || st;
          // no state
          var noSt = !st || st.i;
          if (!st)
              st = {};
          // Assumes roughly 33% compression ratio average
          if (!buf)
              buf = new u8(sl * 3);
          // ensure buffer can fit at least l elements
          var cbuf = function (l) {
              var bl = buf.length;
              // need to increase size to fit
              if (l > bl) {
                  // Double or set to necessary, whichever is greater
                  var nbuf = new u8(Math.max(bl * 2, l));
                  nbuf.set(buf);
                  buf = nbuf;
              }
          };
          //  last chunk         bitpos           bytes
          var final = st.f || 0, pos = st.p || 0, bt = st.b || 0, lm = st.l, dm = st.d, lbt = st.m, dbt = st.n;
          // total bits
          var tbts = sl * 8;
          do {
              if (!lm) {
                  // BFINAL - this is only 1 when last chunk is next
                  final = bits(dat, pos, 1);
                  // type: 0 = no compression, 1 = fixed huffman, 2 = dynamic huffman
                  var type = bits(dat, pos + 1, 3);
                  pos += 3;
                  if (!type) {
                      // go to end of byte boundary
                      var s = shft(pos) + 4, l = dat[s - 4] | (dat[s - 3] << 8), t = s + l;
                      if (t > sl) {
                          if (noSt)
                              err(0);
                          break;
                      }
                      // ensure size
                      if (noBuf)
                          cbuf(bt + l);
                      // Copy over uncompressed data
                      buf.set(dat.subarray(s, t), bt);
                      // Get new bitpos, update byte count
                      st.b = bt += l, st.p = pos = t * 8, st.f = final;
                      continue;
                  }
                  else if (type == 1)
                      lm = flrm, dm = fdrm, lbt = 9, dbt = 5;
                  else if (type == 2) {
                      //  literal                            lengths
                      var hLit = bits(dat, pos, 31) + 257, hcLen = bits(dat, pos + 10, 15) + 4;
                      var tl = hLit + bits(dat, pos + 5, 31) + 1;
                      pos += 14;
                      // length+distance tree
                      var ldt = new u8(tl);
                      // code length tree
                      var clt = new u8(19);
                      for (var i = 0; i < hcLen; ++i) {
                          // use index map to get real code
                          clt[clim[i]] = bits(dat, pos + i * 3, 7);
                      }
                      pos += hcLen * 3;
                      // code lengths bits
                      var clb = max(clt), clbmsk = (1 << clb) - 1;
                      // code lengths map
                      var clm = hMap(clt, clb, 1);
                      for (var i = 0; i < tl;) {
                          var r = clm[bits(dat, pos, clbmsk)];
                          // bits read
                          pos += r & 15;
                          // symbol
                          var s = r >>> 4;
                          // code length to copy
                          if (s < 16) {
                              ldt[i++] = s;
                          }
                          else {
                              //  copy   count
                              var c = 0, n = 0;
                              if (s == 16)
                                  n = 3 + bits(dat, pos, 3), pos += 2, c = ldt[i - 1];
                              else if (s == 17)
                                  n = 3 + bits(dat, pos, 7), pos += 3;
                              else if (s == 18)
                                  n = 11 + bits(dat, pos, 127), pos += 7;
                              while (n--)
                                  ldt[i++] = c;
                          }
                      }
                      //    length tree                 distance tree
                      var lt = ldt.subarray(0, hLit), dt = ldt.subarray(hLit);
                      // max length bits
                      lbt = max(lt);
                      // max dist bits
                      dbt = max(dt);
                      lm = hMap(lt, lbt, 1);
                      dm = hMap(dt, dbt, 1);
                  }
                  else
                      err(1);
                  if (pos > tbts) {
                      if (noSt)
                          err(0);
                      break;
                  }
              }
              // Make sure the buffer can hold this + the largest possible addition
              // Maximum chunk size (practically, theoretically infinite) is 2^17;
              if (noBuf)
                  cbuf(bt + 131072);
              var lms = (1 << lbt) - 1, dms = (1 << dbt) - 1;
              var lpos = pos;
              for (;; lpos = pos) {
                  // bits read, code
                  var c = lm[bits16(dat, pos) & lms], sym = c >>> 4;
                  pos += c & 15;
                  if (pos > tbts) {
                      if (noSt)
                          err(0);
                      break;
                  }
                  if (!c)
                      err(2);
                  if (sym < 256)
                      buf[bt++] = sym;
                  else if (sym == 256) {
                      lpos = pos, lm = null;
                      break;
                  }
                  else {
                      var add = sym - 254;
                      // no extra bits needed if less
                      if (sym > 264) {
                          // index
                          var i = sym - 257, b = fleb[i];
                          add = bits(dat, pos, (1 << b) - 1) + fl[i];
                          pos += b;
                      }
                      // dist
                      var d = dm[bits16(dat, pos) & dms], dsym = d >>> 4;
                      if (!d)
                          err(3);
                      pos += d & 15;
                      var dt = fd[dsym];
                      if (dsym > 3) {
                          var b = fdeb[dsym];
                          dt += bits16(dat, pos) & ((1 << b) - 1), pos += b;
                      }
                      if (pos > tbts) {
                          if (noSt)
                              err(0);
                          break;
                      }
                      if (noBuf)
                          cbuf(bt + 131072);
                      var end = bt + add;
                      for (; bt < end; bt += 4) {
                          buf[bt] = buf[bt - dt];
                          buf[bt + 1] = buf[bt + 1 - dt];
                          buf[bt + 2] = buf[bt + 2 - dt];
                          buf[bt + 3] = buf[bt + 3 - dt];
                      }
                      bt = end;
                  }
              }
              st.l = lm, st.p = lpos, st.b = bt, st.f = final;
              if (lm)
                  final = 1, st.m = lbt, st.d = dm, st.n = dbt;
          } while (!final);
          return bt == buf.length ? buf : slc(buf, 0, bt);
      };
      // starting at p, write the minimum number of bits that can hold v to d
      var wbits = function (d, p, v) {
          v <<= p & 7;
          var o = (p / 8) | 0;
          d[o] |= v;
          d[o + 1] |= v >>> 8;
      };
      // starting at p, write the minimum number of bits (>8) that can hold v to d
      var wbits16 = function (d, p, v) {
          v <<= p & 7;
          var o = (p / 8) | 0;
          d[o] |= v;
          d[o + 1] |= v >>> 8;
          d[o + 2] |= v >>> 16;
      };
      // creates code lengths from a frequency table
      var hTree = function (d, mb) {
          // Need extra info to make a tree
          var t = [];
          for (var i = 0; i < d.length; ++i) {
              if (d[i])
                  t.push({ s: i, f: d[i] });
          }
          var s = t.length;
          var t2 = t.slice();
          if (!s)
              return [et, 0];
          if (s == 1) {
              var v = new u8(t[0].s + 1);
              v[t[0].s] = 1;
              return [v, 1];
          }
          t.sort(function (a, b) { return a.f - b.f; });
          // after i2 reaches last ind, will be stopped
          // freq must be greater than largest possible number of symbols
          t.push({ s: -1, f: 25001 });
          var l = t[0], r = t[1], i0 = 0, i1 = 1, i2 = 2;
          t[0] = { s: -1, f: l.f + r.f, l: l, r: r };
          // efficient algorithm from UZIP.js
          // i0 is lookbehind, i2 is lookahead - after processing two low-freq
          // symbols that combined have high freq, will start processing i2 (high-freq,
          // non-composite) symbols instead
          // see https://reddit.com/r/photopea/comments/ikekht/uzipjs_questions/
          while (i1 != s - 1) {
              l = t[t[i0].f < t[i2].f ? i0++ : i2++];
              r = t[i0 != i1 && t[i0].f < t[i2].f ? i0++ : i2++];
              t[i1++] = { s: -1, f: l.f + r.f, l: l, r: r };
          }
          var maxSym = t2[0].s;
          for (var i = 1; i < s; ++i) {
              if (t2[i].s > maxSym)
                  maxSym = t2[i].s;
          }
          // code lengths
          var tr = new u16(maxSym + 1);
          // max bits in tree
          var mbt = ln(t[i1 - 1], tr, 0);
          if (mbt > mb) {
              // more algorithms from UZIP.js
              // TODO: find out how this code works (debt)
              //  ind    debt
              var i = 0, dt = 0;
              //    left            cost
              var lft = mbt - mb, cst = 1 << lft;
              t2.sort(function (a, b) { return tr[b.s] - tr[a.s] || a.f - b.f; });
              for (; i < s; ++i) {
                  var i2_1 = t2[i].s;
                  if (tr[i2_1] > mb) {
                      dt += cst - (1 << (mbt - tr[i2_1]));
                      tr[i2_1] = mb;
                  }
                  else
                      break;
              }
              dt >>>= lft;
              while (dt > 0) {
                  var i2_2 = t2[i].s;
                  if (tr[i2_2] < mb)
                      dt -= 1 << (mb - tr[i2_2]++ - 1);
                  else
                      ++i;
              }
              for (; i >= 0 && dt; --i) {
                  var i2_3 = t2[i].s;
                  if (tr[i2_3] == mb) {
                      --tr[i2_3];
                      ++dt;
                  }
              }
              mbt = mb;
          }
          return [new u8(tr), mbt];
      };
      // get the max length and assign length codes
      var ln = function (n, l, d) {
          return n.s == -1
              ? Math.max(ln(n.l, l, d + 1), ln(n.r, l, d + 1))
              : (l[n.s] = d);
      };
      // length codes generation
      var lc = function (c) {
          var s = c.length;
          // Note that the semicolon was intentional
          while (s && !c[--s])
              ;
          var cl = new u16(++s);
          //  ind      num         streak
          var cli = 0, cln = c[0], cls = 1;
          var w = function (v) { cl[cli++] = v; };
          for (var i = 1; i <= s; ++i) {
              if (c[i] == cln && i != s)
                  ++cls;
              else {
                  if (!cln && cls > 2) {
                      for (; cls > 138; cls -= 138)
                          w(32754);
                      if (cls > 2) {
                          w(cls > 10 ? ((cls - 11) << 5) | 28690 : ((cls - 3) << 5) | 12305);
                          cls = 0;
                      }
                  }
                  else if (cls > 3) {
                      w(cln), --cls;
                      for (; cls > 6; cls -= 6)
                          w(8304);
                      if (cls > 2)
                          w(((cls - 3) << 5) | 8208), cls = 0;
                  }
                  while (cls--)
                      w(cln);
                  cls = 1;
                  cln = c[i];
              }
          }
          return [cl.subarray(0, cli), s];
      };
      // calculate the length of output from tree, code lengths
      var clen = function (cf, cl) {
          var l = 0;
          for (var i = 0; i < cl.length; ++i)
              l += cf[i] * cl[i];
          return l;
      };
      // writes a fixed block
      // returns the new bit pos
      var wfblk = function (out, pos, dat) {
          // no need to write 00 as type: TypedArray defaults to 0
          var s = dat.length;
          var o = shft(pos + 2);
          out[o] = s & 255;
          out[o + 1] = s >>> 8;
          out[o + 2] = out[o] ^ 255;
          out[o + 3] = out[o + 1] ^ 255;
          for (var i = 0; i < s; ++i)
              out[o + i + 4] = dat[i];
          return (o + 4 + s) * 8;
      };
      // writes a block
      var wblk = function (dat, out, final, syms, lf, df, eb, li, bs, bl, p) {
          wbits(out, p++, final);
          ++lf[256];
          var _a = hTree(lf, 15), dlt = _a[0], mlb = _a[1];
          var _b = hTree(df, 15), ddt = _b[0], mdb = _b[1];
          var _c = lc(dlt), lclt = _c[0], nlc = _c[1];
          var _d = lc(ddt), lcdt = _d[0], ndc = _d[1];
          var lcfreq = new u16(19);
          for (var i = 0; i < lclt.length; ++i)
              lcfreq[lclt[i] & 31]++;
          for (var i = 0; i < lcdt.length; ++i)
              lcfreq[lcdt[i] & 31]++;
          var _e = hTree(lcfreq, 7), lct = _e[0], mlcb = _e[1];
          var nlcc = 19;
          for (; nlcc > 4 && !lct[clim[nlcc - 1]]; --nlcc)
              ;
          var flen = (bl + 5) << 3;
          var ftlen = clen(lf, flt) + clen(df, fdt) + eb;
          var dtlen = clen(lf, dlt) + clen(df, ddt) + eb + 14 + 3 * nlcc + clen(lcfreq, lct) + (2 * lcfreq[16] + 3 * lcfreq[17] + 7 * lcfreq[18]);
          if (flen <= ftlen && flen <= dtlen)
              return wfblk(out, p, dat.subarray(bs, bs + bl));
          var lm, ll, dm, dl;
          wbits(out, p, 1 + (dtlen < ftlen)), p += 2;
          if (dtlen < ftlen) {
              lm = hMap(dlt, mlb, 0), ll = dlt, dm = hMap(ddt, mdb, 0), dl = ddt;
              var llm = hMap(lct, mlcb, 0);
              wbits(out, p, nlc - 257);
              wbits(out, p + 5, ndc - 1);
              wbits(out, p + 10, nlcc - 4);
              p += 14;
              for (var i = 0; i < nlcc; ++i)
                  wbits(out, p + 3 * i, lct[clim[i]]);
              p += 3 * nlcc;
              var lcts = [lclt, lcdt];
              for (var it = 0; it < 2; ++it) {
                  var clct = lcts[it];
                  for (var i = 0; i < clct.length; ++i) {
                      var len = clct[i] & 31;
                      wbits(out, p, llm[len]), p += lct[len];
                      if (len > 15)
                          wbits(out, p, (clct[i] >>> 5) & 127), p += clct[i] >>> 12;
                  }
              }
          }
          else {
              lm = flm, ll = flt, dm = fdm, dl = fdt;
          }
          for (var i = 0; i < li; ++i) {
              if (syms[i] > 255) {
                  var len = (syms[i] >>> 18) & 31;
                  wbits16(out, p, lm[len + 257]), p += ll[len + 257];
                  if (len > 7)
                      wbits(out, p, (syms[i] >>> 23) & 31), p += fleb[len];
                  var dst = syms[i] & 31;
                  wbits16(out, p, dm[dst]), p += dl[dst];
                  if (dst > 3)
                      wbits16(out, p, (syms[i] >>> 5) & 8191), p += fdeb[dst];
              }
              else {
                  wbits16(out, p, lm[syms[i]]), p += ll[syms[i]];
              }
          }
          wbits16(out, p, lm[256]);
          return p + ll[256];
      };
      // deflate options (nice << 13) | chain
      var deo = /*#__PURE__*/ new u32([65540, 131080, 131088, 131104, 262176, 1048704, 1048832, 2114560, 2117632]);
      // empty
      var et = /*#__PURE__*/ new u8(0);
      // compresses data into a raw DEFLATE buffer
      var dflt = function (dat, lvl, plvl, pre, post, lst) {
          var s = dat.length;
          var o = new u8(pre + s + 5 * (1 + Math.ceil(s / 7000)) + post);
          // writing to this writes to the output buffer
          var w = o.subarray(pre, o.length - post);
          var pos = 0;
          if (!lvl || s < 8) {
              for (var i = 0; i <= s; i += 65535) {
                  // end
                  var e = i + 65535;
                  if (e >= s) {
                      // write final block
                      w[pos >> 3] = lst;
                  }
                  pos = wfblk(w, pos + 1, dat.subarray(i, e));
              }
          }
          else {
              var opt = deo[lvl - 1];
              var n = opt >>> 13, c = opt & 8191;
              var msk_1 = (1 << plvl) - 1;
              //    prev 2-byte val map    curr 2-byte val map
              var prev = new u16(32768), head = new u16(msk_1 + 1);
              var bs1_1 = Math.ceil(plvl / 3), bs2_1 = 2 * bs1_1;
              var hsh = function (i) { return (dat[i] ^ (dat[i + 1] << bs1_1) ^ (dat[i + 2] << bs2_1)) & msk_1; };
              // 24576 is an arbitrary number of maximum symbols per block
              // 424 buffer for last block
              var syms = new u32(25000);
              // length/literal freq   distance freq
              var lf = new u16(288), df = new u16(32);
              //  l/lcnt  exbits  index  l/lind  waitdx  bitpos
              var lc_1 = 0, eb = 0, i = 0, li = 0, wi = 0, bs = 0;
              for (; i < s; ++i) {
                  // hash value
                  // deopt when i > s - 3 - at end, deopt acceptable
                  var hv = hsh(i);
                  // index mod 32768    previous index mod
                  var imod = i & 32767, pimod = head[hv];
                  prev[imod] = pimod;
                  head[hv] = imod;
                  // We always should modify head and prev, but only add symbols if
                  // this data is not yet processed ("wait" for wait index)
                  if (wi <= i) {
                      // bytes remaining
                      var rem = s - i;
                      if ((lc_1 > 7000 || li > 24576) && rem > 423) {
                          pos = wblk(dat, w, 0, syms, lf, df, eb, li, bs, i - bs, pos);
                          li = lc_1 = eb = 0, bs = i;
                          for (var j = 0; j < 286; ++j)
                              lf[j] = 0;
                          for (var j = 0; j < 30; ++j)
                              df[j] = 0;
                      }
                      //  len    dist   chain
                      var l = 2, d = 0, ch_1 = c, dif = (imod - pimod) & 32767;
                      if (rem > 2 && hv == hsh(i - dif)) {
                          var maxn = Math.min(n, rem) - 1;
                          var maxd = Math.min(32767, i);
                          // max possible length
                          // not capped at dif because decompressors implement "rolling" index population
                          var ml = Math.min(258, rem);
                          while (dif <= maxd && --ch_1 && imod != pimod) {
                              if (dat[i + l] == dat[i + l - dif]) {
                                  var nl = 0;
                                  for (; nl < ml && dat[i + nl] == dat[i + nl - dif]; ++nl)
                                      ;
                                  if (nl > l) {
                                      l = nl, d = dif;
                                      // break out early when we reach "nice" (we are satisfied enough)
                                      if (nl > maxn)
                                          break;
                                      // now, find the rarest 2-byte sequence within this
                                      // length of literals and search for that instead.
                                      // Much faster than just using the start
                                      var mmd = Math.min(dif, nl - 2);
                                      var md = 0;
                                      for (var j = 0; j < mmd; ++j) {
                                          var ti = (i - dif + j + 32768) & 32767;
                                          var pti = prev[ti];
                                          var cd = (ti - pti + 32768) & 32767;
                                          if (cd > md)
                                              md = cd, pimod = ti;
                                      }
                                  }
                              }
                              // check the previous match
                              imod = pimod, pimod = prev[imod];
                              dif += (imod - pimod + 32768) & 32767;
                          }
                      }
                      // d will be nonzero only when a match was found
                      if (d) {
                          // store both dist and len data in one Uint32
                          // Make sure this is recognized as a len/dist with 28th bit (2^28)
                          syms[li++] = 268435456 | (revfl[l] << 18) | revfd[d];
                          var lin = revfl[l] & 31, din = revfd[d] & 31;
                          eb += fleb[lin] + fdeb[din];
                          ++lf[257 + lin];
                          ++df[din];
                          wi = i + l;
                          ++lc_1;
                      }
                      else {
                          syms[li++] = dat[i];
                          ++lf[dat[i]];
                      }
                  }
              }
              pos = wblk(dat, w, lst, syms, lf, df, eb, li, bs, i - bs, pos);
              // this is the easiest way to avoid needing to maintain state
              if (!lst && pos & 7)
                  pos = wfblk(w, pos + 1, et);
          }
          return slc(o, 0, pre + shft(pos) + post);
      };
      // CRC32 table
      var crct = /*#__PURE__*/ (function () {
          var t = new Int32Array(256);
          for (var i = 0; i < 256; ++i) {
              var c = i, k = 9;
              while (--k)
                  c = ((c & 1) && -306674912) ^ (c >>> 1);
              t[i] = c;
          }
          return t;
      })();
      // CRC32
      var crc = function () {
          var c = -1;
          return {
              p: function (d) {
                  // closures have awful performance
                  var cr = c;
                  for (var i = 0; i < d.length; ++i)
                      cr = crct[(cr & 255) ^ d[i]] ^ (cr >>> 8);
                  c = cr;
              },
              d: function () { return ~c; }
          };
      };
      // deflate with opts
      var dopt = function (dat, opt, pre, post, st) {
          return dflt(dat, opt.level == null ? 6 : opt.level, opt.mem == null ? Math.ceil(Math.max(8, Math.min(13, Math.log(dat.length))) * 1.5) : (12 + opt.mem), pre, post, !st);
      };
      // Walmart object spread
      var mrg = function (a, b) {
          var o = {};
          for (var k in a)
              o[k] = a[k];
          for (var k in b)
              o[k] = b[k];
          return o;
      };
      // read 2 bytes
      var b2 = function (d, b) { return d[b] | (d[b + 1] << 8); };
      // read 4 bytes
      var b4 = function (d, b) { return (d[b] | (d[b + 1] << 8) | (d[b + 2] << 16) | (d[b + 3] << 24)) >>> 0; };
      var b8 = function (d, b) { return b4(d, b) + (b4(d, b + 4) * 4294967296); };
      // write bytes
      var wbytes = function (d, b, v) {
          for (; v; ++b)
              d[b] = v, v >>>= 8;
      };
      /**
       * Compresses data with DEFLATE without any wrapper
       * @param data The data to compress
       * @param opts The compression options
       * @returns The deflated version of the data
       */
      function deflateSync(data, opts) {
          return dopt(data, opts || {}, 0, 0);
      }
      /**
       * Expands DEFLATE data with no wrapper
       * @param data The data to decompress
       * @param out Where to write the data. Saves memory if you know the decompressed size and provide an output buffer of that length.
       * @returns The decompressed version of the data
       */
      function inflateSync(data, out) {
          return inflt(data, out);
      }
      // flatten a directory structure
      var fltn = function (d, p, t, o) {
          for (var k in d) {
              var val = d[k], n = p + k, op = o;
              if (Array.isArray(val))
                  op = mrg(o, val[1]), val = val[0];
              if (val instanceof u8)
                  t[n] = [val, op];
              else {
                  t[n += '/'] = [new u8(0), op];
                  fltn(val, n, t, o);
              }
          }
      };
      // text encoder
      var te = typeof TextEncoder != 'undefined' && /*#__PURE__*/ new TextEncoder();
      // text decoder
      var td = typeof TextDecoder != 'undefined' && /*#__PURE__*/ new TextDecoder();
      // text decoder stream
      var tds = 0;
      try {
          td.decode(et, { stream: true });
          tds = 1;
      }
      catch (e) { }
      // decode UTF8
      var dutf8 = function (d) {
          for (var r = '', i = 0;;) {
              var c = d[i++];
              var eb = (c > 127) + (c > 223) + (c > 239);
              if (i + eb > d.length)
                  return [r, slc(d, i - 1)];
              if (!eb)
                  r += String.fromCharCode(c);
              else if (eb == 3) {
                  c = ((c & 15) << 18 | (d[i++] & 63) << 12 | (d[i++] & 63) << 6 | (d[i++] & 63)) - 65536,
                      r += String.fromCharCode(55296 | (c >> 10), 56320 | (c & 1023));
              }
              else if (eb & 1)
                  r += String.fromCharCode((c & 31) << 6 | (d[i++] & 63));
              else
                  r += String.fromCharCode((c & 15) << 12 | (d[i++] & 63) << 6 | (d[i++] & 63));
          }
      };
      /**
       * Converts a string into a Uint8Array for use with compression/decompression methods
       * @param str The string to encode
       * @param latin1 Whether or not to interpret the data as Latin-1. This should
       *               not need to be true unless decoding a binary string.
       * @returns The string encoded in UTF-8/Latin-1 binary
       */
      function strToU8(str, latin1) {
          if (latin1) {
              var ar_1 = new u8(str.length);
              for (var i = 0; i < str.length; ++i)
                  ar_1[i] = str.charCodeAt(i);
              return ar_1;
          }
          if (te)
              return te.encode(str);
          var l = str.length;
          var ar = new u8(str.length + (str.length >> 1));
          var ai = 0;
          var w = function (v) { ar[ai++] = v; };
          for (var i = 0; i < l; ++i) {
              if (ai + 5 > ar.length) {
                  var n = new u8(ai + 8 + ((l - i) << 1));
                  n.set(ar);
                  ar = n;
              }
              var c = str.charCodeAt(i);
              if (c < 128 || latin1)
                  w(c);
              else if (c < 2048)
                  w(192 | (c >> 6)), w(128 | (c & 63));
              else if (c > 55295 && c < 57344)
                  c = 65536 + (c & 1023 << 10) | (str.charCodeAt(++i) & 1023),
                      w(240 | (c >> 18)), w(128 | ((c >> 12) & 63)), w(128 | ((c >> 6) & 63)), w(128 | (c & 63));
              else
                  w(224 | (c >> 12)), w(128 | ((c >> 6) & 63)), w(128 | (c & 63));
          }
          return slc(ar, 0, ai);
      }
      /**
       * Converts a Uint8Array to a string
       * @param dat The data to decode to string
       * @param latin1 Whether or not to interpret the data as Latin-1. This should
       *               not need to be true unless encoding to binary string.
       * @returns The original UTF-8/Latin-1 string
       */
      function strFromU8(dat, latin1) {
          if (latin1) {
              var r = '';
              for (var i = 0; i < dat.length; i += 16384)
                  r += String.fromCharCode.apply(null, dat.subarray(i, i + 16384));
              return r;
          }
          else if (td)
              return td.decode(dat);
          else {
              var _a = dutf8(dat), out = _a[0], ext = _a[1];
              if (ext.length)
                  err(8);
              return out;
          }
      }
      // skip local zip header
      var slzh = function (d, b) { return b + 30 + b2(d, b + 26) + b2(d, b + 28); };
      // read zip header
      var zh = function (d, b, z) {
          var fnl = b2(d, b + 28), fn = strFromU8(d.subarray(b + 46, b + 46 + fnl), !(b2(d, b + 8) & 2048)), es = b + 46 + fnl, bs = b4(d, b + 20);
          var _a = z && bs == 4294967295 ? z64e(d, es) : [bs, b4(d, b + 24), b4(d, b + 42)], sc = _a[0], su = _a[1], off = _a[2];
          return [b2(d, b + 10), sc, su, fn, es + b2(d, b + 30) + b2(d, b + 32), off];
      };
      // read zip64 extra field
      var z64e = function (d, b) {
          for (; b2(d, b) != 1; b += 4 + b2(d, b + 2))
              ;
          return [b8(d, b + 12), b8(d, b + 4), b8(d, b + 20)];
      };
      // extra field length
      var exfl = function (ex) {
          var le = 0;
          if (ex) {
              for (var k in ex) {
                  var l = ex[k].length;
                  if (l > 65535)
                      err(9);
                  le += l + 4;
              }
          }
          return le;
      };
      // write zip header
      var wzh = function (d, b, f, fn, u, c, ce, co) {
          var fl = fn.length, ex = f.extra, col = co && co.length;
          var exl = exfl(ex);
          wbytes(d, b, ce != null ? 0x2014B50 : 0x4034B50), b += 4;
          if (ce != null)
              d[b++] = 20, d[b++] = f.os;
          d[b] = 20, b += 2; // spec compliance? what's that?
          d[b++] = (f.flag << 1) | (c < 0 && 8), d[b++] = u && 8;
          d[b++] = f.compression & 255, d[b++] = f.compression >> 8;
          var dt = new Date(f.mtime == null ? Date.now() : f.mtime), y = dt.getFullYear() - 1980;
          if (y < 0 || y > 119)
              err(10);
          wbytes(d, b, (y << 25) | ((dt.getMonth() + 1) << 21) | (dt.getDate() << 16) | (dt.getHours() << 11) | (dt.getMinutes() << 5) | (dt.getSeconds() >>> 1)), b += 4;
          if (c != -1) {
              wbytes(d, b, f.crc);
              wbytes(d, b + 4, c < 0 ? -c - 2 : c);
              wbytes(d, b + 8, f.size);
          }
          wbytes(d, b + 12, fl);
          wbytes(d, b + 14, exl), b += 16;
          if (ce != null) {
              wbytes(d, b, col);
              wbytes(d, b + 6, f.attrs);
              wbytes(d, b + 10, ce), b += 14;
          }
          d.set(fn, b);
          b += fl;
          if (exl) {
              for (var k in ex) {
                  var exf = ex[k], l = exf.length;
                  wbytes(d, b, +k);
                  wbytes(d, b + 2, l);
                  d.set(exf, b + 4), b += 4 + l;
              }
          }
          if (col)
              d.set(co, b), b += col;
          return b;
      };
      // write zip footer (end of central directory)
      var wzf = function (o, b, c, d, e) {
          wbytes(o, b, 0x6054B50); // skip disk
          wbytes(o, b + 8, c);
          wbytes(o, b + 10, c);
          wbytes(o, b + 12, d);
          wbytes(o, b + 16, e);
      };
      /**
       * Synchronously creates a ZIP file. Prefer using `zip` for better performance
       * with more than one file.
       * @param data The directory structure for the ZIP archive
       * @param opts The main options, merged with per-file options
       * @returns The generated ZIP archive
       */
      function zipSync(data, opts) {
          if (!opts)
              opts = {};
          var r = {};
          var files = [];
          fltn(data, '', r, opts);
          var o = 0;
          var tot = 0;
          for (var fn in r) {
              var _a = r[fn], file = _a[0], p = _a[1];
              var compression = p.level == 0 ? 0 : 8;
              var f = strToU8(fn), s = f.length;
              var com = p.comment, m = com && strToU8(com), ms = m && m.length;
              var exl = exfl(p.extra);
              if (s > 65535)
                  err(11);
              var d = compression ? deflateSync(file, p) : file, l = d.length;
              var c = crc();
              c.p(file);
              files.push(mrg(p, {
                  size: file.length,
                  crc: c.d(),
                  c: d,
                  f: f,
                  m: m,
                  u: s != fn.length || (m && (com.length != ms)),
                  o: o,
                  compression: compression
              }));
              o += 30 + s + exl + l;
              tot += 76 + 2 * (s + exl) + (ms || 0) + l;
          }
          var out = new u8(tot + 22), oe = o, cdl = tot - o;
          for (var i = 0; i < files.length; ++i) {
              var f = files[i];
              wzh(out, f.o, f, f.f, f.u, f.c.length);
              var badd = 30 + f.f.length + exfl(f.extra);
              out.set(f.c, f.o + badd);
              wzh(out, o, f, f.f, f.u, f.c.length, f.o, f.m), o += 16 + badd + (f.m ? f.m.length : 0);
          }
          wzf(out, o, files.length, cdl, oe);
          return out;
      }
      /**
       * Synchronously decompresses a ZIP archive. Prefer using `unzip` for better
       * performance with more than one file.
       * @param data The raw compressed ZIP file
       * @param opts The ZIP extraction options
       * @returns The decompressed files
       */
      function unzipSync(data, opts) {
          var files = {};
          var e = data.length - 22;
          for (; b4(data, e) != 0x6054B50; --e) {
              if (!e || data.length - e > 65558)
                  err(13);
          }
          var c = b2(data, e + 8);
          if (!c)
              return {};
          var o = b4(data, e + 16);
          var z = o == 4294967295 || c == 65535;
          if (z) {
              var ze = b4(data, e - 12);
              z = b4(data, ze) == 0x6064B50;
              if (z) {
                  c = b4(data, ze + 32);
                  o = b4(data, ze + 48);
              }
          }
          var fltr = opts && opts.filter;
          for (var i = 0; i < c; ++i) {
              var _a = zh(data, o, z), c_2 = _a[0], sc = _a[1], su = _a[2], fn = _a[3], no = _a[4], off = _a[5], b = slzh(data, off);
              o = no;
              if (!fltr || fltr({
                  name: fn,
                  size: sc,
                  originalSize: su,
                  compression: c_2
              })) {
                  if (!c_2)
                      files[fn] = slc(data, b, b + sc);
                  else if (c_2 == 8)
                      files[fn] = inflateSync(data.subarray(b, b + sc), new u8(su));
                  else
                      err(14, 'unknown compression type ' + c_2);
              }
          }
          return files;
      }

      /**
       *
       * @author Patrik Harag
       * @version 2023-07-23
       */
      class ResourceIO {

          static RESOURCE_TYPE_SCENE = 'scene';
          static RESOURCE_TYPE_TOOL = 'tool';

          /**
           *
           * @param snapshot {Snapshot}
           * @returns Uint8Array
           */
          static createResourceFromSnapshot(snapshot) {
              // TODO
              return LegacySnapshotIO.createSave(snapshot);
          }

          // TODO: other types of resources
          /**
           *
           * @param content {ArrayBuffer}
           * @returns Promise<Scene>
           */
          static async parseResource(content) {
              const zip = unzipSync(new Uint8Array(content));

              if (zip['metadata.json']) {
                  // old snapshot format
                  let snapshot = LegacySnapshotIO.parseSave(zip);
                  return new SceneImplSnapshot(snapshot);
              }
              throw 'Wrong format';
          }

          /**
           *
           * @param json
           * @returns {Promise<Tool>}
           */
          static async parseToolDefinition(json) {
              return NewIO.parseToolDefinition(json);
          }

          /**
           *
           * @param objectUrl {string}
           * @param brush {Brush}
           * @param defaultElement {Element}
           * @param threshold {number} 0-255
           * @param maxWidth {number|undefined}
           * @param maxHeight {number|undefined}
           * @returns Promise<Scene>
           */
          static async fromImage(objectUrl, brush, defaultElement, threshold, maxWidth, maxHeight) {
              const imageData = await Assets.asImageData(objectUrl, maxWidth, maxHeight);

              const width = imageData.width;
              const height = imageData.height;

              const elementArea = ElementArea.create(width, height, defaultElement);

              const random = new DeterministicRandom(0);

              for (let y = 0; y < height; y++) {
                  for (let x = 0; x < width; x++) {
                      const index = (y * width + x) * 4;

                      let red = imageData.data[index];
                      let green = imageData.data[index + 1];
                      let blue = imageData.data[index + 2];
                      const alpha = imageData.data[index + 3];

                      // perform alpha blending if needed
                      if (alpha !== 0xFF) {
                          red = Math.trunc((red * alpha) / 0xFF) + 0xFF - alpha;
                          green = Math.trunc((green * alpha) / 0xFF) + 0xFF - alpha;
                          blue = Math.trunc((blue * alpha) / 0xFF) + 0xFF - alpha;
                      }

                      // filter out background
                      if (red > 0xFF-threshold && green > 0xFF-threshold && blue > 0xFF-threshold) {
                          continue;  // white
                      }

                      const element = brush.apply(x, y, random);
                      const elementHead = element.elementHead;
                      const elementTail = ElementTail.setColor(element.elementTail, red, green, blue);
                      elementArea.setElementHeadAndTail(x, y, elementHead, elementTail);
                  }
              }

              return new SceneImplTemplate(elementArea);
          }
      }

      /**
       *
       * @author Patrik Harag
       * @version 2023-07-23
       */
      class NewIO {

          /**
           *
           * @param json
           * @returns {Promise<Tool>}
           */
          static async parseToolDefinition(json) {
              const type = json.type;
              const name = json.name;
              const category = json.category;
              const action = json.action;

              if (type === undefined) {
                  throw 'Tool definition: type not set';
              }
              if (name === undefined) {
                  throw 'Tool definition: name not set';
              }
              if (category === undefined) {
                  throw 'Tool definition: category not set';
              }
              if (action === undefined) {
                  throw 'Tool definition: action not set';
              }

              if (type === 'template') {
                  const scenes = await NewIO.parseSceneDefinition(action);
                  return Tool.insertElementAreaTool(category, null, name, scenes, undefined);

              } else {
                  throw 'Tool type not supported: ' + type;
              }
          }

          /**
           *
           * @param json
           * @returns {Promise<Scene[]>}
           */
          static async parseSceneDefinition(json) {
              const type = json.type;

              if (type === 'image-template') {
                  const imageData = json.imageData;
                  if (imageData === undefined) {
                      throw 'Image template: imageData not set';
                  }

                  const threshold = json.threshold;
                  if (threshold === undefined) {
                      throw 'Image template: threshold not set';
                  }
                  const parsedThreshold = parseInt(threshold);

                  const brush = json.brush;
                  if (brush === undefined) {
                      throw 'Image template: brush not set';
                  }
                  const parsedBrush = Brushes.byCodeName(json.brush);
                  if (parsedBrush === null) {
                      throw 'Image template: brush not found: ' + brush;
                  }

                  const scene = await ResourceIO.fromImage(imageData, parsedBrush, ElementArea.TRANSPARENT_ELEMENT,
                          parsedThreshold, undefined, undefined);
                  const scenes = [ scene ];

                  const randomFlipHorizontally = json.randomFlipHorizontally;
                  if (randomFlipHorizontally) {
                      scenes.push(new SceneImplModFlip(scene, true, false));
                  }

                  const randomFlipVertically = json.randomFlipVertically;
                  if (randomFlipVertically) {
                      for (const s of [...scenes]) {
                          scenes.push(new SceneImplModFlip(s, false, true));
                      }
                  }

                  return scenes;

              } else if (type === 'random') {
                  const actions = json.actions;
                  if (actions === undefined || actions.length === undefined || actions.length === 0) {
                      throw 'Image template: actions not set';
                  }

                  let scenes = [];
                  for (let i = 0; i < actions.length; i++) {
                      let parsedScenes = await NewIO.parseSceneDefinition(actions[i]);
                      for (let s of parsedScenes) {
                          scenes.push(s);
                      }
                  }
                  return scenes;

              } else {
                  throw 'Scene type not supported: ' + type;
              }
          }
      }

      /**
       *
       * @author Patrik Harag
       * @version 2023-10-11
       */
      class LegacySnapshotIO {
          /**
           *
           * @param snapshot {Snapshot}
           * @returns Uint8Array
           */
          static createSave(snapshot) {
              const metadata = strToU8(JSON.stringify(snapshot.metadata, null, 2));

              let zipData = {
                  'metadata.json': metadata,
                  'data-heads.bin': new Uint8Array(snapshot.dataHeads),
                  'data-tails.bin': new Uint8Array(snapshot.dataTails)
              };
              return zipSync(zipData, { level: 9 });
          }

          /**
           *
           * @param zip {{[path: string]: Uint8Array}}
           * @returns Snapshot
           */
          static parseSave(zip) {
              let snapshot = new Snapshot();

              let metadataRaw = zip['metadata.json'];
              if (!metadataRaw) {
                  throw 'metadata.json not found';
              }
              snapshot.metadata = Object.assign(new SceneMetadata(), JSON.parse(strFromU8(metadataRaw)));
              if (typeof snapshot.metadata.width !== "number") {
                  throw 'Metadata property wrong format: width';
              }
              if (typeof snapshot.metadata.height !== "number") {
                  throw 'Metadata property wrong format: height';
              }

              // load element data
              if (snapshot.metadata.formatVersion < 3) {
                  // ensure backward compatibility
                  // legacy interleaving buffer (element head 1, element tail 1, element head 2, element tail 2, ...)
                  const dataRaw = zip['data.bin'];
                  if (dataRaw) {
                      if (dataRaw.byteLength % 8 !== 0) {
                          throw 'Buffer length is not divisible by 8';
                      }
                      const elements = dataRaw.byteLength / 8;
                      const dataHeads = new Uint8Array(new ArrayBuffer(elements * 4));
                      const dataTails = new Uint8Array(new ArrayBuffer(elements * 4));
                      for (let i = 0; i < elements; i++) {
                          for (let j = 0; j < 4; j++) {  // 4 bytes
                              dataHeads[(i * 4) + j] = dataRaw[(i * 8) + j];
                              dataTails[(i * 4) + j] = dataRaw[(i * 8) + j + 4];
                          }
                      }
                      snapshot.dataHeads = dataHeads.buffer;
                      snapshot.dataTails = dataTails.buffer;
                  } else {
                      throw 'data.bin not found';
                  }
              } else {
                  // one buffer for element heads and one for element tails
                  const dataRawHeads = zip['data-heads.bin'];
                  if (dataRawHeads) {
                      snapshot.dataHeads = dataRawHeads.buffer;
                  } else {
                      throw 'data-heads.bin not found';
                  }
                  const dataRawTails = zip['data-tails.bin'];
                  if (!dataRawTails) {
                      throw 'data-tails.bin not found';
                  }
                  snapshot.dataTails = dataRawTails.buffer;
              }

              // ensure backward compatibility
              if (snapshot.metadata.formatVersion === 1) {
                  // after 23w32a first byte of element head was changed (powder elements reworked)
                  LegacySnapshotIO.#convertToV2(snapshot);
                  snapshot.metadata.formatVersion = 2;
              }
              if (snapshot.metadata.formatVersion === 2) {
                  // interleaving buffer >> element head buffer & element tail buffer
                  snapshot.metadata.formatVersion = 3;
              }

              return snapshot;
          }

          static #convertToV2(snapshot) {
              const elementArea = ElementArea.from(
                      snapshot.metadata.width, snapshot.metadata.height,
                      snapshot.dataHeads, snapshot.dataTails);

              for (let y = 0; y < snapshot.metadata.height; y++) {
                  for (let x = 0; x < snapshot.metadata.width; x++) {

                      // TODO: dry flag ignored
                      let elementHead = elementArea.getElementHead(x, y);
                      let oldType = elementHead & 0b111;  // type without dry flag
                      let oldWeight = (elementHead >> 4) & 0x0000000F;

                      if (oldType === 0x0 && oldWeight === 0x0) ; else if (oldType === 0x0) {
                          // static
                          elementArea.setElementHead(x, y, ElementHead.setType(elementHead, 0x7));
                      } else if (oldType === 0x1) {
                          // falling (grass only)
                          elementArea.setElementHead(x, y, ElementHead.setType(elementHead, 0x5));
                      } else if (oldType === 0x2) {
                          // sand 1 (soil, gravel)
                          elementArea.setElementHead(x, y, ElementHead.setType(elementHead, 0x5 | (4 << 5)));
                      } else if (oldType === 0x3) {
                          // sand 2 (sand)
                          elementArea.setElementHead(x, y, ElementHead.setType(elementHead, 0x5 | (6 << 5)));
                      } else if (oldType === 0x4 || oldType === 0x5) {
                          // fluid 1 (not used) or fluid 2 (water)
                          elementArea.setElementHead(x, y, ElementHead.setType(elementHead, 0x3));
                      }
                  }
              }

              snapshot.dataHeads = elementArea.getDataHeads();
              snapshot.dataTails = elementArea.getDataTails();
          }
      }

      // TODO: refactor

      /**
       *
       * @author Patrik Harag
       * @version 2023-08-19
       */
      class ServiceIO {

          /** @type Controller */
          #controller;

          /** @type TemplateForm */
          #templateForm;

          constructor(controller) {
              this.#controller = controller;
              this.#templateForm = new TemplateForm();
          }

          initFileDragAndDrop(node) {
              const domNode = node[0];

              ['dragenter', 'dragover'].forEach(eventName => {
                  domNode.addEventListener(eventName, e => {
                      e.preventDefault();
                      e.stopPropagation();
                      domNode.classList.add('drag-and-drop-highlight');
                  });
              });

              domNode.addEventListener('dragleave', e => {
                  e.preventDefault();
                  e.stopPropagation();
                  domNode.classList.remove('drag-and-drop-highlight');
              });

              domNode.addEventListener('drop', e => {
                  e.preventDefault();
                  e.stopPropagation();
                  domNode.classList.remove('drag-and-drop-highlight');

                  this.loadFromFiles(e.dataTransfer.files);
              });
          }

          loadFromFiles(files) {
              if (!files) {
                  return;
              }
              let file = files[0];

              let reader = new FileReader();
              reader.onload = (readerEvent) => {
                  let content = readerEvent.target.result;
                  this.loadFromArrayBuffer(content, file.name);
              };
              reader.readAsArrayBuffer(file);
          }

          /**
           *
           * @param content {ArrayBuffer}
           * @param filename {string}
           */
          loadFromArrayBuffer(content, filename) {
              try {
                  let imageTypeOrNull = Assets.getImageTypeOrNull(filename);
                  if (imageTypeOrNull !== null) {
                      this.#loadImageTemplate(content, imageTypeOrNull);
                  } else {
                      ResourceIO.parseResource(content)
                              .then(scene => this.#importScene(scene))
                              .catch(e => this.#handleError(e));
                  }
              } catch (e) {
                  this.#handleError(e);
              }
          }

          #loadImageTemplate(content, imageType) {
              const handleImageTemplate = (brush, threshold, maxWidth, maxHeight) => {
                  const objectUrl = Assets.asObjectUrl(content, imageType);
                  ResourceIO.fromImage(objectUrl, brush, ElementArea.TRANSPARENT_ELEMENT, threshold, maxWidth, maxHeight)
                      .then(scene => this.#importImageTemplate(scene))
                      .catch(e => this.#handleError(e));
              };

              let dialog = new DomBuilder.BootstrapDialog();
              dialog.setHeaderContent('Image template');
              dialog.setBodyContent(this.#templateForm.create());
              dialog.addSubmitButton('Place', () => {
                  let materialBrush = this.#templateForm.getMaterialBrush();
                  let thresholdValue = this.#templateForm.getThresholdValue();
                  let maxWidth = this.#templateForm.getMaxWidth();
                  let maxHeight = this.#templateForm.getMaxHeight();
                  handleImageTemplate(materialBrush, thresholdValue, maxWidth, maxHeight);
              });
              dialog.addCloseButton('Close');
              dialog.show(this.#controller.getDialogAnchor());
          }

          #importImageTemplate(scene) {
              this.#controller.pasteScene(scene);
              Analytics.triggerFeatureUsed(Analytics.FEATURE_IO_IMAGE_TEMPLATE);
          }

          #importScene(scene) {
              try {
                  let dialog = new DomBuilder.BootstrapDialog();
                  dialog.setHeaderContent('Import scene');
                  dialog.setBodyContent([
                      DomBuilder.par(null, "The imported scene can be opened or placed on the current scene.")
                  ]);
                  dialog.addSubmitButton('Open', () => {
                      Analytics.triggerFeatureUsed(Analytics.FEATURE_IO_IMPORT);
                      return this.#controller.openScene(scene);
                  });
                  dialog.addSubmitButton('Place', () => {
                      Analytics.triggerFeatureUsed(Analytics.FEATURE_IO_IMPORT);
                      return this.#controller.pasteScene(scene);
                  });
                  dialog.addCloseButton('Close');
                  dialog.show(this.#controller.getDialogAnchor());
              } catch (ex) {
                  this.#handleError(ex);
              }
          }

          #handleError(e) {
              let dialog = new DomBuilder.BootstrapDialog();
              dialog.setHeaderContent('Error');
              dialog.setBodyContent([
                  DomBuilder.par(null, "Error while loading resource:"),
                  DomBuilder.element('code', null, e)
              ]);
              dialog.addCloseButton('Close');
              dialog.show(this.#controller.getDialogAnchor());
          }
      }

      /**
       * Creates template form and remembers last values.
       *
       * @author Patrik Harag
       * @version 2023-05-19
       */
      class TemplateForm {

          #thresholdValue = 50;
          #maxWidth = 300;
          #maxHeight = 200;
          #materialValue = 'sand';
          #materialBrush = Brushes.SAND;

          create() {
              return DomBuilder.element('form', null, [
                  DomBuilder.element('fieldset', { class: 'form-group row' }, [
                      DomBuilder.element('legend', { class: 'col-form-label col-sm-3 float-sm-left pt-0' }, 'Material'),
                      DomBuilder.div({ class: 'col-sm-9' }, [
                          this.#creatMaterialFormGroup('sand', Brushes.SAND, 'Sand'),
                          this.#creatMaterialFormGroup('soil', Brushes.SOIL, 'Soil'),
                          this.#creatMaterialFormGroup('wall', Brushes.WALL, 'Solid'),
                          this.#creatMaterialFormGroup('wood', Brushes.TREE_WOOD, 'Wood')
                      ])
                  ]),
                  DomBuilder.element('fieldset', { class: 'form-group row' }, [
                      DomBuilder.element('legend', { class: 'col-form-label col-sm-3 float-sm-left pt-0' }, 'Background threshold'),
                      DomBuilder.div({ class: 'col-sm-9' }, [
                          this.#createThresholdSliderFormGroup(),
                      ])
                  ]),
                  DomBuilder.element('fieldset', { class: 'form-group row' }, [
                      DomBuilder.element('legend', { class: 'col-form-label col-sm-3 float-sm-left pt-0' }, 'Max size'),
                      DomBuilder.div({ class: 'col-sm-9' }, [
                          this.#createMaxWidthFormGroup(),
                          this.#createMaxHeightFormGroup(),
                      ])
                  ])
              ]);
          }

          #createThresholdSliderFormGroup() {
              const id = 'image-template_threshold-slider';

              const label = DomBuilder.element('label', { 'for': id }, 'Value: ' + this.#thresholdValue);

              const slider = DomBuilder.element('input', {
                  id: id,
                  class: 'form-control-range',
                  type: 'range',
                  min: 0, max: 255, value: this.#thresholdValue
              });
              slider.on('change', (e) => {
                  this.#thresholdValue = e.target.value;
                  label.text('Value: ' + this.#thresholdValue);
              });

              return DomBuilder.div({ class: 'form-group' }, [
                  slider,
                  DomBuilder.element('small', null, label)
              ]);
          }

          #createMaxWidthFormGroup() {
              const id = 'image-template_max-width';

              const label = DomBuilder.element('label', { 'for': id }, 'Width: ' + this.#maxWidth);

              const slider = DomBuilder.element('input', {
                  id: id,
                  class: 'form-control-range',
                  type: 'range',
                  min: 25, max: 800, value: this.#maxWidth
              });
              slider.on('change', (e) => {
                  this.#maxWidth = e.target.value;
                  label.text('Width: ' + this.#maxWidth);
              });

              return DomBuilder.div({ class: 'form-group' }, [
                  slider,
                  DomBuilder.element('small', null, label)
              ]);
          }

          #createMaxHeightFormGroup() {
              const id = 'image-template_max-height';

              const label = DomBuilder.element('label', { 'for': id }, 'Height: ' + this.#maxHeight);

              const slider = DomBuilder.element('input', {
                  id: id,
                  class: 'form-control-range',
                  type: 'range',
                  min: 25, max: 800, value: this.#maxHeight
              });
              slider.on('change', (e) => {
                  this.#maxHeight = e.target.value;
                  label.text('Height: ' + this.#maxHeight);
              });

              return DomBuilder.div({ class: 'form-group' }, [
                  slider,
                  DomBuilder.element('small', null, label)
              ]);
          }

          #creatMaterialFormGroup(value, brush, label) {
              const checked = (this.#materialValue === value);
              const id = 'image-template_checkbox-material-' + value;

              const input = DomBuilder.element('input', {
                  class: 'form-check-input',
                  type: 'radio',
                  name: 'template-material',
                  id: id,
                  value: value,
                  checked: checked
              });
              input.on('click', () => {
                  this.#materialBrush = brush;
                  this.#materialValue = value;
              });

              return DomBuilder.div({ class: 'form-check' }, [
                  input,
                  DomBuilder.element('label', { class: 'form-check-label badge badge-secondary ' + value, 'for': id }, label)
              ]);
          }

          getThresholdValue() {
              return this.#thresholdValue;
          }

          getMaterialBrush() {
              return this.#materialBrush;
          }

          getMaxWidth() {
              return this.#maxWidth;
          }

          getMaxHeight() {
              return this.#maxHeight;
          }
      }

      /**
       *
       * @author Patrik Harag
       * @version 2023-10-15
       */
      class Controller {

          #init = {
              scale: 0.5,
              canvasWidthPx: 700,
              canvasHeightPx: 400,
              scene: 'empty'
          };

          /** @type number */
          #currentWidthPoints;
          /** @type number */
          #currentHeightPoints;
          /** @type number */
          #currentScale;

          /** @type SandGame */
          #sandGame = null;
          /** @type string */
          #imageRendering = 'pixelated';
          /** @type function[] */
          #onImageRenderingStyleChanged = [];
          /** @type boolean */
          #simulationEnabled = false;
          /** @type boolean */
          #showActiveChunks = false;
          #rendererInitializer = RendererInitializer.canvasWebGL();

          /** @type ServiceToolManager */
          #serviceToolManager = new ServiceToolManager();
          /** @type ServiceIO */
          #serviceIO = new ServiceIO(this);

          #dialogAnchor;
          #canvasInitializer = null;

          /**
           *
           * @param init
           */
          constructor(init) {
              if (init) {
                  this.#init = init;
              }

              this.#currentWidthPoints = Math.trunc(this.#init.canvasWidthPx * this.#init.scale);
              this.#currentHeightPoints = Math.trunc(this.#init.canvasHeightPx * this.#init.scale);
              this.#currentScale = this.#init.scale;
          }

          /**
           *
           * @param canvasInitializer {function(contextId:string):CanvasRenderingContext2D|WebGLRenderingContext}
           */
          registerCanvasInitializer(canvasInitializer) {
              this.#canvasInitializer = canvasInitializer;
          }

          registerDialogAnchor(dialogAnchor) {
              this.#dialogAnchor = dialogAnchor;
          }

          setup() {
              this.#initialize(Scenes.SCENES[this.#init.scene]);
          }

          /**
           *
           * @param scene {Scene}
           */
          #initialize(scene) {
              if (this.#canvasInitializer == null) {
                  throw 'Illegal state: canvas initializer not registered!';
              }
              if (this.#dialogAnchor == null) {
                  throw 'Illegal state: dialog anchor not registered!';
              }

              const [w, h] = scene.countSize(this.#currentWidthPoints, this.#currentHeightPoints);
              if (w !== this.#currentWidthPoints || h !== this.#currentHeightPoints) {
                  this.#currentWidthPoints = w;
                  this.#currentHeightPoints = h;
                  this.#currentScale = +(w / this.#init.canvasWidthPx).toFixed(3);
              }

              // init game
              const defaultElement = Brushes.AIR.apply(0, 0, undefined);
              let contextType = this.#rendererInitializer.getContextType();
              let context = this.#canvasInitializer(contextType);
              if ((contextType === 'webgl' || contextType === 'webgl2') && (context === null || context === undefined)) {
                  // WebGL is not supported - unsupported at all / unsupported after recent failure
                  // - to test this, run Chrome with --disable-3d-apis
                  this.#reportRenderingFailure("Unable to get WebGL context. Using fallback renderer; game performance may be affected");
                  this.#rendererInitializer = RendererInitializer.canvas2d();
                  contextType = this.#rendererInitializer.getContextType();
                  context = this.#canvasInitializer(contextType);
              }
              this.#sandGame = scene.createSandGame(w, h, defaultElement, context, this.#rendererInitializer);
              this.#sandGame.graphics().replace(ElementArea.TRANSPARENT_ELEMENT, defaultElement);

              this.#onInitialized.forEach(f => f(this.#sandGame));

              // start rendering
              this.#sandGame.startRendering();

              // start processing - if enabled
              if (this.#simulationEnabled) {
                  this.#sandGame.startProcessing();
              }
          }

          #close() {
              if (this.#sandGame !== null) {
                  this.#sandGame.stopProcessing();
                  this.#sandGame.stopRendering();
              }
              for (let func of this.#onBeforeClosed) {
                  func();
              }
          }

          enableGlobalShortcuts() {
              document.onkeydown = (e) => {
                  // handle start stop
                  if (e.ctrlKey && !e.altKey && !e.shiftKey && e.key === 'Enter') {
                      e.preventDefault();
                      this.switchStartStop();
                  }
                  // handle next step
                  if (e.ctrlKey && !e.altKey && !e.shiftKey && e.key === ' ') {
                      e.preventDefault();
                      if (this.#sandGame !== null) {
                          this.#sandGame.doProcessing();
                      }
                  }
                  // handle fast execute
                  if (e.ctrlKey && !e.altKey && e.shiftKey && e.key === ' ') {
                      e.preventDefault();
                      if (this.#sandGame !== null) {
                          const input = prompt('Enter the number of iterations to run', '10000');
                          const iterations = Math.abs(parseInt(input));
                          const timeBefore = new Date();
                          for (let i = 0; i < iterations; i++) {
                              this.#sandGame.doProcessing();
                              if (i % 2500 === 0) {
                                  console.log(`Performed ${i} of ${iterations} iterations`);
                              }
                          }
                          const timeAfter = new Date();
                          const elapsedMs = timeAfter.getTime() - timeBefore.getTime();
                          console.log(`Performed ${iterations} iterations in ${elapsedMs} ms`);
                      }
                  }
              };
          }

          /**
           *
           * @returns {SandGame|null}
           */
          getSandGame() {
              return this.#sandGame;
          }

          // controller - simulation state

          /** @type function(SandGame)[] */
          #onInitialized = [];
          /** @type function(SandGame)[] */
          #onBeforeClosed = [];
          /** @type function[] */
          #onBeforeNewSceneLoaded = [];
          /** @type function[] */
          #onStarted = [];
          /** @type function[] */
          #onStopped = [];

          /**
           *
           * @param handler {function(SandGame)}
           * @returns void
           */
          addOnInitialized(handler) {
              this.#onInitialized.push(handler);
          }

          /**
           *
           * @param handler {function}
           * @returns void
           */
          addOnBeforeNewSceneLoaded(handler) {
              this.#onBeforeNewSceneLoaded.push(handler);
          }

          /**
           *
           * @param handler {function}
           * @returns void
           */
          addOnBeforeClosed(handler) {
              this.#onBeforeClosed.push(handler);
          }

          /**
           *
           * @param handler {function}
           * @returns void
           */
          addOnStarted(handler) {
              this.#onStarted.push(handler);
          }

          /**
           *
           * @param handler {function}
           * @returns void
           */
          addOnStopped(handler) {
              this.#onStopped.push(handler);
          }

          restartAfterRenderingFailure(cause) {
              this.#reportRenderingFailure(cause);
              const snapshot = this.createSnapshot();
              this.#rendererInitializer = RendererInitializer.canvas2d();  // fallback to classic CPU renderer
              this.openScene(new SceneImplSnapshot(snapshot));
          }

          #reportRenderingFailure(message) {
              console.warn(message);

              let toast = new DomBuilder.BootstrapToast();
              toast.setHeaderContent(DomBuilder.element('strong', { style: 'color: orange;' }, 'Warning'));
              toast.setBodyContent(DomBuilder.par(null, message));
              toast.setDelay(20000);
              toast.show(this.#dialogAnchor);
          }

          start() {
              if (this.#sandGame !== null) {
                  if (!this.#simulationEnabled) {
                      this.#simulationEnabled = true;
                      this.#sandGame.startProcessing();
                      this.#onStarted.forEach(f => f());
                  }
              }
          }

          switchStartStop() {
              if (this.#sandGame !== null) {
                  if (this.#simulationEnabled) {
                      this.#simulationEnabled = false;
                      this.#sandGame.stopProcessing();
                      this.#onStopped.forEach(f => f());
                  } else {
                      this.#simulationEnabled = true;
                      this.#sandGame.startProcessing();
                      this.#onStarted.forEach(f => f());
                  }
              }
          }

          /**
           * @returns Snapshot
           */
          createSnapshot() {
              let snapshot = this.#sandGame.createSnapshot();
              snapshot.metadata.scale = this.getCurrentScale();
              return snapshot;
          }

          openScene(scene) {
              for (let handler of this.#onBeforeNewSceneLoaded) {
                  handler();
              }
              this.#close();

              this.#initialize(scene);
          }

          pasteScene(scene) {
              const toolManager = this.getToolManager();
              const revert = toolManager.createRevertAction();

              toolManager.setPrimaryTool(Tool.insertElementAreaTool(null, null, null, [ scene ], revert));
              toolManager.setSecondaryTool(Tool.actionTool(null, null, null, revert));
          }

          // controller / canvas size

          /**
           *
           * @returns {number}
           */
          getCurrentWidthPoints() {
              return this.#currentWidthPoints;
          }

          /**
           *
           * @returns {number}
           */
          getCurrentHeightPoints() {
              return this.#currentHeightPoints;
          }

          /**
           *
           * @returns {number}
           */
          getCurrentScale() {
              return this.#currentScale;
          }

          /**
           *
           * @param width
           * @param height
           * @param scale
           * @returns void
           */
          changeCanvasSize(width, height, scale) {
              if (typeof width !== 'number' || !(width > 0 && width < 2048)) {
                  throw 'Incorrect width';
              }
              if (typeof height !== 'number' || !(height > 0 && height < 2048)) {
                  throw 'Incorrect height';
              }
              if (typeof scale !== 'number' || !(scale > 0 && scale <= 1)) {
                  throw 'Incorrect scale';
              }

              this.#close();

              this.#currentWidthPoints = width;
              this.#currentHeightPoints = height;
              this.#currentScale = scale;

              this.#initialize(new SceneImplTmpResize(this.#sandGame));
          }

          // controller / options

          /**
           *
           * @param show {boolean}
           * @returns void
           */
          setShowActiveChunks(show) {
              this.#showActiveChunks = show;
          }

          /**
           * @returns {boolean}
           */
          isShowActiveChunks() {
              return this.#showActiveChunks;
          }

          /**
           *
           * @param initializer {RendererInitializer}
           * @returns void
           */
          setRendererInitializer(initializer) {
              this.#rendererInitializer = initializer;
              if (this.#sandGame) {
                  this.#close();
                  this.#initialize(new SceneImplTmpResize(this.#sandGame));
              }
          }

          /**
           * @returns {RendererInitializer}
           */
          getRendererInitializer() {
              return this.#rendererInitializer;
          }

          /**
           *
           * @param style {string}
           * @returns void
           */
          setCanvasImageRenderingStyle(style) {
              this.#imageRendering = style;
              for (let func of this.#onImageRenderingStyleChanged) {
                  func(style);
              }
          }

          /**
           * @returns {string}
           */
          getCanvasImageRenderingStyle() {
              return this.#imageRendering;
          }

          /**
           *
           * @param handler {function(string)}
           * @returns void
           */
          addOnImageRenderingStyleChanged(handler) {
              this.#onImageRenderingStyleChanged.push(handler);
          }

          // controller / services

          /**
           *
           * @returns {ServiceToolManager}
           */
          getToolManager() {
              return this.#serviceToolManager;
          }

          /**
           *
           * @returns {ServiceIO}
           */
          getIOManager() {
              return this.#serviceIO;
          }

          // controller / ui

          getDialogAnchor() {
              return this.#dialogAnchor;
          }
      }

      /**
       * @interface
       *
       * @author Patrik Harag
       * @version 2023-08-19
       */
      class Component {

          /**
           *
           * @param controller {Controller}
           * @return {jQuery<HTMLElement>}
           */
          createNode(controller) {
              throw 'Not implemented';
          }
      }

      /**
       * @interface
       *
       * @author Patrik Harag
       * @version 2023-08-19
       */
      class Action {

          /**
           *
           * @param controller {Controller}
           * @returns void
           */
          performAction(controller) {
              throw 'Not implemented';
          }

          /**
           *
           * @param func {function(controller:Controller):void}
           * @returns {ActionAnonymous}
           */
          static create(func) {
              return new ActionAnonymous(func);
          }

          /**
           *
           * @param def {boolean}
           * @param func {function(controller:Controller,v:boolean):void}
           * @returns {ActionAnonymous}
           */
          static createToggle(def, func) {
              let state = def;
              return new ActionAnonymous(function (c) {
                  state = !state;
                  func(c, state);
              });
          }
      }

      class ActionAnonymous extends Action {
          #func;

          constructor(func) {
              super();
              this.#func = func;
          }

          performAction(controller) {
              this.#func(controller);
          }
      }

      var img$j = "data:image/png;base64,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";

      var img$i = "data:image/png;base64,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";

      var img$h = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACoAAAAUCAYAAAD7s6+GAAAACXBIWXMAAAsTAAALEwEAmpwYAAAGYUlEQVRIS9XWW4jc5hnG8f/oOCNpjrvrnfEu6w3BdkJCsONCa0raJD1AoAE7JS49uE0CLTUmNFtyXdyb1BSHuL0p9KKmLKW5CCQ93ZS0DSTg1HbsTWx317U9Hu96jzOagzTSaD6NpF44WbxZt2nSQNvnSu8rIf34eKVPCv8nUd7f+Djy/UPfTgbxzeNiqcgPf/Tj1MYrPnw+NuhPn3/+idrFt08AhD2fpZVlogjmq7DvCw8n2XyO6Zde+cjgD4Se+NkLk08emqq9Vx858kxh8cKV1nt1Lj+MCAXVCzOYZoZCNoeqqWwtb6G+ZnNxbo5s1iLodtn/xc8lAC//8U8fGrwJ+qufv7DrjVf/fA6gMDxMbXYWIAVw+GuPJa3qErquE0URhqaiyQkFI4umaSCl0DWZtdUViqUSI8MF7t91D3NzlxmtlCkWh7lSvcojn92b5AslXvzNH/5tsALw9KHvJuOjWxB9jwsz71Aeq2AaJsQJlmXyg8NPJa1Wk7vu2km9Ued67TrFUhHiBDmV4LkdlHwePZOh3bRxnTZdz8XImsiKQqmUp91u0vVcJBmGhoo0mg32P/JgYuULTL/4wSOhAJTyBXRVYxD0SCXgez6O4+C7HlE0QNd1tm/fTrvdptVsYZoGqqIiJeC6Lpl0hiQFs3OzSEoK07JwvS5hLFir27g9H0WWMXNZ4hgGCaiaggj7XL58ib2fuDc5eebCv8QqAJqmkYoTVpdWWF6ZZ9u2CRaXVnG7LpUto4xWxrBbHebn57Ftm0KhgB8IhoeH0fQMlbFxVupr6KaFoiuEUYiRz7K6sgqaghppJElMIPr4fg9ZU5AlmUazgev2yFp5Hv7M3mRsbIzpX790W/DNFS0W7zjz5qlrTsem0epwY/mvjIyMICkqSUqi1w8BsHIFDCtLFA+4XruOrKpURkdZs236oaAwVCIQPfq9AcsLi3RcB0lSkGUFWZIYBCGyqqGpGhkjjW23UGQN13VpdVwcx+HTn7w/+dY3D+7+zuGpmU3QQ1NTta8feJyhSoV226bbcchoKjt27iAUAkmGVrNFFEdMbpvE7Xbw/S4Ne41BJFBVlaGhEkgp/nZxjn4UYrc6aKpGLmcQDWL8sI8Qgu077sRxHLpOH10zadSdmxBdIxyEdLs+vzjxy3Off/ABXn3t9fXVXX/rt4xtxXc6pA2DiYkJyuURLNOiulbFymaRlRRLC8uUSgVc1yWbtSiXywRBgKqqLCwtocgqW7aWmb04R1o3sHJ57rvnXsIwpNvz8TyPJJYR/RghBEEgyOcLtFpNen4PVVFJkoR2u0MUxTyw91PJ6yffTG2ATkxMPnT+7Om/jIyMsLwwTxjGSJJCpVym3+8DUClvJegJFFnFMnOk02lAwvd8xraO43sB128sYNttMpZBJm1w9eo1VE1D13V0RUdRVDRFR/QEcZjQCwLSaYMoSej1+siyTLFY5OTpsxtmdR06NTX12hPf+CqqIhPHEfV6nSSJKRSKpFIJzWaTsbExJFnCMi2iaIDjdBFCoKgatt1GlhTWVhvk80X6oSCTMdF1HUmSiKOYQRzRaDSw7SZCCDyvi6yq9Pt9NE2jUChwZuZ8iqu1W4g3s+GDv2fPnv1vnXzj5XK5QhiG1Ot1oigmlyuQzeZ55+3z3Ld7F67nE8cxYhDhdD08z2dychtXqjWC3gAja9JxuzSbHYJAMBhEJEkCwOrqCoaRAcA0LYQYICMTiYgv7fuyeWbm/K2k9WyAPj317CtPfeUxMpaJaVpomkaj0SSOoVqtMj4+ju/3cJwuq6sr+J5PFMekZIkbS8sIMUA3TCYn76TXE4RCsNzpkE6nCYVAUWWCXkAcvfvHAhw48Pju544fnwE4cuTIev/92bSFjo6Osrwwj223yefzbJuYwLQsOm2XMIq5Ur1GKiWj6RmGRkYJgoC206Hd6eB5Puko4fTZt9BUFc/zEEKAlCIKQ0QI8436htl77vjxW8t/mk3QHXfvuGNhYeFarjSE3WwShiHtS3/HUHUG/ZDa4iLZrEWxWOL3v/3d+kN3370zMS0DgFQQ8+i+fQ+hKLWjR4/Wlmx7/f4fNZugTx6aqj37zPc4feoUmYxBSpJpNts03z1/aX7htjvHudlLG/pHjx27tfyPswkKcOz4T1IHDx5Mpqenb4v6b+S2UID/JSTAPwB2TvQFACDmHAAAAABJRU5ErkJggg==";

      var img$g = "data:image/png;base64,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";

      var img$f = "data:image/png;base64,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";

      var img$e = "data:image/png;base64,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";

      var img$d = "data:image/png;base64,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";

      var img$c = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAAAwCAYAAAChS3wfAAAACXBIWXMAAAsTAAALEwEAmpwYAAADaUlEQVRoQ+2WO28cRQCAv5l93p69do5zTsQFBkehiJBRhKAxSNBRUCSFqfgBNEgRoqBLmS4lFIiKBv8BuiChoGBCZBxjiBDGTmHs6OLHPbzv2aEgAXtpswvS7tftp5mR5tPM7prUHLMo6kYToCjqRhOgKOpGE6Ao6kYToCjqRhOgKOpGE6Ao6kYToCjKZunKOzrNQhA5bW8Cr91hZeUOa+sboji2CioN8Mbrr+ooHpGpFKUihsMhz81N0eudYwH0fxGh1ADLy8v20tJS8uRZ6pzx8QgpQUqNEHCw36fddnl+bp619Y2T0yuh1AAnN3/t2kcvf3/7O5I0QqmUOEnIlSQYP8Sf7JDnioWXLlZ+CkoNcJJHu/3VVy5d4v79n+n3+xgYJGGCSlP8mWc5ODpiZrpTnFY6lQUYj0b4/gRtb5IDeYRKwRQSAcRhhFYKAby1uKhv3rpV2SmoLECWZQTBMVPTU+zs7JKoFNOw0TJjPBqQCxACkiyt9CpUFsBtuYxGI3q9cxhCkOcKyzCRQhBGEU7LRWuNlJIz/nRxemlUEuC9d69oISTBccDho31c1yUcB6gsQxqSluOgtCZOEjrdswzHo8pOQSUBTNOk232GJAwxDEm322VvZxdpSAwMAIQQQE6mUkzLYn6+ms9iJQEMNG3Xw3Ud0jjCtW0mJlpkSqMSdWpsFEW4XovNzc1TvixKD/Dxhx/o33/7Fa0z8lwRBSFZlnG212NwNGSYjP4eKzTEQUDb8+hMTvPJjRtz71+9uv3Pak+f0gOs3f2BbrfDvdV1ZmdnsaRNFEVYloNpOgRRH8txCIKILMtwWi2ODg4ZByGffv7ZFlDqe6D0APuHAzzPJQgitra3iOMYlWX4/jSDwQDf97FtmzCMkaaJ1jlCmOR5zr31X0rdPFQQYGVtQwAa4Pz5F3BTxfaDBxiWQxBHoCVBnBAEAa7XwnJamIaN7Xp8df363NuXL2+fXvHpUnoA+CvCm4uL+o+HhwB4Ez5KC6RpEccxpjBxvRYzMz329vrc/em2ALj57Ten1imDSgIAfP349/a1hYvamzxDloNpuxiWQxzHvHjhAl98uVz6kS9SWYAnPL4S/+LO6o9FVQmVB/i/0QQoirrRBCiKutEEKIq60QQoirrRBCiKutEEKIq60QQoirrxJ1JCV8S5Z+TMAAAAAElFTkSuQmCC";

      var img$b = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAATCAYAAACdkl3yAAAACXBIWXMAAAsTAAALEwEAmpwYAAAC7UlEQVQ4T62UPW9cRRiFn5k793Pt682yzoq4wOAoFBEyihA0Bgk6CoqkMBU/gAYpQhR0KdOlhAJRpcF/gC5IKCiYEBnHGCKEsVMYO9rY3t27vp8zdyjAa6+ddJzyaM6j94zeGcX/JHXaAFi89oGtdAaiphFNEDVaLC/fZ3VtXZw+e6QzoHfeftPmRYI2FcbkDAYDXpqdotO5wDzY58HU0tKSt7i4WB4Z0tYMDxOkBCktQsD+XpdGI+Dl2TlW19ZP5kdSJyE3bnz2+k/3fqSscoypKMqS2kjS4RPiyRZ1bZh/7fIzpxqr9nSnu/LGlSs8evQb3W4XB4cyKzFVRTz9Ivu9HtPN1snISGOgYZIQxxM0okn2ZQ9TgRISARRZjjUGAby3sGDv3L07NtUYSGtNmh4y1Zxie3uH0lQox8NKzTDpUwsQAkpdnak4BgrCgCRJ6HQu4AhBXRtcRyGFIMtz/DDAWouUknNx82T0GPTRh9esEJL0MOXg6R5BEJANU4zWSEcS+j7GWoqypNU+z2CYjE01AimlaLdfoMwyHEfSbrfZ3d5BOhIHBwAhBFCjTYVyXebmjtdhBHKwNIKIIPCpipzA85iYCNHGYkpzdAyAPM8JopCNjY2RpwA+//QT+9eff2Ctpq4NeZqhteZ8p0O/N2BQJqOAsFCkKY0oojXZ5Itbt2Y/vn59SwGsPviZdrvFw5U1ZmZmcKVHnue4ro9SPmnexfV90jRHa40fhvT2DximGV9+/dUmIBTA3kGfKApI05zNrU2KosBoTRw36ff7xHGM53lkWYFUCmtrhFDUdc3Dtd+PL3t5dV0AFuDixVcIKsPW48c4rk9a5GAlaVGSpilBFOL6Icrx8IKIb2/enH3/6tV/qx3B3l1YsH8/OQAgmogxViCVS1EUKKEIopDp6Q67u10e/HpPANz54Xvg1EJ+99/avzV/2UaT59A1KC/AcX2KouDVS5e4/c3SmQcLz/iPYFT1jO6v/HLaGukfK6ZXUFEV3tAAAAAASUVORK5CYII=";

      var img$a = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAALCAYAAACQy8Z9AAAACXBIWXMAAAsTAAALEwEAmpwYAAAB6klEQVQoU7WSzU4TURiGnzNz5qfTMkEMaFkg0XgXbePCcAWscKXeSG+GRAVvgLgw6J4ASwKr0kCBTmf6M2dmzum4aKhQY1z57M57zvfkTb4j+Q/IxWCRVqNZKjVmefkJtVqVMAzR2lAUOZ/3vorF9/AXaavRLAE8zyHPc4SwiOOYm5sbpLSZ3Xm0Gs1yOIw5Oj55JJ9LW41m+XRlhSxP0dpgjKYoCqS08TwPYzSTyexs25KyLBkOY+r15xwdnzx0zqT3zZIkQTqzJq7rYts2taDKZDxmkqYk05hBP8KREum52LYkSRLetJrl98Mf87YSYL1eZ5KmZFnG0lIVAK0LsixDKYXruqyurvJsbY1Op0OeF0yyFKUUWhcEQZWtrbflwcE3MZcCVHwfKW3G4xFhGOJ5NaR02NzYoNPpcHnZpdfrkRc5QgiwBI4jUUohhCBKBrx++ao8uzgXEuDT3hfx8f2HsuL75IUiDEOMmTIYRJyenNLrXSOEhTaaqTEIYSGwwALf99HaUA2qjOIRj5qqPGNj8wXRXZ9u94rrq2uGoyFRPyKoBjjSwbZsUpUDhnc7O3a73Z7ezz9kLt3d3RXb29ulyQtu726pVAKifkR9fZ3Dn7+XcE+73V6M5jz6p/v7+38Mn12cL0b/5Bf4ONku8uljuAAAAABJRU5ErkJggg==";

      var img$9 = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAASCAYAAABfJS4tAAAACXBIWXMAAAsTAAALEwEAmpwYAAADFklEQVQ4T7XUz2ucRRzH8fc8z+zMs88++yvG1GRrhUKLWOKhxTZYqeBBinrwUr34X4l4lyLoqQcFxZLakJb+sF7ExkAuSmh2m/3R7JN95vk9HpYkVkJsDn6Ow3xfDDMfRvI/Rf574ahceuuiPTH/Ckop4shQrwdsbm4CMBgMefzHmtjb+0LwtWvXrNaa4XafJEkYDQakacZoOMSVEsdxmJubY2Fh3t5cXhZwCHz50kWrtQZgYhLuP3wgJuMQ/ZICYH7uBOrkqxRZxsbGBtJxMcagqh5PnmztO/vwB1fftzWvSmQMVc9DCMG8Upx7/awd7jxjNwyx1rKzs4MrJVpKTp16jbW1NVrtFiaOcR2HxTfO2d8e/y4kTO9u1B8Sex5SCl6eaSOEi+/7rK+vI5XCWovWinD8jLIsGQwGaK1pNAPKMqe0lloQYK09OHEYhniug680eZLxtNslTQsAlFK4rkteFNRrAXFkyPJ8OuxKhBCEYYiu+vh+jTiOD+A3Fxfpd7fob/XwfR+bQxD4AGitkLoCgC1yZmfaJFlKq9HEdV1MmlD1PIKgxqDfx1XTvRKg2+sx6j2l3WphjKEoCiITAyVe1SOODMJ1sNbSarWZnZ1lYmKstRSjEYXOUUpRlCVSTBsnAX5euS3eu3zFRvEuwquw8ugXcfXKuzbcDTFJhhCCdr3O9vY2Qgji2JDlGdJ1SbOYWuCTJAnNZpOFkx1W7947aMXynZX9cgP8sHJbLF04b+M4RimF79c4fbrOeDwmtwWeVyUIakRJTKfT4c7qXc6cOctX178+vMf/zL1Hv4qlC+dtsyIZ704QQiCES7PeJM9z/vpzk6DZoLvVo9Fu41Tc/dkjYTjApZQsdDoUZUGcJoQ7YxzHwUSGSTSZVq/R2J/7Txim+GeffmK7vS6TKMJxHMqyxHEcsjTFcVzaszN8/sWXx/srAK5/8634+KMPbUVWSNOUNEuxpUVrjTERt26sPvdGLwwD3Pjue/HO20tWCEHQaLAzHHJr9XlwL8eCAbKsRCmXH3+6eSi4l2PD9x8+OBLcy99QElUk8fCpxwAAAABJRU5ErkJggg==";

      var img$8 = "data:image/png;base64,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";

      var img$7 = "data:image/png;base64,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";

      var img$6 = "data:image/png;base64,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";

      var img$5 = "data:image/png;base64,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";

      var img$4 = "data:image/png;base64,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";

      /**
       *
       * @author Patrik Harag
       * @version 2023-08-10
       */
      class Templates {

          static TOOLS = [
              {
                  name: "Rock SM",
                  category: "template",
                  type: "template",
                  icon: {
                      imageData: img$c,
                  },
                  action: {
                      type: "random",
                      actions: [
                          {
                              type: "image-template",
                              imageData: img$b,
                              brush: "wall",
                              threshold: 50,
                              randomFlipHorizontally: true
                          },
                          {
                              type: "image-template",
                              imageData: img$a,
                              brush: "wall",
                              threshold: 50,
                              randomFlipHorizontally: true,
                              randomFlipVertically: true
                          },
                          {
                              type: "image-template",
                              imageData: img$9,
                              brush: "wall",
                              threshold: 50,
                              randomFlipHorizontally: true
                          }
                      ]
                  }
              },
              {
                  name: "Rock",
                  category: "template",
                  type: "template",
                  icon: {
                      imageData: img$j,
                  },
                  action: {
                      type: "random",
                      actions: [
                          {
                              type: "image-template",
                              imageData: img$i,
                              brush: "wall",
                              threshold: 50,
                              randomFlipHorizontally: true
                          },
                          {
                              type: "image-template",
                              imageData: img$h,
                              brush: "wall",
                              threshold: 50,
                              randomFlipHorizontally: true,
                              randomFlipVertically: true
                          },
                          {
                              type: "image-template",
                              imageData: img$g,
                              brush: "wall",
                              threshold: 50,
                              randomFlipHorizontally: true,
                              randomFlipVertically: true
                          },
                          {
                              type: "image-template",
                              imageData: img$f,
                              brush: "wall",
                              threshold: 50,
                              randomFlipHorizontally: true,
                              randomFlipVertically: true
                          },
                          {
                              type: "image-template",
                              imageData: img$e,
                              brush: "wall",
                              threshold: 50,
                              randomFlipHorizontally: true
                          },
                          {
                              type: "image-template",
                              imageData: img$d,
                              brush: "wall",
                              threshold: 50,
                              randomFlipHorizontally: true,
                              randomFlipVertically: true
                          }
                      ]
                  }
              },
              {
                  name: "Rock LG",
                  category: "template",
                  type: "template",
                  icon: {
                      imageData: img$8,
                  },
                  action: {
                      type: "random",
                      actions: [
                          {
                              type: "image-template",
                              imageData: img$7,
                              brush: "wall",
                              threshold: 50
                          },
                          {
                              type: "image-template",
                              imageData: img$6,
                              brush: "wall",
                              threshold: 50,
                              randomFlipHorizontally: true
                          }
                      ]
                  }
              },
              {
                  name: "Cabin",
                  category: "template",
                  type: "template",
                  icon: {
                      imageData: img$5,
                  },
                  action: {
                      type: "image-template",
                      imageData: img$4,
                      brush: "wood",
                      threshold: 50,
                      randomFlipHorizontally: true
                  }
              }
          ]

      }

      /**
       *
       * @author Patrik Harag
       * @version 2023-08-19
       */
      class ComponentViewTemplateSelection extends Component {

          createNode(controller) {
              let buttons = [];

              for (const toolDefinition of Templates.TOOLS) {
                  const name = toolDefinition.name;
                  let loadedTool = null;

                  let button = DomBuilder.button(name, { class: 'btn btn-light template-button', 'data-dismiss': 'modal'}, () => {
                      if (loadedTool !== null) {

                          const toolManager = controller.getToolManager();
                          const revert = toolManager.createRevertAction();

                          toolManager.setPrimaryTool(loadedTool);
                          toolManager.setSecondaryTool(Tool.actionTool(null, null, null, revert));

                      }
                  });
                  button.css('background-image', `url(${ toolDefinition.icon.imageData })`);

                  buttons.push(button);

                  ResourceIO.parseToolDefinition(toolDefinition).then(tool => {
                      loadedTool = tool;
                  }).catch(e => {
                      console.warn('Template loading failed: ' + e);
                  });
              }

              return DomBuilder.div({ class: 'sand-game-templates' }, buttons);
          }
      }

      /**
       *
       * @author Patrik Harag
       * @version 2023-08-19
       */
      class ActionDialogTemplateSelection extends Action {

          performAction(controller) {
              let templatesComponent = new ComponentViewTemplateSelection();

              let dialog = new DomBuilder.BootstrapDialog();
              dialog.setHeaderContent('Templates');
              dialog.setBodyContent(DomBuilder.div({ class: 'sand-game-component' }, [
                  DomBuilder.par(null, "Select a template"),
                  templatesComponent.createNode(controller),
                  DomBuilder.par(null, ""),
                  DomBuilder.par(null, "You can also create your own template using an image. See the Import button.")
              ]));
              dialog.addCloseButton('Close');
              dialog.show(controller.getDialogAnchor());
          }
      }

      /**
       *
       * @author Patrik Harag
       * @version 2023-08-19
       */
      class ComponentViewTools extends Component {

          /** @type Tool[] */
          #tools;

          /** @type boolean */
          #templates;

          /**
           * @param tools {Tool[]}
           * @param templates {boolean}
           */
          constructor(tools, templates) {
              super();
              this.#tools = tools;
              this.#templates = templates;
          }

          createNode(controller) {
              let buttons = [];

              for (let tool of this.#tools) {
                  let cssName = tool.getCodeName();
                  let displayName = tool.getDisplayName();
                  let button = DomBuilder.button(displayName, { class: 'badge badge-secondary ' + cssName }, () => {
                      controller.getToolManager().setPrimaryTool(tool);
                      controller.getToolManager().setSecondaryTool(Tools.byCodeName('air'));
                  });

                  controller.getToolManager().addOnPrimaryToolChanged(newTool => {
                      if (newTool === tool) {
                          button.addClass('selected');
                      } else {
                          button.removeClass('selected');
                      }
                  });

                  // initial select
                  if (tool === controller.getToolManager().getPrimaryTool()) {
                      button.addClass('selected');
                  }

                  buttons.push(button);
              }

              if (this.#templates) {
                  let button = DomBuilder.button('Template', { class: 'badge badge-secondary template'}, () => {
                      new ActionDialogTemplateSelection().performAction(controller);
                  });
                  buttons.push(button);
              }

              return DomBuilder.div({ class: 'sand-game-tools' }, buttons);
          }
      }

      /**
       *
       * @author Patrik Harag
       * @version 2023-08-19
       */
      class ComponentContainer {

          #cssClass;
          #components;

          /**
           *
           * @param cssClass {string}
           * @param components {Component[]}
           */
          constructor(cssClass, components) {
              this.#cssClass = cssClass;
              this.#components = components;
          }

          createNode(controller) {
              const content = DomBuilder.div({ class: this.#cssClass }, []);
              for (let component of this.#components) {
                  content.append(component.createNode(controller));
              }
              return content;
          }
      }

      /**
       *
       * @author Patrik Harag
       * @version 2023-08-19
       */
      class ComponentButton {

          static CLASS_PRIMARY = 'btn-primary';
          static CLASS_SECONDARY = 'btn-secondary';
          static CLASS_INFO = 'btn-info';
          static CLASS_SUCCESS = 'btn-success';
          static CLASS_WARNING = 'btn-warning';
          static CLASS_LIGHT = 'btn-light';


          #label;
          #action;
          #cssClass;

          /**
           *
           * @param label {string}
           * @param cssClass {string|null}
           * @param action {Action|function}
           */
          constructor(label, cssClass, action) {
              this.#label = label;
              this.#action = (typeof action === "function" ? Action.create(action) : action);
              this.#cssClass = (cssClass == null ? ComponentButton.CLASS_PRIMARY : cssClass);
          }

          createNode(controller) {
              return DomBuilder.button(this.#label, { class: 'btn ' + this.#cssClass }, e => {
                  this.#action.performAction(controller);
              });
          }
      }

      var FileSaver_minExports = {};
      var FileSaver_min = {
        get exports(){ return FileSaver_minExports; },
        set exports(v){ FileSaver_minExports = v; },
      };

      (function (module, exports) {
        (function(a,b){b();})(commonjsGlobal,function(){function b(a,b){return "undefined"==typeof b?b={autoBom:!1}:"object"!=typeof b&&(console.warn("Deprecated: Expected third argument to be a object"),b={autoBom:!b}),b.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob(["\uFEFF",a],{type:a.type}):a}function c(a,b,c){var d=new XMLHttpRequest;d.open("GET",a),d.responseType="blob",d.onload=function(){g(d.response,b,c);},d.onerror=function(){console.error("could not download file");},d.send();}function d(a){var b=new XMLHttpRequest;b.open("HEAD",a,!1);try{b.send();}catch(a){}return 200<=b.status&&299>=b.status}function e(a){try{a.dispatchEvent(new MouseEvent("click"));}catch(c){var b=document.createEvent("MouseEvents");b.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),a.dispatchEvent(b);}}var f="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof commonjsGlobal&&commonjsGlobal.global===commonjsGlobal?commonjsGlobal:void 0,a=f.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),g=f.saveAs||("object"!=typeof window||window!==f?function(){}:"download"in HTMLAnchorElement.prototype&&!a?function(b,g,h){var i=f.URL||f.webkitURL,j=document.createElement("a");g=g||b.name||"download",j.download=g,j.rel="noopener","string"==typeof b?(j.href=b,j.origin===location.origin?e(j):d(j.href)?c(b,g,h):e(j,j.target="_blank")):(j.href=i.createObjectURL(b),setTimeout(function(){i.revokeObjectURL(j.href);},4E4),setTimeout(function(){e(j);},0));}:"msSaveOrOpenBlob"in navigator?function(f,g,h){if(g=g||f.name||"download","string"!=typeof f)navigator.msSaveOrOpenBlob(b(f,h),g);else if(d(f))c(f,g,h);else {var i=document.createElement("a");i.href=f,i.target="_blank",setTimeout(function(){e(i);});}}:function(b,d,e,g){if(g=g||open("","_blank"),g&&(g.document.title=g.document.body.innerText="downloading..."),"string"==typeof b)return c(b,d,e);var h="application/octet-stream"===b.type,i=/constructor/i.test(f.HTMLElement)||f.safari,j=/CriOS\/[\d]+/.test(navigator.userAgent);if((j||h&&i||a)&&"undefined"!=typeof FileReader){var k=new FileReader;k.onloadend=function(){var a=k.result;a=j?a:a.replace(/^data:[^;]*;/,"data:attachment/file;"),g?g.location.href=a:location=a,g=null;},k.readAsDataURL(b);}else {var l=f.URL||f.webkitURL,m=l.createObjectURL(b);g?g.location=m:location.href=m,g=null,setTimeout(function(){l.revokeObjectURL(m);},4E4);}});f.saveAs=g.saveAs=g,(module.exports=g);});


      } (FileSaver_min));

      var FileSaver = FileSaver_minExports;

      /**
       *
       * @author Patrik Harag
       * @version 2023-08-19
       */
      class ActionIOExport extends Action {

          performAction(controller) {
              const snapshot = controller.createSnapshot();
              const bytes = ResourceIO.createResourceFromSnapshot(snapshot);
              FileSaver.saveAs(new Blob([bytes]), this.#createFilename());
              Analytics.triggerFeatureUsed(Analytics.FEATURE_IO_EXPORT);
          }

          #createFilename() {
              let date = new Date().toISOString().slice(0, 10);
              return `sand-game-js_${date}.sgjs`;
          }
      }

      /**
       *
       * @author Patrik Harag
       * @version 2023-08-19
       */
      class ActionIOImport extends Action {

          performAction(controller) {
              let input = document.createElement('input');
              input.type = 'file';
              input.onchange = e => {
                  controller.getIOManager().loadFromFiles(e.target.files);
              };
              input.click();
          }
      }

      var _ASSET_SVG_PAUSE = "<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-pause-fill\" viewBox=\"0 0 16 16\">\r\n    <path d=\"M5.5 3.5A1.5 1.5 0 0 1 7 5v6a1.5 1.5 0 0 1-3 0V5a1.5 1.5 0 0 1 1.5-1.5zm5 0A1.5 1.5 0 0 1 12 5v6a1.5 1.5 0 0 1-3 0V5a1.5 1.5 0 0 1 1.5-1.5z\"/>\r\n</svg>";

      var _ASSET_SVG_PLAY = "<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-play-fill\" viewBox=\"0 0 16 16\">\r\n    <path d=\"m11.596 8.697-6.363 3.692c-.54.313-1.233-.066-1.233-.697V4.308c0-.63.692-1.01 1.233-.696l6.363 3.692a.802.802 0 0 1 0 1.393z\"/>\r\n</svg>";

      /**
       *
       * @author Patrik Harag
       * @version 2023-08-20
       */
      class ComponentButtonStartStop extends ComponentButton {

          constructor(cssClass) {
              super('', cssClass, Action.create(controller => {
                  controller.switchStartStop();
                  Analytics.triggerFeatureUsed(Analytics.FEATURE_PAUSE);
              }));
          }

          createNode(controller) {
              const btn = super.createNode(controller);

              controller.addOnStarted(() => btn.html([DomBuilder.create(_ASSET_SVG_PAUSE), 'Pause']));
              controller.addOnStopped(() => btn.html([DomBuilder.create(_ASSET_SVG_PLAY), 'Start']));

              return btn;
          }
      }

      /**
       *
       * @author Patrik Harag
       * @version 2023-08-19
       */
      class ComponentStatusIndicator extends Component {

          createNode(controller) {
              let currenStatus = '';

              const nodeStatusLabel = DomBuilder.span('');
              const nodeLabel = [
                  DomBuilder.span('Performance: ', { class: 'status-label' }),
                  nodeStatusLabel
              ];

              const node = DomBuilder.div({ class: 'btn-group' }, [
                  DomBuilder.element('button', {
                      type: 'button',
                      class: 'btn btn-link dropdown-toggle',
                      'data-toggle': 'dropdown',
                      'aria-haspopup': 'true',
                      'aria-expanded': 'false'
                  }, nodeLabel),
                  DomBuilder.element('form', { class: 'dropdown-menu p-2' }, this.#createStatusContent(controller))
              ]);
              node.on('show.bs.dropdown', function () {
                  Analytics.triggerFeatureUsed(Analytics.FEATURE_STATUS_DISPLAYED);
              });

              let updateStatus = (node, status) => {
                  if (status !== currenStatus) {
                      nodeStatusLabel.text(status.toUpperCase());
                      nodeStatusLabel.removeClass('status-' + currenStatus);
                      nodeStatusLabel.addClass('status-' + status);
                      currenStatus = status;
                  }
              };

              controller.addOnStopped(() => updateStatus(node, 'stopped'));
              controller.addOnStarted(() => updateStatus(node, 'started'));
              controller.addOnInitialized(sandGame => {
                  sandGame.addOnRendered(() => {
                      const ips = controller.getSandGame().getIterationsPerSecond();
                      if (ips === 0) {
                          updateStatus(node, 'stopped');
                          return;
                      }
                      if (ips > 105) {
                          updateStatus(node, 'best');
                          return;
                      }
                      if (ips > 80) {
                          updateStatus(node, 'good');
                          return;
                      }
                      if (ips > 50) {
                          updateStatus(node, 'medium');
                          return;
                      }
                      if (ips > 40) {
                          updateStatus(node, 'low');
                          return;
                      }
                      updateStatus(node, 'poor');
                  });
              });

              return node;
          }

          #createStatusContent(controller) {
              const labelCPS = DomBuilder.span();
              const labelFPS = DomBuilder.span();
              controller.addOnInitialized(sandGame => {
                  sandGame.addOnRendered(() => {
                      const fps = controller.getSandGame().getFramesPerSecond();
                      const ips = controller.getSandGame().getIterationsPerSecond();
                      labelFPS.text('= ' + fps);
                      labelCPS.text('= ' + ips);
                  });
              });

              const labelCanvasSize = DomBuilder.span();
              const updateCanvasSize = () => {
                  const w = controller.getCurrentWidthPoints();
                  const h = controller.getCurrentHeightPoints();
                  labelCanvasSize.text(`= ${w.toLocaleString()}\u00D7${h.toLocaleString()} = ${(w * h).toLocaleString()}`);
              };
              controller.addOnInitialized(() => {
                  updateCanvasSize();
              });
              updateCanvasSize();

              return [
                  DomBuilder.span('Simulated elements'),
                  DomBuilder.element('br'),
                  labelCanvasSize,
                  DomBuilder.element('br'),

                  DomBuilder.span('Simulation iterations /s'),
                  DomBuilder.element('br'),
                  labelCPS,
                  DomBuilder.span(' (target: ' + Processor.OPT_CYCLES_PER_SECOND + ')', { style: 'color: lightgray;' }),
                  DomBuilder.element('br'),

                  DomBuilder.span('Rendered frames /s'),
                  DomBuilder.element('br'),
                  labelFPS,
                  DomBuilder.span(' (target: ' + Processor.OPT_FRAMES_PER_SECOND + ')', { style: 'color: lightgray;' }),
                  DomBuilder.element('br'),

                  DomBuilder.element('br'),

                  DomBuilder.span('Tip: adjust scale if needed'),
              ];
          }
      }

      /**
       *
       * @author Patrik Harag
       * @version 2023-08-19
       */
      class ComponentViewOptions extends ComponentContainer {

          constructor() {
              super('sand-game-options', [
                  new ComponentButton('Import', ComponentButton.CLASS_LIGHT, new ActionIOImport()),
                  new ComponentButton('Export', ComponentButton.CLASS_LIGHT, new ActionIOExport()),
                  new ComponentButtonStartStop(ComponentButton.CLASS_LIGHT),
                  new ComponentStatusIndicator(),
              ]);
          }
      }

      /**
       *
       * @author Patrik Harag
       * @version 2023-08-19
       */
      class ActionsTest {

          static TREE_SPAWN_TEST = function (controller) {
              let sandGame = controller.getSandGame();
              if (sandGame === null) {
                  return;
              }

              sandGame.graphics().fill(Brushes.AIR);
              sandGame.graphics().drawRectangle(0, -10, -1, -1, Brushes.SOIL, true);
              sandGame.graphics().drawRectangle(0, -11, -1, -11, Brushes.GRASS, true);

              let c = Math.trunc(sandGame.getHeight() / 2);
              sandGame.graphics().drawRectangle(0, c, -1, c, Brushes.WALL, true);
              sandGame.graphics().drawRectangle(0, c-10, -1, c-1, Brushes.SOIL, true);
              sandGame.graphics().drawRectangle(0, c-11, -1, c-11, Brushes.GRASS, true);
          }

          static TREE_GROW_TEST = function (controller) {
              let sandGame = controller.getSandGame();
              if (sandGame === null) {
                  return;
              }

              let treeBrush = Brush.withIntensity(Brushes.TREE, 0.05);

              sandGame.graphics().fill(Brushes.AIR);
              sandGame.graphics().drawRectangle(0, -10, -1, -1, Brushes.SOIL, true);
              sandGame.graphics().drawRectangle(0, -11, -1, -11, treeBrush, true);

              let c = Math.trunc(sandGame.getHeight() / 2);
              sandGame.graphics().drawRectangle(0, c, -1, c, Brushes.WALL, true);
              sandGame.graphics().drawRectangle(0, c-10, -1, c-1, Brushes.SOIL, true);
              sandGame.graphics().drawRectangle(0, c-11, -1, c-11, treeBrush, true);
          }
      }

      /**
       *
       * @author Patrik Harag
       * @version 2023-08-19
       */
      class ActionBenchmark extends Action {

          performAction(controller) {
              let benchmarkProvider = new BenchmarkProvider(controller, results => {
                  let dialog = new DomBuilder.BootstrapDialog();
                  dialog.setHeaderContent('Benchmark results');
                  dialog.setBodyContent([
                      DomBuilder.par(null, 'IPS AVG: ' + results.ipsAvg.toFixed(2)),
                      DomBuilder.par(null, 'IPS MIN: ' + results.ipsMin)
                  ]);
                  dialog.addCloseButton('Close');
                  dialog.addButton(
                      DomBuilder.button('Download results', { type: 'button', class: 'btn btn-primary' }, e => {
                          const data = JSON.stringify(results, null, '  ');
                          const blob = new Blob([data], { type: 'application/json;charset=utf-8' });
                          FileSaver.saveAs(blob, 'benchmark.json');
                      })
                  );
                  dialog.show(controller.getDialogAnchor());
              });
              benchmarkProvider.start();
          }
      }

      /**
       *
       * @author Patrik Harag
       * @version 2023-04-29
       */
      class BenchmarkProvider {

          static WAITING_GAP = 300;

          /** @type Controller */
          #controller;

          /** @type function */
          #onFinish;

          /**
           *
           * @param controller {Controller}
           * @param onFinish {function({ipsAvg,ipsMin,benchmarks:{name,ipsAvg,ipsMin}[]})}
           */
          constructor(controller, onFinish) {
              this.#controller = controller;
              this.#onFinish = onFinish;
          }

          start() {
              let scene = new SceneImplHardcoded({
                  apply: (sandGame) => this.#benchmarkScene(sandGame)
              });

              this.#controller.openScene(scene);
              this.#controller.start();
          }

          #benchmarkScene(sandGame) {
              const benchmarkResults = [];
              const benchmarkQueue = [...BenchmarkProvider.BENCHMARKS];
              let i = 0;
              let waiting = BenchmarkProvider.WAITING_GAP;
              let ipsSum = 0;
              let ipsMin = Number.MAX_SAFE_INTEGER;
              sandGame.addOnProcessed(() => {
                  if (waiting > 0) {
                      waiting--;
                      return;
                  }
                  if (benchmarkQueue.length === 0) {
                      return;
                  }

                  const benchmark = benchmarkQueue[0];
                  if (i === 0) {
                      console.log('Running benchmark: ' + benchmark.name);
                  }
                  benchmark.nextIteration(sandGame, i);
                  i++;
                  const ips = sandGame.getIterationsPerSecond();
                  ipsSum = ipsSum + ips;
                  ipsMin = Math.min(ipsMin, ips);

                  if (benchmark.iterations === i) {
                      const ipsAvg = ipsSum / benchmark.iterations;
                      benchmarkResults.push({
                          name: benchmark.name,
                          ipsAvg: ipsAvg,
                          ipsMin: ipsMin
                      });

                      benchmarkQueue.shift();
                      i = 0;
                      ipsSum = 0;
                      ipsMin = Number.MAX_SAFE_INTEGER;
                      waiting = BenchmarkProvider.WAITING_GAP;

                      sandGame.graphics().fill(Brushes.AIR);

                      if (benchmarkQueue.length === 0) {
                          this.#onFinish(this.#finalizeResults(sandGame, benchmarkResults));
                      }
                  }
              });
          }

          #finalizeResults(sandGame, benchmarkResults) {
              const ipsSum = benchmarkResults.map(r => r.ipsAvg).reduce((a, b) => a + b, 0);
              const ipsAvg = ipsSum / benchmarkResults.length;
              const ipsMin = benchmarkResults.map(r => r.ipsMin).reduce((a, b) => Math.min(a, b), Number.MAX_SAFE_INTEGER);
              return {
                  version: 1,
                  date: new Date().toString(),
                  ipsAvg: ipsAvg,
                  ipsMin: ipsMin,
                  benchmarks: benchmarkResults,
                  scene: {
                      width: sandGame.getWidth(),
                      height: sandGame.getHeight()
                  }
              }
          }


          static #createBenchmark(name, iterations, nextIteration) {
              if (iterations <= 0) {
                  throw 'Number of iterations must be a positive number';
              }
              return {
                  name: name,
                  iterations: iterations,
                  nextIteration: nextIteration
              };
          }

          static BENCHMARKS = [
              BenchmarkProvider.#createBenchmark('sand-fall-q', 500, function (sandGame, j) {
                  sandGame.graphics().drawRectangle(0, 0, -1, 0, Brushes.SAND, true);
              }),
              BenchmarkProvider.#createBenchmark('sand-fall-s', 2000, function (sandGame, j) {
                  if (j % 10 === 0) {
                      sandGame.graphics().drawRectangle(0, 0, -1, 0, Brushes.SAND, true);
                  }
              }),
              BenchmarkProvider.#createBenchmark('sand-fill', 1000, function (sandGame, j) {
                  if (j === 0) {
                      sandGame.graphics().drawRectangle(0, 0, -1, -1, Brushes.SAND, true);
                  }
              }),
              BenchmarkProvider.#createBenchmark('soil-fall-q', 500, function (sandGame, j) {
                  sandGame.graphics().drawRectangle(0, 0, -1, 0, Brushes.SOIL, true);
              }),
              BenchmarkProvider.#createBenchmark('soil-fall-s', 2000, function (sandGame, j) {
                  if (j % 10 === 0) {
                      sandGame.graphics().drawRectangle(0, 0, -1, 0, Brushes.SOIL, true);
                  }
              }),
              BenchmarkProvider.#createBenchmark('soil-fill', 1000, function (sandGame, j) {
                  if (j === 0) {
                      sandGame.graphics().drawRectangle(0, 0, -1, -1, Brushes.SOIL, true);
                  }
              }),
              BenchmarkProvider.#createBenchmark('water-fall-q', 500, function (sandGame, j) {
                  sandGame.graphics().drawRectangle(0, 0, -1, 0, Brushes.WATER, true);
              }),
              BenchmarkProvider.#createBenchmark('water-fall-s', 2000, function (sandGame, j) {
                  if (j % 10 === 0) {
                      sandGame.graphics().drawRectangle(0, 0, -1, 0, Brushes.WATER, true);
                  }
              }),
              BenchmarkProvider.#createBenchmark('water-fill', 1000, function (sandGame, j) {
                  if (j === 0) {
                      sandGame.graphics().drawRectangle(0, 0, -1, -1, Brushes.WATER, true);
                  }
              }),
              BenchmarkProvider.#createBenchmark('sand-into-water', 1000, function (sandGame, j) {
                  if (j === 0) {
                      sandGame.graphics().drawRectangle(0, 0, -1, 30, Brushes.SAND, true);
                      sandGame.graphics().drawRectangle(0, 60, -1, -1, Brushes.WATER, true);
                  }
              }),
              BenchmarkProvider.#createBenchmark('soil-into-water', 1000, function (sandGame, j) {
                  if (j === 0) {
                      sandGame.graphics().drawRectangle(0, 0, -1, 30, Brushes.SOIL, true);
                      sandGame.graphics().drawRectangle(0, 60, -1, -1, Brushes.WATER, true);
                  }
              }),
          ];
      }

      /**
       *
       * @author Patrik Harag
       * @version 2023-10-14
       */
      class ComponentViewTestTools extends Component {

          static COMPONENTS = [
              new ComponentButton("Tree spawn", ComponentButton.CLASS_SECONDARY, ActionsTest.TREE_SPAWN_TEST),
              new ComponentButton("Tree grow", ComponentButton.CLASS_SECONDARY, ActionsTest.TREE_GROW_TEST),

              new ComponentButton("Chunks", ComponentButton.CLASS_INFO, Action.createToggle(false, (c, v) => c.setShowActiveChunks(v))),
              new ComponentButton("M/webgl", ComponentButton.CLASS_INFO, Action.create(c => c.setRendererInitializer(RendererInitializer.canvasWebGL()))),
              new ComponentButton("M/classic", ComponentButton.CLASS_INFO, Action.create(c => c.setRendererInitializer(RendererInitializer.canvas2d()))),
              new ComponentButton("M/heatmap", ComponentButton.CLASS_INFO, Action.create(c => c.setRendererInitializer(RendererInitializer.canvas2dHeatmap()))),
              new ComponentButton("M/type", ComponentButton.CLASS_INFO, Action.create(c => c.setRendererInitializer(RendererInitializer.canvas2dElementType()))),
              new ComponentButton("M/null", ComponentButton.CLASS_INFO, Action.create(c => c.setRendererInitializer(RendererInitializer.nullRenderer()))),
              new ComponentButton("Pixelated", ComponentButton.CLASS_INFO, Action.createToggle(true, (c, v) => c.setCanvasImageRenderingStyle(v ? 'pixelated' : 'auto'))),

              new ComponentButton("Benchmark", ComponentButton.CLASS_WARNING, new ActionBenchmark()),
          ];


          createNode(controller) {
              let content = DomBuilder.div({ class: 'test-tools' }, []);

              let components = [...ComponentViewTestTools.COMPONENTS];
              for (let tool of Tools.TEST_TOOLS) {
                  let action = Action.create(c => c.getToolManager().setPrimaryTool(tool));
                  components.push(new ComponentButton(tool.getDisplayName(), ComponentButton.CLASS_SUCCESS, action));
              }

              for (let component of components) {
                  content.append(component.createNode(controller));
              }
              return content;
          }
      }

      /**
       *
       * @author Patrik Harag
       * @version 2023-10-15
       */
      class ComponentViewCanvas extends Component {

          #canvasHolderNode = DomBuilder.div({ class: 'sand-game-canvas-holder' });
          #currentCanvas = null;

          createNode(controller) {
              controller.registerCanvasInitializer((contextId) => {
                  this.#canvasHolderNode.empty();

                  const canvasComponent = new ComponentViewInnerCanvas(controller);
                  this.#canvasHolderNode.append(canvasComponent.createNode(controller));
                  this.#currentCanvas = canvasComponent;
                  return canvasComponent.getContext(contextId);
              });

              controller.addOnImageRenderingStyleChanged((imageRenderingStyle) => {
                  if (this.#currentCanvas !== null) {
                      this.#currentCanvas.setImageRenderingStyle(imageRenderingStyle);
                  }
              });

              controller.addOnInitialized((sandGame) => {
                  sandGame.addOnRendered((changedChunks) => {
                      // show highlighted chunks
                      if (controller.isShowActiveChunks()) {
                          this.#currentCanvas.highlightChunks(changedChunks);
                      } else {
                          this.#currentCanvas.highlightChunks(null);
                      }
                  });

                  // mouse handling
                  this.#currentCanvas.initMouseHandling(sandGame);
              });

              controller.addOnBeforeClosed(() => {
                  this.#currentCanvas = null;
                  this.#canvasHolderNode.empty();
              });

              return this.#canvasHolderNode;
          }
      }

      /**
       *
       *
       * @author Patrik Harag
       * @version 2023-10-15
       */
      class ComponentViewInnerCanvas extends Component {

          /** @type Controller */
          #controller;

          #nodeCanvas;

          /** @type SandGameCanvasDebugOverlayComponent */
          #debugOverlayComponent;
          #nodeDebugOverlay;

          /** @type SandGameCanvasCursorOverlayComponent */
          #cursorOverlayComponent;
          #nodeCursorOverlay;


          /**
           * @param controller {Controller}
           */
          constructor(controller) {
              super();
              this.#controller = controller;

              const w = this.#controller.getCurrentWidthPoints();
              const h = this.#controller.getCurrentHeightPoints();
              const scale = this.#controller.getCurrentScale();
              this.#nodeCanvas = this.#createCanvas(w, h, scale);

              this.#debugOverlayComponent = new SandGameCanvasDebugOverlayComponent(w, h, scale, controller);
              this.#nodeDebugOverlay = this.#debugOverlayComponent.createNode();

              this.#cursorOverlayComponent = new SandGameCanvasCursorOverlayComponent(w, h, scale, controller);
              this.#nodeCursorOverlay = this.#cursorOverlayComponent.createNode();
          }

          #createCanvas(w, h, scale) {
              const wPx = w / scale;
              const hPx = h / scale;
              const canvas = DomBuilder.element('canvas', {
                  style: `position: relative; width: ${wPx}px; height: ${hPx}px;`,
                  class: 'sand-game-canvas',
                  width: w + 'px',
                  height: h + 'px'
              });

              // rendering style
              let domCanvasNode = canvas[0];
              domCanvasNode.style.imageRendering = this.#controller.getCanvasImageRenderingStyle();

              return canvas;
          }

          createNode(controller) {
              return DomBuilder.div({
                  style: 'position: relative;',
                  class: 'sand-game-canvas-component'
              }, [
                  this.#nodeCanvas,
                  this.#nodeDebugOverlay,
                  this.#nodeCursorOverlay
              ]);
          }

          initMouseHandling(sandGame) {
              let domNode = this.#nodeCursorOverlay[0];
              const scale = this.#controller.getCurrentScale();

              let getActualMousePosition = (e) => {
                  const rect = domNode.getBoundingClientRect();
                  const x = Math.max(0, Math.trunc((e.clientX - rect.left) * scale));
                  const y = Math.max(0, Math.trunc((e.clientY - rect.top) * scale));
                  return [x, y];
              };

              let lastX, lastY;
              let lastTool = null;  // drawing is not active if null
              let ctrlPressed = false;
              let shiftPressed = false;

              this.#nodeCursorOverlay.bind('contextmenu', e => false);
              domNode.addEventListener('mousedown', (e) => {
                  const [x, y] = getActualMousePosition(e);
                  lastX = x;
                  lastY = y;
                  lastTool = null;
                  ctrlPressed = false;
                  shiftPressed = false;

                  if (e.buttons === 4) {
                      // middle button
                      e.preventDefault();

                      if (!e.altKey && !e.ctrlKey && !e.shiftKey) {
                          const tool = this.#controller.getToolManager().getTertiaryTool();
                          tool.applyPoint(x, y, sandGame.graphics(), false);
                          Analytics.triggerFeatureUsed(Analytics.FEATURE_DRAW_TERTIARY);
                          Analytics.triggerToolUsed(tool);
                      } else if (e.altKey && e.ctrlKey && e.shiftKey) {
                          console.log('' + x + 'x' + y + ': ' + sandGame.debugElementAt(x, y));
                      }
                      return;
                  }

                  if (e.buttons === 1) {
                      lastTool = this.#controller.getToolManager().getPrimaryTool();
                      Analytics.triggerFeatureUsed(Analytics.FEATURE_DRAW_PRIMARY);
                  } else {
                      lastTool = this.#controller.getToolManager().getSecondaryTool();
                      Analytics.triggerFeatureUsed(Analytics.FEATURE_DRAW_SECONDARY);
                  }

                  if (e.ctrlKey && e.shiftKey) {
                      lastTool.applySpecial(x, y, sandGame.graphics(), e.altKey);
                      Analytics.triggerFeatureUsed(Analytics.FEATURE_DRAW_FLOOD);
                      Analytics.triggerToolUsed(lastTool);
                      lastTool = null;
                      return;
                  }

                  if (!e.ctrlKey && !e.shiftKey) {
                      lastTool.applyPoint(x, y, sandGame.graphics(), e.altKey);
                      Analytics.triggerToolUsed(lastTool);
                  } else {
                      if (e.ctrlKey && lastTool.isSelectionEnabled()) {
                          ctrlPressed = e.ctrlKey;
                      }
                      if (e.shiftKey && lastTool.isStrokeEnabled()) {
                          shiftPressed = e.shiftKey;
                      }
                  }
                  // if (!lastTool.isStrokeEnabled()) {
                  //     lastTool = null;
                  // }
              });
              domNode.addEventListener('mousemove', (e) => {
                  if (!ctrlPressed && !shiftPressed) {

                      // show / move cursor
                      if (this.#cursorOverlayComponent.hasCursor()) {
                          const [x, y] = getActualMousePosition(e);
                          this.#cursorOverlayComponent.moveCursor(x, y, scale);
                      } else {
                          const cursorDefinition = this.#controller.getToolManager().getPrimaryTool().createCursor();
                          if (cursorDefinition !== null) {
                              const [x, y] = getActualMousePosition(e);
                              this.#cursorOverlayComponent.showCursor(x, y, scale, cursorDefinition);
                          }
                      }

                      if (lastTool === null) {
                          return;
                      }

                      // drawing
                      const [x, y] = getActualMousePosition(e);
                      lastTool.applyStroke(lastX, lastY, x, y, sandGame.graphics(), e.altKey);
                      Analytics.triggerToolUsed(lastTool);
                      lastX = x;
                      lastY = y;
                      return;
                  }

                  if (lastTool === null) {
                      return;
                  }
                  if (ctrlPressed && shiftPressed) {
                      return;
                  }
                  if (ctrlPressed) {
                      const [x, y] = getActualMousePosition(e);
                      this.#cursorOverlayComponent.repaintRectangleSelection(lastX, lastY, x, y, scale);
                      return;
                  }
                  if (shiftPressed) {
                      const [x, y] = getActualMousePosition(e);
                      this.#cursorOverlayComponent.repaintLineSelection(lastX, lastY, x, y, scale);
                      return;
                  }
              });
              domNode.addEventListener('mouseup', (e) => {
                  if (lastTool === null) {
                      return;
                  }
                  if (ctrlPressed) {
                      const [x, y] = getActualMousePosition(e);
                      let minX = Math.min(lastX, x);
                      let minY = Math.min(lastY, y);
                      let maxX = Math.max(lastX, x);
                      let maxY = Math.max(lastY, y);
                      lastTool.applyArea(minX, minY, maxX, maxY, sandGame.graphics(), e.altKey);
                      Analytics.triggerFeatureUsed(Analytics.FEATURE_DRAW_RECT);
                      Analytics.triggerToolUsed(lastTool);
                  } else if (shiftPressed) {
                      const [x, y] = getActualMousePosition(e);
                      lastTool.applyStroke(lastX, lastY, x, y, sandGame.graphics(), e.altKey);
                      Analytics.triggerFeatureUsed(Analytics.FEATURE_DRAW_LINE);
                      Analytics.triggerToolUsed(lastTool);
                  }
                  lastTool = null;
                  this.#cursorOverlayComponent.hideCursors();
              });
              domNode.addEventListener('mouseout', (e) => {
                  this.#cursorOverlayComponent.hideCursors();
              });
              domNode.addEventListener('mouseenter', (e) => {
                  if (lastTool !== null && e.buttons === 0) {
                      // mouse released outside...
                      lastTool = null;
                      this.#cursorOverlayComponent.hideCursors();
                      e.preventDefault();
                  }
              });

              // touch support

              let getActualTouchPosition = (e) => {
                  let touch = e.touches[0];
                  return getActualMousePosition(touch);
              };
              domNode.addEventListener('touchstart', (e) => {
                  const [x, y] = getActualTouchPosition(e);
                  lastX = x;
                  lastY = y;
                  lastTool = this.#controller.getToolManager().getPrimaryTool();
                  lastTool.applyPoint(x, y, sandGame.graphics(), false);
                  Analytics.triggerFeatureUsed(Analytics.FEATURE_DRAW_PRIMARY);
                  Analytics.triggerToolUsed(lastTool);

                  e.preventDefault();
              });
              domNode.addEventListener('touchmove', (e) => {
                  if (lastTool === null) {
                      return;
                  }
                  const [x, y] = getActualTouchPosition(e);
                  lastTool.applyStroke(lastX, lastY, x, y, sandGame.graphics(), false);
                  Analytics.triggerToolUsed(lastTool);
                  lastX = x;
                  lastY = y;

                  e.preventDefault();
              });
              domNode.addEventListener('touchend', (e) => {
                  lastTool = null;

                  e.preventDefault();
              });
          }

          getContext(contextId) {
              let domCanvasNode = this.#nodeCanvas[0];

              if (contextId === 'webgl' || contextId === 'webgl2') {
                  // handle WebGL failures

                  domCanvasNode.addEventListener('webglcontextlost', (e) => {
                      // GPU memory leak, GPU failure, etc.
                      // - to test this move the texture definition into rendering loop to create a memory leak

                      const cause = 'WebGL context loss detected. Using fallback renderer; game performance may be affected';
                      e.preventDefault();
                      setTimeout(() => {
                          this.#controller.restartAfterRenderingFailure(cause);
                      }, 2000);
                  }, false);
              }

              return domCanvasNode.getContext(contextId);
          }

          setImageRenderingStyle(style) {
              let domCanvasNode = this.#nodeCanvas[0];
              domCanvasNode.style.imageRendering = style;
          }

          highlightChunks(changedChunks) {
              this.#debugOverlayComponent.highlightChunks(changedChunks);
          }
      }

      /**
       *
       * @author Patrik Harag
       * @version 2023-05-09
       */
      class SandGameCanvasCursorOverlayComponent {

          /** @type Controller */
          #controller;

          #nodeOverlay;

          /** @type {{node:any,width:number,height:number}|null} */
          #cursor = null;

          constructor(w, h, scale, controller) {
              const wPx = w / scale;
              const hPx = h / scale;
              this.#nodeOverlay = DomBuilder.div({
                  style: `position: absolute; left: 0; top: 0; width: ${wPx}px; height: ${hPx}px;`,
                  class: 'sand-game-canvas-overlay',
                  width: w + 'px',
                  height: h + 'px',
              });
              this.#controller = controller;
          }

          createNode() {
              return this.#nodeOverlay;
          }

          hideCursors() {
              this.#nodeOverlay.empty();
              this.#cursor = null;
          }

          repaintRectangleSelection(lastX, lastY, x, y, scale) {
              this.#nodeOverlay.empty();

              let xPx = Math.min(lastX, x) / scale;
              let yPx = Math.min(lastY, y) / scale;
              let wPx = Math.abs(x - lastX) / scale;
              let hPx = Math.abs(y - lastY) / scale;

              const selection = DomBuilder.div();
              selection.css({
                  left: xPx + 'px',
                  top: yPx + 'px',
                  width: wPx + 'px',
                  height: hPx + 'px',
                  position: 'absolute',
                  outline: 'black 1px solid',
                  'pointer-events': 'none'
              });
              this.#nodeOverlay.append(selection);
          }

          repaintLineSelection(lastX, lastY, x, y, scale) {
              this.#nodeOverlay.empty();

              const w = this.#controller.getCurrentWidthPoints();
              const h = this.#controller.getCurrentHeightPoints();

              const line = DomBuilder.create(`
              <svg viewBox="0 0 ${w} ${h}" xmlns="http://www.w3.org/2000/svg">
                <line x1="${lastX}" y1="${lastY}" x2="${x}" y2="${y}" stroke="black" />
              </svg>`
              );
              line.css({
                  'pointer-events': 'none'
              });
              this.#nodeOverlay.append(line);
          }

          showCursor(x, y, scale, cursorDefinition) {
              if (cursorDefinition instanceof CursorDefinitionElementArea) {
                  const wPx = Math.trunc(cursorDefinition.getWidth() / scale);
                  const hPx = Math.trunc(cursorDefinition.getHeight() / scale);

                  const node = DomBuilder.element('canvas', {
                      width: cursorDefinition.getWidth() + 'px',
                      height: cursorDefinition.getHeight() + 'px',
                      style: `width: ${wPx}px; height: ${hPx}px; outline: black 1px solid;`,
                  });

                  // render preview
                  let domCanvasNode = node[0];
                  domCanvasNode.style.imageRendering = 'pixelated';
                  Renderer2D.renderPreview(cursorDefinition.getElementArea(), domCanvasNode.getContext('2d'), 0xBB);

                  this.#cursor = {
                      width: wPx,
                      height: hPx,
                      node: node
                  };
              } else {
                  return;
              }

              this.#cursor.node.css({
                  position: 'absolute',
                  'pointer-events': 'none',
              });

              this.moveCursor(x, y, scale);
          }

          hasCursor() {
              return this.#cursor !== null;
          }

          moveCursor(x, y, scale) {
              const cursor = this.#cursor;

              const pxW = this.#controller.getCurrentWidthPoints() / scale;
              const pxH = this.#controller.getCurrentHeightPoints() / scale;

              const pxTop = y / scale - Math.trunc(cursor.height / 2);
              const pxLeft = x / scale - Math.trunc(cursor.width / 2);

              const UNSET = -1;  // expect border
              const pxClipTop = pxTop < 0 ? -pxTop : UNSET;
              const pxClipRight = pxLeft + cursor.width >= pxW ? pxLeft + cursor.width - pxW : UNSET;
              const pxClipBottom = pxTop + cursor.height >= pxH ? pxTop + cursor.height - pxH : UNSET;
              const pxClipLeft = pxLeft < 0 ? -pxLeft : UNSET;

              cursor.node.css({
                  top: pxTop + 'px',
                  left: pxLeft + 'px',
                  'clip-path': `inset(${pxClipTop}px ${pxClipRight}px ${pxClipBottom}px ${pxClipLeft}px)`
              });

              this.#nodeOverlay.empty();
              this.#nodeOverlay.append(cursor.node);
          }
      }

      /**
       *
       * @author Patrik Harag
       * @version 2023-05-14
       */
      class SandGameCanvasDebugOverlayComponent {

          /** @type Controller */
          #controller;

          #nodeOverlay;

          #w;
          #h;
          #scale;

          constructor(w, h, scale, controller) {
              this.#w = w;
              this.#h = h;
              this.#scale = scale;
              const wPx = w / scale;
              const hPx = h / scale;
              this.#nodeOverlay = DomBuilder.div({
                  style: `position: absolute; left: 0; top: 0; width: ${wPx}px; height: ${hPx}px;`,
                  class: 'sand-game-canvas-overlay',
                  width: w + 'px',
                  height: h + 'px',
              });
              this.#controller = controller;
          }

          /**
           *
           * @param changedChunks {boolean[]}
           */
          highlightChunks(changedChunks) {
              this.#nodeOverlay.empty();

              if (changedChunks) {

                  const sandGame = this.#controller.getSandGame();
                  const chunkSize = sandGame.getChunkSize();
                  const horChunkCount = Math.ceil(sandGame.getWidth() / chunkSize);
                  const verChunkCount = Math.ceil(sandGame.getHeight() / chunkSize);

                  let highlighted = 0;

                  for (let cy = 0; cy < verChunkCount; cy++) {
                      for (let cx = 0; cx < horChunkCount; cx++) {
                          const chunkIndex = cy * horChunkCount + cx;
                          if (changedChunks[chunkIndex]) {
                              this.#highlightChunk(cx, cy, chunkSize);
                              highlighted++;
                          }
                      }
                  }

                  // show stats
                  const total = horChunkCount * verChunkCount;
                  const highlightedPercent = Math.trunc(highlighted / total * 100);
                  this.#showText(0, 0, `${highlighted}/${total} (${highlightedPercent}%)`);
              }
          }

          #showText(x, y, text) {
              const label = DomBuilder.span(text);
              const xPx = x / this.#scale;
              const yPx = y / this.#scale;
              label.css({
                  left: xPx + 'px',
                  top: yPx + 'px',
                  position: 'absolute',
                  color: 'rgb(0, 255, 0)'
              });
              this.#nodeOverlay.append(label);
          }

          #highlightChunk(cx, cy, chunkSize) {
              const wPx = this.#w / this.#scale;
              const hPx = this.#h / this.#scale;
              const xPx = cx * chunkSize / this.#scale;
              const yPx = cy * chunkSize / this.#scale;
              const cwPx = chunkSize / this.#scale;
              const chPx = chunkSize / this.#scale;

              const selection = DomBuilder.div();
              selection.css({
                  left: xPx + 'px',
                  top: yPx + 'px',
                  width: cwPx + 'px',
                  height: chPx + 'px',
                  position: 'absolute',
                  outline: 'rgb(0, 255, 0) 1px solid'
              });

              if (xPx + cwPx >= wPx || yPx + chPx >= hPx) {
                  // clip

                  const UNSET = -1;  // expect border
                  const pxClipTop = UNSET;
                  const pxClipRight = xPx + cwPx >= wPx ? xPx + cwPx - wPx : UNSET;
                  const pxClipBottom = yPx + chunkSize >= hPx ? yPx + chPx - hPx : UNSET;
                  const pxClipLeft = UNSET;

                  selection.css({
                      'clip-path': `inset(${pxClipTop}px ${pxClipRight}px ${pxClipBottom}px ${pxClipLeft}px)`
                  });
              }

              this.#nodeOverlay.append(selection);
          }

          createNode() {
              return this.#nodeOverlay;
          }
      }

      /**
       *
       * @author Patrik Harag
       * @version 2023-06-05
       */
      class ComponentViewSceneSelection extends Component {

          static CLASS_SELECTED = 'selected-scene';
          static CLASS_VISITED = 'visited-scene';

          static SCENES = [
              'empty',
              'landscape_1',
              'landscape_2',
              'fallthrough',
              'platform'
          ];


          /** @type Controller */
          #controller;

          #ignoreOnBeforeNewSceneLoaded = false;

          #initialScene;

          #selected = null;
          #selectedSceneId = null;

          #closedScenes = new Map();

          /**
           * @param controller {Controller}
           * @param initialScene
           */
          constructor(controller, initialScene) {
              super();
              this.#controller = controller;
              this.#initialScene = initialScene;

              this.#controller.addOnBeforeNewSceneLoaded(() => {
                  if (!this.#ignoreOnBeforeNewSceneLoaded) {
                      this.#store();
                      this.#unselect();
                  }
              });
          }

          createNode(controller) {
              let content = DomBuilder.div({ class: 'scenes' }, []);
              for (let id of ComponentViewSceneSelection.SCENES) {
                  let scene = Scenes.SCENES[id];

                  let label = DomBuilder.element('span', { class: 'scene-title' }, scene.name);
                  // scene.description ? scene.description : '\u00A0'
                  let node = DomBuilder.button(label, { class: 'btn btn-outline-secondary scene' }, () => {
                      this.#onSelect(id, node, scene);
                  });

                  // mark initial scene
                  if (id === this.#initialScene) {
                      this.#selected = node;
                      this.#selectedSceneId = id;
                      node.addClass(ComponentViewSceneSelection.CLASS_SELECTED);
                      node.addClass(ComponentViewSceneSelection.CLASS_VISITED);
                  }

                  content.append(node);
              }

              return content;
          }

          #onSelect(id, node, scene) {
              if (this.#selected) {
                  if (this.#selectedSceneId === id) {
                      // already opened - rebuild scene
                      this.#rebuildConfirm(() => {
                          this.#select(node, id, scene);
                          Analytics.triggerFeatureUsed(Analytics.FEATURE_RESTART_SCENE);
                      });
                  } else {
                      // store snapshot of the old scene and open...
                      this.#store();
                      this.#select(node, id, scene);
                      Analytics.triggerFeatureUsed(Analytics.FEATURE_SWITCH_SCENE);
                  }
              } else {
                  // open
                  this.#select(node, id, scene);
                  Analytics.triggerFeatureUsed(Analytics.FEATURE_SWITCH_SCENE);
              }
          }

          #rebuildConfirm(onConfirm) {
              let dialog = new DomBuilder.BootstrapDialog();
              dialog.setHeaderContent('Restart scene');
              dialog.setBodyContent([
                  DomBuilder.par(null, "Do you want to restart the scene?")
              ]);
              dialog.addSubmitButton('Confirm', onConfirm);
              dialog.addCloseButton('Close');
              dialog.show(this.#controller.getDialogAnchor());
          }

          #select(node, id, scene) {
              this.#unselect();

              this.#selected = node;
              this.#selectedSceneId = id;
              node.addClass(ComponentViewSceneSelection.CLASS_SELECTED);
              node.addClass(ComponentViewSceneSelection.CLASS_VISITED);

              // restore or build scene
              let snapshot = this.#closedScenes.get(id);
              if (snapshot) {
                  this.#closedScenes.delete(id);

                  this.#ignoreOnBeforeNewSceneLoaded = true;
                  this.#controller.openScene(new SceneImplSnapshot(snapshot));
                  this.#ignoreOnBeforeNewSceneLoaded = false;
              } else {
                  this.#ignoreOnBeforeNewSceneLoaded = true;
                  this.#controller.openScene(scene);
                  this.#ignoreOnBeforeNewSceneLoaded = false;
              }
          }

          #unselect() {
              if (this.#selected) {
                  this.#selected.removeClass(ComponentViewSceneSelection.CLASS_SELECTED);
              }
              this.#selected = null;
              this.#selectedSceneId = null;
          }

          #store() {
              if (this.#selected) {
                  this.#closedScenes.set(this.#selectedSceneId, this.#controller.createSnapshot());
              }
          }
      }

      /**
       *
       * @author Patrik Harag
       * @version 2023-08-19
       */
      class ActionDialogChangeCanvasSize extends Action {

          performAction(controller) {
              let formBuilder = new DomBuilder.BootstrapSimpleForm();
              formBuilder.addInput('Width', 'width', '' + controller.getCurrentWidthPoints());
              formBuilder.addInput('Height', 'height', '' + controller.getCurrentHeightPoints());
              formBuilder.addInput('Scale', 'scale', '' + controller.getCurrentScale());

              let dialog = new DomBuilder.BootstrapDialog();
              dialog.setHeaderContent('Change canvas size manually');
              dialog.setBodyContent(formBuilder.createNode());
              dialog.addSubmitButton('Submit', () => {
                  let data = formBuilder.getData();
                  let w = Number.parseInt(data['width']);
                  let h = Number.parseInt(data['height']);
                  let s = Number.parseFloat(data['scale']);
                  controller.changeCanvasSize(w, h, s);
                  Analytics.triggerFeatureUsed(Analytics.FEATURE_CANVAS_SIZE_CHANGE);
              });
              dialog.addCloseButton('Close');
              dialog.show(controller.getDialogAnchor());
          }
      }

      var img$3 = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHgAAABQCAYAAADSm7GJAAAACXBIWXMAAA7DAAAOwwHHb6hkAAACHUlEQVR4Xu3WQW6EMBBEUSJx3jkMF55s4ogQG2zTxeDi/10ijdxTb5HME1k3b39BXgFsHsDmAWwewOYBbB7A5gFsHsDmAWwewOYBbB7A5gFsHsDmAWwewOYBbB7A5gFsHsCrlmV5r39+vV5f659HDOCftrjpd6MjAzzlcVOjIz8eeA83NTLyo4FrcFOjIj8WuAU3NSLyI4F7cFOjIT8O+AxuaiTkRwFH4KZGQX4McCRuagTkjwGvB1ePpMBN3R35I8DbwZUjbd9SpLz/bJcDlwZXjFR6S5Hi/oguBT4aPHKko7cURd4f1WXAtYNHjFT7lqKI+yO7BLh18DMjtb6l6Mz90cmBewfvGan3LUU99yuSAp8dvGWks28parlflQw4avCakaLeUlRzvzIJcPTgeyNFv6Vo73514cCqwXMjqd5SlLu/1Pp71X6mVCiwevD1SOq3FNUgb79XzWf2CgPeHqbqqndU7YGVvtveZ44KAS4dRvlyYEcb5j5T02ngo8MoX8+fmx7kU8C1h1G+nv1akbuBe46jmFqQu4DB/Xy1yM3A4N6nGuQmYHDv1xFyNTC4920PuQoY3PtXQj4EBneccsi7wOCO1xa5CAzuuK2Rs8Dgjl9C/gcMrk/Lsrz/AIPr1y8wuJ7N0wSuczO43v37J4u8Atg8gM0D2DyAzQPYPIDNA9g8gM0D2DyAzQPYPIDNA9g8gM0D2DyAzQPYvG9K/XJS29iPWwAAAABJRU5ErkJggg==";

      var img$2 = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHgAAABQCAYAAADSm7GJAAAACXBIWXMAAA7DAAAOwwHHb6hkAAABSElEQVR4Xu3WQQ6EIBAFUUw8L4fxwjN78xedQBDLeksiYbAysc8mtPO+IBYDwxkYzsBwBoYzMJyB4QwMZ2A4A8MZGM7AcAaGMzCcgeEMDGdgOAPDGRjOwK2167p+97Wk937c13ZnYDgDwxkYzsBwnwtcHaiStHf3wetzgb/GwHAGhjMw3JLAaThJZg8s1XNHpDNm32PEksB6joHhDAxnYLjpgdPQUZX2VgeWtPcp6bdU7zHb9MDai4HhDAxnYLihwGmYmG3FGSuke6TBq/pc1VBg7c/AcAaGMzBcOXD6+GtM9Z2m56qDVzmw3snAcAaGMzBcDJw+6tpLapQGrxhYHAaGMzCcgeHO9LHWO6WW/oPhDAxnYDgDwxkYzsBwBoYzMJyB4QwMZ2A4A8MZGM7AcAaGMzCcgeEMDGdgOAPDGRjOwHAGhjMw3B/1T0cI5HMokgAAAABJRU5ErkJggg==";

      var img$1 = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHgAAABQCAYAAADSm7GJAAAACXBIWXMAAA7DAAAOwwHHb6hkAAABGklEQVR4Xu3YMU7EMBQAUZBy3hwmF4Y+BforGcNO3itdOFZGLvyPD9KO+wItAscJHCdwnMBxAscJHCdwnMBxAscJHCdwnMBxAscJHCdwnMBxjw58XdfXfe3uPM/P+9o7eXTgJxA4TuA4geMEjhM4TuA4geO2Bt45WJh8a2Kyz6oz/4atgdlP4DiB4wSOEzhO4DiB4wSOWxZ4MhCYWLXPTpMz/9UwZFlg/ieB4wSOEzhO4DiB4wSOEzhuFHjykOdnq/7hqwOTUWDel8BxAscJHCdwnMBxAscJHHeseoCzx6u93OA4geMEjhM4TuA4geMEjhM4TuA4geMEjhM4TuA4geMEjhM4TuA4geMEjhM4TuA4geMEjhM4TuC4b6YQJX8pLssnAAAAAElFTkSuQmCC";

      var img = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHgAAABQCAYAAADSm7GJAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAA+ElEQVR4Xu3ZsQ3DMAwAwRjwvBpGCye9KgMq7LzvSnbiQxXPD2nnOqBF4DiB4wSOEzhO4DiB4wSOEzhO4DiB4wSOEzhO4LjXBZ5zftfZVWOMY5093esCv43AcQLHCRwncJzAcQLHCRwncJzAcQLHCRwncJzAcVuBd05v/2jnvXedGrcC83wCxwkcJ3CcwHECxwkcJ3CcwHECxwkcJ3CcwHECx507JzCuu2vPfnCcwHECxwkcJ3CcwHECxwkcJ3CcwHECxwkcJ3CcwHECxwkcJ3CcwHECxwkcJ3CcwHECxwkcJ3CcwHECxwkcJ3CcwHECxwkcJ3CcwHE/D68RYAgtpF0AAAAASUVORK5CYII=";

      /**
       *
       * @author Patrik Harag
       * @version 2023-08-19
       */
      class ComponentViewElementSizeSelection extends Component {

          static CLASS_SELECTED = 'selected-size';

          static SIZES = [
              { scale: 0.75,  image: img$3, description: 'Very small elements' },
              { scale: 0.5,   image: img$2, description: 'Small elements' },
              { scale: 0.375, image: img$1, description: 'Medium elements' },
              { scale: 0.25,  image: img, description: 'Big elements' },
          ];


          #nodes = [];

          #selected = null;
          #selectedScale = null;

          createNode(controller) {
              for (let sizeDef of ComponentViewElementSizeSelection.SIZES) {
                  let node = this.#createSizeCard(sizeDef.scale, sizeDef.image, sizeDef.description);

                  // initial scale
                  if (sizeDef.scale === controller.getCurrentScale()) {
                      this.#mark(node, sizeDef.scale);
                  }

                  node.on('click', e => {
                      this.#select(node, sizeDef.scale, controller);
                  });

                  this.#nodes.push(node);
              }

              return DomBuilder.div(null, [
                  DomBuilder.par(null, "Increasing the size of the elements will result in the top and right" +
                      " parts of the canvas being clipped."),
                  DomBuilder.par(null, "Reducing the size of the elements will result in an expansion of" +
                      " the canvas in the upper and right parts."),
                  DomBuilder.par(null, "Only the scale of the current scene and the initial setting for new" +
                      " scenes will be changed. Scene can be regenerated by clicking on the scene card."),

                  DomBuilder.div({ class: 'element-size-options' }, this.#nodes)
              ]);
          }

          #select(node, newScale, controller) {
              if (this.#selectedScale === newScale) {
                  return;  // already selected
              }

              // mark selected
              if (this.#selected) {
                  this.#selected.removeClass(ComponentViewElementSizeSelection.CLASS_SELECTED);
              }
              this.#mark(node, newScale);

              // change scale
              let w = Math.trunc(controller.getCurrentWidthPoints() / controller.getCurrentScale() * newScale);
              let h = Math.trunc(controller.getCurrentHeightPoints() / controller.getCurrentScale() * newScale);
              controller.changeCanvasSize(w, h, newScale);

              Analytics.triggerFeatureUsed(Analytics.FEATURE_SWITCH_SCALE);
          }

          #mark(node, scale) {
              node.addClass(ComponentViewElementSizeSelection.CLASS_SELECTED);
              this.#selected = node;
              this.#selectedScale = scale;
          }

          /**
           *
           * @param scale {number}
           * @param image {string}
           * @param description {string}
           */
          #createSizeCard(scale, image, description) {
              return DomBuilder.div({ class: 'card' }, [
                  DomBuilder.element('img', { src: image, alt: description })
              ]);
          }
      }

      /**
       *
       * @author Patrik Harag
       * @version 2023-08-19
       */
      class ActionDialogChangeElementSize extends Action {

          performAction(controller) {
              let elementSizeComponent = new ComponentViewElementSizeSelection();

              let dialog = new DomBuilder.BootstrapDialog();
              dialog.setHeaderContent('Adjust Scale');
              dialog.setBodyContent(DomBuilder.div({ class: 'sand-game-component' }, [
                  elementSizeComponent.createNode(controller)
              ]));
              dialog.addSubmitButton("Set size manually", () => {
                  new ActionDialogChangeCanvasSize().performAction(controller);
              });
              dialog.addCloseButton('Close');
              dialog.show(controller.getDialogAnchor());
          }
      }

      var _ASSET_SVG_ADJUST_SCALE = "<!-- @author Patrik Harag -->\r\n<svg width=\"64\" height=\"64\" viewBox=\"0 0 64 64\" xmlns=\"http://www.w3.org/2000/svg\">\r\n <g>\r\n  <rect stroke=\"#505050\" stroke-width=\"4\" id=\"svg_1\" height=\"24\" width=\"24\" y=\"35.5\" x=\"4.5\" fill=\"none\"/>\r\n  <rect stroke=\"#505050\" stroke-width=\"2\" stroke-dasharray=\"3,5\" id=\"svg_2\" height=\"54\" width=\"54\" y=\"4.5\" x=\"4.5\" fill=\"none\"/>\r\n  <line stroke=\"#505050\" id=\"svg_3\" y2=\"10.65089\" x2=\"51.9999\" y1=\"27.9524\" x1=\"34.38094\" stroke-width=\"4\" fill=\"none\"/>\r\n  <line stroke=\"#505050\" id=\"svg_4\" y2=\"11.28581\" x2=\"50.73007\" y1=\"13.98421\" x1=\"37.87298\" stroke-width=\"4\" fill=\"none\"/>\r\n  <line stroke=\"#505050\" id=\"svg_5\" y2=\"11.762\" x2=\"51.36499\" y1=\"23.82543\" x1=\"48.82531\" stroke-width=\"4\" fill=\"none\"/>\r\n </g>\r\n</svg>";

      /**
       *
       * @author Patrik Harag
       * @version 2023-08-19
       */
      class ComponentButtonAdjustScale extends Component {

          createNode(controller) {
              return DomBuilder.button(DomBuilder.create(_ASSET_SVG_ADJUST_SCALE), {
                  class: 'btn btn-outline-secondary adjust-scale',
                  'aria-label': 'Adjust scale'
              }, () => {
                  new ActionDialogChangeElementSize().performAction(controller);
              });
          }
      }

      /**
       *
       * @author Patrik Harag
       * @version 2023-08-19
       */
      class MainComponent extends Component {

          #init;
          #enableTestTools = false;

          constructor(init) {
              super();
              this.#init = init;
          }

          enableTestTools() {
              this.#enableTestTools = true;
          }

          createNode(controller) {
              let componentNode = DomBuilder.div({ class: 'sand-game-component' });

              controller.registerDialogAnchor(componentNode);

              componentNode.append(new ComponentViewTools(Tools.DEFAULT_TOOLS, true).createNode(controller));
              componentNode.append(new ComponentViewCanvas().createNode(controller));
              componentNode.append(new ComponentViewOptions().createNode(controller));
              componentNode.append(DomBuilder.div({ class: 'sand-game-views' }, [
                  DomBuilder.div(null, [
                      new ComponentButtonAdjustScale().createNode(controller),
                      DomBuilder.span('Scenes', { class: 'scenes-label' }),
                      new ComponentViewSceneSelection(controller, this.#init.scene).createNode(controller),
                  ]),
                  this.#enableTestTools ? new ComponentViewTestTools().createNode(controller) : null,
              ]));

              return componentNode;
          }
      }

      /**
       *
       * @author Patrik Harag
       * @version 2023-08-20
       */

      const brushes = {};
      for (let brush of Brushes.LIST) {
          brushes[brush.codeName] = brush.brush;
      }

      function determineSize(root) {
          let parentWidth;
          if (window.innerWidth <= 575) {
              parentWidth = window.innerWidth;  // no margins
          } else {
              parentWidth = root.width();
          }

          let width = Math.min(1400, parentWidth);
          let height = Math.min(800, Math.trunc(window.innerHeight * 0.70));
          if (width / height < 0.75) {
              height = Math.trunc(width / 0.75);
          }
          return {width, height};
      }

      function determineMaxNumberOfPoints() {
          const touchDevice = (navigator.maxTouchPoints || 'ontouchstart' in document.documentElement);
          if (touchDevice) {
              // probably a smartphone
              return 75000;
          } else {
              return 125000;
          }
      }

      function determineOptimalScale(width, height, maxPoints) {
          function countPointsWithScale(scale) {
              return Math.trunc(width * scale) * Math.trunc(height * scale);
          }

          if (countPointsWithScale(0.750) < maxPoints) {
              return 0.750;
          } else if (countPointsWithScale(0.5) < maxPoints) {
              return 0.5;
          } else if (countPointsWithScale(0.375) < maxPoints) {
              return 0.375;
          } else {
              return 0.25;
          }
      }

      function initStandard(root) {
          const {width, height} = determineSize(root);
          const scale = determineOptimalScale(width, height, determineMaxNumberOfPoints());

          const init = {
              scale: scale,
              canvasWidthPx: width,
              canvasHeightPx: height,
              scene: (Math.random() > 0.1) ? 'landscape_1' : 'landscape_2'
          };

          const controller = new Controller(init);
          const mainComponent = new MainComponent(init);
          const node = mainComponent.createNode(controller);
          root.append(node);

          controller.setup();
          controller.getIOManager().initFileDragAndDrop(node);
          controller.enableGlobalShortcuts();
          controller.start();

          Analytics.triggerFeatureUsed(Analytics.FEATURE_APP_INITIALIZED);

          return controller;
      }

      function initTest(root) {
          const {width, height} = determineSize(root);
          const scale = determineOptimalScale(width, height, determineMaxNumberOfPoints());

          const init = {
              scale: scale,
              canvasWidthPx: width,
              canvasHeightPx: height,
              scene: 'landscape_1'
          };

          const controller = new Controller(init);
          const mainComponent = new MainComponent(init);
          mainComponent.enableTestTools();
          const node = mainComponent.createNode(controller);
          root.append(node);

          controller.setup();
          controller.getIOManager().initFileDragAndDrop(node);
          controller.enableGlobalShortcuts();
          controller.start();

          Analytics.triggerFeatureUsed(Analytics.FEATURE_APP_INITIALIZED);

          return controller;
      }

      exports.brushes = brushes;
      exports.initStandard = initStandard;
      exports.initTest = initTest;

      Object.defineProperty(exports, '__esModule', { value: true });

  }));</script>
  <style>
  /*
   * @author Patrik Harag
   * @version 2023-08-10
   */

  .sand-game-component {
  }

  .sand-game-component.drag-and-drop-highlight {
      outline: rgba(0, 129, 255, 0.76) dashed thick;
      outline-offset: 2px;
  }

  .sand-game-component .sand-game-canvas-component .sand-game-canvas {
      outline: 1px solid #b7b7b7;
  }

  @media (max-width: 575px) {
      .sand-game-component .sand-game-canvas-component {
          margin-left: -15px;
          margin-right: -15px;
      }

      .sand-game-component .sand-game-canvas-component .sand-game-canvas {
          outline: none;
      }
  }

  .sand-game-component .sand-game-canvas-overlay {
      cursor: crosshair;
      user-select: none;
  }

  .sand-game-component .sand-game-tools {
      display: inline-block;
      user-select: none;
      margin-bottom: 4pt;
  }

  .sand-game-component .sand-game-tools .badge {
      margin-right: 3pt;
      padding: 0.4em 0.4em;
      border: none;
  }

  .sand-game-component .badge.air {
      background-color: rgb(230, 230, 230);
      color: black;
      margin-right: 0.8em;
  }

  .sand-game-component .badge.sand {
      background-color: rgb(183, 166, 67);
  }

  .sand-game-component .badge.soil {
      background-color: rgb(142, 104, 72);
  }

  .sand-game-component .badge.gravel {
      background-color: rgb(101, 101, 101);
  }

  .sand-game-component .badge.wall {
      background-color: rgb(56, 56, 56);
  }

  .sand-game-component .badge.wood {
      background-color: rgb(87, 48, 5);
  }

  .sand-game-component .badge.water {
      background-color: rgb(4, 135, 186);
  }

  .sand-game-component .badge.fire {
      background-color: #ff5900;
  }

  .sand-game-component .badge.fire.selected {
      outline: black solid 1px;
  }

  .sand-game-component .badge.meteor {
      background-color: #ff5900;
  }

  .sand-game-component .badge.meteor.selected {
      outline: black solid 1px;
  }

  .sand-game-component .badge.template {
      background-color: #82309d;
      margin-left: 0.4em;
  }

  .sand-game-component .badge.selected {
      outline: red solid 1px;
  }

  .sand-game-component .sand-game-options {
      white-space: nowrap;
      display: inline-block;
  }

  .sand-game-component .sand-game-options .btn {
      color: gray;
      padding: 0 0.5em 0 0.5em;
      margin-right: 0.5em;
      vertical-align: baseline;
      font-size: 75%;
  }

  .sand-game-component .sand-game-options .btn .bi {
      width: 12px;
      height: 12px;
      vertical-align: -1px;
  }

  .sand-game-component .sand-game-options .dropdown-menu .btn {
      font-size: 100%;
  }

  .sand-game-component .sand-game-options .dropdown-menu {
      user-select: none;
      font-size: small;
  }

  @media (max-width: 575px) {
      .sand-game-component .sand-game-options .status-label {
          display: none;
      }
  }

  .sand-game-component .sand-game-options .status-stopped {
      color: blue;
  }

  .sand-game-component .sand-game-options .status-best {
      color: green;
  }

  .sand-game-component .sand-game-options .status-good {
      color: green;
  }

  .sand-game-component .sand-game-options .status-medium {
      color: #ffcc00;
  }

  .sand-game-component .sand-game-options .status-low {
      color: #ff4400;
  }

  .sand-game-component .sand-game-options .status-poor {
      color: red;
  }

  .sand-game-component .sand-game-views:has(div) {
      margin: 1em 0 2em;
  }

  .sand-game-component .sand-game-views .btn-outline-secondary:hover {
      background-color: #ebebeb;
  }

  .sand-game-component .sand-game-views .adjust-scale {
      vertical-align: top;
      margin-right: 0.5em;
      height: 46px;
  }

  .sand-game-component .sand-game-views .adjust-scale svg {
      width: 30px;
      height: 30px;
  }

  .sand-game-component .sand-game-views .scenes-label {
      color: gray;
      font-size: small;
      transform: rotate(-70deg);
      display: inline-block;
      user-select: none;

      padding-left: 6px;
      margin-left: -6px;
      margin-right: -3px;
  }

  .sand-game-component .sand-game-views .scenes {
      display: inline;
  }

  .sand-game-component .sand-game-views .scenes .scene {
      color: black;
      cursor: pointer;
      display: inline-block;
      margin: 0 0.5em 0.5em 0;
      height: 46px;
      user-select: none;
      white-space: nowrap;
  }

  .sand-game-component .sand-game-views .scenes .scene .card-title {
      font-weight: 500;
      font-size: 100%;
  }

  .sand-game-component .sand-game-views .scenes .scene.visited-scene {
      background-color: #ebebeb;
  }

  .sand-game-component .sand-game-views .scenes .scene.visited-scene:hover {
      background-color: #dedede;
  }

  .sand-game-component .sand-game-views .scenes .scene.selected-scene {
      background-color: #ffffbd;
  }

  .sand-game-component .sand-game-views .scenes .scene.selected-scene:hover {
      background-color: #e8e8a5;
  }

  .sand-game-component .sand-game-views .card {
      margin: 0.5em 0;
  }

  .sand-game-component .element-size-options {
      white-space: nowrap;
  }

  .sand-game-component .element-size-options .card {
      cursor: pointer;
      display: inline-block;
      margin: 0.5em 0.5em 0.5em 0;
      width: 48pt;
      height: 32pt;
      user-select: none;
  }

  .sand-game-component .element-size-options .card img {
      width: 47pt;
      height: 31pt;
      border-radius: 0.25rem;
  }

  .sand-game-component .element-size-options .card:hover {
      background-color: #ebebeb;
  }

  .sand-game-component .element-size-options .card.selected-size {
      background-color: #ffffbd;
  }

  .sand-game-component .element-size-options .card.selected-size:hover {
      background-color: #e8e8a5;
  }

  .sand-game-component .test-tools .btn {
      margin-right: 0.5em;

      padding: 0 0.5em 0 0.5em;
      font-size: 75%;
  }

  .sand-game-component .sand-game-templates .template-button {
      margin-right: 0.5em;
      margin-top: 0.5em;
      background-position: center top;
      background-repeat: no-repeat;
      background-position-y: 5px;
      width: 100px;
      height: 100px;
      padding-top: 50px;  /* Label location */
  }
</style>
  <script>
      // global variables, accessible from browser console
      var sandGame = null;
      var brushes = null;

      $(() => {
          let root = $('#sand-game-root');
          root.empty();

          // const controller = SandGameJS.initStandard(root);
          const controller = SandGameJS.initTest(root);
          sandGame = controller.getSandGame();
          controller.addOnInitialized(s => {
              sandGame = s;
          });
          if (SandGameJS.brushes !== undefined) {
            brushes = SandGameJS.brushes;
            console.log('Globals:');
            console.log('  sandGame, brushes');
            console.log('Examples:');
            console.log('  sandGame.graphics().drawLine(10, 10, 300, 150, 2, brushes.sand);');
            console.log('  sandGame.graphics().draw(100, 20, brushes.meteor);');
          }
      });
  </script>
</head>
<body>
<main role="main" class="container">
  <h1>Sand Game JS</h1>
  <div id="sand-game-root">
    <!-- Sand Game JS placeholder -->
    <div style="user-select: none;">
      <div>
        <button disabled class="badge badge-secondary" type="button" style="min-width: 4em; padding: 0.4em 0.4em; border: none; background-color: rgb(230, 230, 230); color: black;">&nbsp;</button>
      </div>
      <div style="height: 70vh; display: flex; align-items: center; justify-content: center; margin-top: 4pt; padding: 2em; outline: 1px solid #b7b7b7;">
        <div>
          Loading...
        </div>
      </div>
      <div style="height: 20vh"></div>
    </div>
  </div>
</main>
<footer class="container" style="font-size: small">
  <p>
    <a href="https://github.com/Hartrik/sand-game-js">https://github.com/Hartrik/sand-game-js</a>
  </p>
</footer>
</body>
</html>